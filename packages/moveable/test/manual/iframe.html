<body>
    <iframe id="iframe" width="1000" height="1000"></iframe>
</body>
<script src="../../dist/moveable.js"></script>

<script>
    const iframeWindow = iframe.contentWindow;
    const iframeDocument = iframeWindow.document;
    const iframeBody = iframeDocument.body;
    iframeBody.innerHTML = `
    <div id="artwork" class="target target1"></div>
    <div class="target2"></div>
    <button>aa</button>
<style>
    .target1,
    .target2 {
        position: relative;
        width: 200px;
        height: 200px;
        background: #f55;
        border: 1px solid #333;
    }
</style>`;

    let hasInteracted = false;
    let isActive = true;
    let moveable;

    moveable = new Moveable(iframeBody, {
        target: iframeDocument.querySelector("#artwork"),
        className: "moveable",
        draggable: true,
        resizable: true,
        scalable: false,
        rotatable: true,
        isDisplaySnapDigit: false,
        snappable: true,
        snapThreshold: 5,
        snapGap: false,
        snapDirections: {
            top: true,
            right: true,
            bottom: true,
            left: true,
            center: true,
            middle: true,
        },
        elementSnapDirections: {
            top: true,
            right: true,
            bottom: true,
            left: true,
            center: true,
            middle: true,
        },
        // Enabling pinchable lets you use events that
        // can be used in draggable, resizable, scalable, and rotateable.
        pinchable: false, // ["resizable", "scalable", "rotatable"]
        origin: false,
        keepRatio: true,
        // Resize, Scale Events at edges.
        // edge: true,
        throttleDrag: 0,
        throttleResize: 0,
        throttleRotate: 0,
        padding: { left: 0, top: 0, right: 0, bottom: 0 },
    });

    /* draggable */
    moveable.on("drag", e => {
        console.log("drag", e.cssText);
        e.target.style.cssText += e.cssText;
    });

    moveable.on("resize", e => {
        console.log("resize", e.cssText);
        e.target.style.cssText += e.cssText;
    });

    /* rotatable */
    moveable.on("rotate", e => {
        console.log("onRotate", e.cssText);
        e.target.style.cssText += e.cssText;
    });
</script>
