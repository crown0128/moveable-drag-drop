/*
Copyright (c) 2019 Daybrush
name: moveable
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/moveable.git
version: 0.17.4
*/
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(t=t||self).Moveable=r()}(this,function(){"use strict";var n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)};function i(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var s=function(){return(s=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var i in r=arguments[e])Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t}).apply(this,arguments)};function u(t){return void 0===t}var t=function(){var t=function(){function t(){this._eventHandler={},this.options={}}var r=t.prototype;return r.trigger=function(t,r){void 0===r&&(r={});var e=this._eventHandler[t]||[];if(!(0<e.length))return!0;e=e.concat(),r.eventType=t;var n=!1,i=[r],a=0;r.stop=function(){n=!0},r.currentTarget=this;for(var o=arguments.length,s=new Array(2<o?o-2:0),u=2;u<o;u++)s[u-2]=arguments[u];for(1<=s.length&&(i=i.concat(s)),a=0;e[a];a++)e[a].apply(this,i);return!n},r.once=function(i,a){if("object"==typeof i&&u(a)){var t,r=i;for(t in r)this.once(t,r[t]);return this}if("string"==typeof i&&"function"==typeof a){var o=this;this.on(i,function t(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];a.apply(o,e),o.off(i,t)})}return this},r.hasOn=function(t){return!!this._eventHandler[t]},r.on=function(t,r){if("object"==typeof t&&u(r)){var e,n=t;for(e in n)this.on(e,n[e]);return this}if("string"==typeof t&&"function"==typeof r){var i=this._eventHandler[t];u(i)&&(this._eventHandler[t]=[],i=this._eventHandler[t]),i.push(r)}return this},r.off=function(t,r){if(u(t))return this._eventHandler={},this;if(u(r)){if("string"==typeof t)return this._eventHandler[t]=void 0,this;var e,n=t;for(e in n)this.off(e,n[e]);return this}var i,a,o=this._eventHandler[t];if(o)for(i=0;void 0!==(a=o[i]);i++)if(a===r){o=o.splice(i,1);break}return this},t}();return t.VERSION="2.1.2",t}();function m(r,e){return function(t){t&&(r[e]=t)}}function e(e,n){return function(t){var r=t.prototype;e.forEach(function(t){n(r,t)})}}var b=function(){function t(){this.keys=[],this.values=[]}var r=t.prototype;return r.get=function(t){return this.values[this.keys.indexOf(t)]},r.set=function(t,r){var e=this.keys,n=this.values,i=e.indexOf(t),a=-1===i?e.length:i;e[a]=t,n[a]=r},t}(),y=function(){function t(){this.object={}}var r=t.prototype;return r.get=function(t){return this.object[t]},r.set=function(t,r){this.object[t]=r},t}(),x="function"==typeof Map,a=function(){function t(){}var r=t.prototype;return r.connect=function(t,r){this.prev=t,this.next=r,t&&(t.next=this),r&&(r.prev=this)},r.disconnect=function(){var t=this.prev,r=this.next;t&&(t.next=r),r&&(r.prev=t)},r.getIndex=function(){for(var t=this,r=-1;t;)t=t.prev,++r;return r},t}();var E=function(){function t(t,r,e,n,i,a,o,s){this.prevList=t,this.list=r,this.added=e,this.removed=n,this.changed=i,this.maintained=a,this.changedBeforeAdded=o,this.fixed=s}var r=t.prototype;return Object.defineProperty(r,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(r,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),r.caculateOrdered=function(){var t,e,s,u,r=(t=this.changedBeforeAdded,e=this.fixed,s=[],u=[],t.forEach(function(t){var r=t[0],e=t[1],n=new a;s[r]=n,u[e]=n}),s.forEach(function(t,r){t.connect(s[r-1])}),t.filter(function(t,r){return!e[r]}).map(function(t,r){var e=t[0],n=t[1];if(e===n)return[0,0];var i=s[e],a=u[n-1],o=i.getIndex();return i.disconnect(),a?i.connect(a,a.next):i.connect(void 0,s[0]),[o,i.getIndex()]})),c=this.changed,f=[];this.cacheOrdered=r.filter(function(t,r){var e=t[0],n=t[1],i=c[r],a=i[0],o=i[1];if(e!==n)return f.push([a,o]),!0}),this.cachePureChanged=f},t}();function c(t,r,e){var n=x?Map:e?y:b,i=e||function(t){return t},a=[],o=[],s=[],u=t.map(i),c=r.map(i),f=new n,l=new n,p=[],h=[],d={},g=[],v=0,m=0;return u.forEach(function(t,r){f.set(t,r)}),c.forEach(function(t,r){l.set(t,r)}),u.forEach(function(t,r){var e=l.get(t);void 0===e?(++m,o.push(r)):d[e]=m}),c.forEach(function(t,r){var e=f.get(t);void 0===e?(a.push(r),++v):(s.push([e,r]),m=d[r]||0,p.push([e-m,r-v]),h.push(r===e),e!==r&&g.push([e,r]))}),o.reverse(),new E(t,r,a,o,g,s,p,h)}var r=function(){function t(t,r){void 0===t&&(t=[]),this.findKeyCallback=r,this.list=[].slice.call(t)}return t.prototype.update=function(t){var r=[].slice.call(t),e=c(this.list,r,this.findKeyCallback);return this.list=r,e},t}(),l="function",o="object",f="string",p="undefined",h=['"',"'",'\\"',"\\'"];function N(t){return typeof t===p}function I(t){return t&&typeof t===o}function dt(t){return Array.isArray(t)}function d(t){return typeof t===f}function g(t,r,e,n){for(var i=e;i<n;++i){var a=r[i].trim();if(a===t)return i;var o=i;if("("===a?o=g(")",r,i+1,n):-1<h.indexOf(a)&&(o=g(a,r,i+1,n)),-1===o)break;i=o}return-1}function v(t){return function(t,r){for(var e=t.split(/(\s*,\s*|\(|\)|"|'|\\"|\\'|\s+)/g).filter(Boolean),n=e.length,i=[],a=[],o=0;o<n;++o){var s=e[o].trim(),u=o;if("("===s)u=g(")",e,o+1,n);else{if(")"===s)throw new Error("invalid format");if(-1<h.indexOf(s))u=g(s,e,o+1,n);else if(s===r){a.length&&(i.push(a.join("")),a=[]);continue}}-1===u&&(u=n-1),a.push(e.slice(o,u+1).join("")),o=u}return a.length&&i.push(a.join("")),i}(t,",")}function w(t){var r=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!r)return{prefix:"",unit:"",value:NaN};var e=r[1],n=r[2];return{prefix:e,unit:r[3],value:parseFloat(n)}}function S(t,r,e){void 0===e&&(e=-1);for(var n=t.length,i=0;i<n;++i)if(r(t[i],i,t))return i;return e}function M(t,r){return t.classList?t.classList.contains(r):!!t.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)"))}function D(t,r,e,n){t.addEventListener(r,e,n)}function C(t,r,e){t.removeEventListener(r,e)}var P=function(t,r){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)};function O(t,r){function e(){this.constructor=t}P(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var R=function(){return(R=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var i in r=arguments[e])Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t}).apply(this,arguments)};function z(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(e[n[i]]=t[n[i]])}return e}function B(t,r){if(t===r)return!1;for(var e in t)if(!(e in r))return!0;for(var e in r)if(t[e]!==r[e])return!0;return!1}function _(i,a){var o=Object.keys(i),e=Object.keys(a),t=c(o,e,function(t){return t}),n={},s={},u={};return t.added.forEach(function(t){var r=e[t];n[r]=a[r]}),t.removed.forEach(function(t){var r=o[t];s[r]=i[r]}),t.maintained.forEach(function(t){var r=t[0],e=o[r],n=[i[e],a[e]];i[e]!==a[e]&&(u[e]=n)}),{added:n,removed:s,changed:u}}function G(t){t.forEach(function(t){t()})}function T(t){var r=0;return t.map(function(t){return null==t?"$compat"+ ++r:""+t})}function A(t,r,e,n){return d(t)?new j("text_"+t,r,e,n,null,{}):new("string"==typeof t.type?H:t.type.prototype.render?U:F)(t.type,r,e,n,t.ref,t.props)}function Y(t){var r=t.className,e=z(t,["className"]);return null!=r&&(e.class=r),delete e.style,delete e.children,e}function k(t,r){if(!r)return t;for(var e in r)N(t[e])&&(t[e]=r[e]);return t}function X(t,r){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var i=r||{},a=i.key,o=i.ref,s=z(i,["key","ref"]);return{type:t,key:a,ref:o,props:R(R({},s),{children:function r(t){var e=[];return t.forEach(function(t){e=e.concat(dt(t)?r(t):t)}),e}(e).filter(function(t){return null!=t})})}}var q=function(){function t(t,r,e,n,i,a){void 0===a&&(a={}),this.type=t,this.key=r,this.index=e,this.container=n,this.ref=i,this.props=a,this._providers=[]}var r=t.prototype;return r._should=function(t,r){return!0},r._update=function(t,r,e,n){if(this.base&&!d(r)&&!n&&!this._should(r.props,e))return!1;this.original=r,this._setState(e);var i=this.props;return d(r)||(this.props=r.props,this.ref=r.ref),this._render(t,this.base?i:{},e),!0},r._mounted=function(){var t=this.ref;t&&t(this.base)},r._setState=function(t){},r._updated=function(){var t=this.ref;t&&t(this.base)},r._destroy=function(){var t=this.ref;t&&t(null)},t}();function W(t){var r={},e={};for(var n in t)0===n.indexOf("on")?e[n.replace("on","").toLowerCase()]=t[n]:r[n]=t[n];return{attributes:r,events:e}}var j=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}O(r,t);var e=r.prototype;return e._render=function(t){var r=this,e=!this.base;return e&&(this.base=document.createTextNode(this.type.replace("text_",""))),t.push(function(){e?r._mounted():r._updated()}),!0},e._unmount=function(){this.base.parentNode.removeChild(this.base)},r}(q),H=function(r){function t(){var t=null!==r&&r.apply(this,arguments)||this;return t.events={},t}O(t,r);var e=t.prototype;return e.addEventListener=function(t,r){var e=this.events;e[t]=function(t){t.nativeEvent=t,r(t)},this.base.addEventListener(t,e[t])},e.removeEventListener=function(t){var r=this.events;this.base.removeEventListener(t,r[t]),delete r[t]},e._should=function(t){return B(this.props,t)},e._render=function(t,r){var e=this,n=!this.base;n&&(this.base=document.createElement(this.type)),Q(this,this._providers,this.props.children,t,null);var i=this.base,a=W(r),o=a.attributes,s=a.events,u=W(this.props),c=u.attributes,f=u.events;return function(t,r,e){var n=_(t,r),i=n.added,a=n.removed,o=n.changed;for(var s in i)e.setAttribute(s,i[s]);for(var s in o)e.setAttribute(s,o[s][1]);for(var s in a)e.removeAttribute(s)}(Y(o),Y(c),i),function(t,r,e){var n=_(t,r),i=n.added,a=n.removed,o=n.changed;for(var s in a)e.removeEventListener(s);for(var s in i)e.addEventListener(s,i[s]);for(var s in o)e.removeEventListener(s),e.addEventListener(s,o[s][1]);for(var s in a)e.removeEventListener(s)}(s,f,this),function(t,r,e){var n=e.style,i=_(t,r),a=i.added,o=i.removed,s=i.changed;for(var u in a)n[u]=a[u];for(var u in s)n[u]=s[u][1];for(var u in o)n[u]=""}(r.style||{},this.props.style||{},i),t.push(function(){n?e._mounted():e._updated()}),!0},e._unmount=function(){var t=this.events,r=this.base;for(var e in t)r.removeEventListener(e,t[e]);this._providers.forEach(function(t){t._unmount()}),this.events={},r.parentNode.removeChild(r)},t}(q);function L(t){if(!t)return null;if(t instanceof Node)return t;var r=t._provider._providers;return r.length?L(r[0].base):null}var F=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}O(r,t);var e=r.prototype;return e._render=function(t){var r=this.type(this.props);return Q(this,this._providers,r?[r]:[],t),!0},e._unmount=function(){this._providers.forEach(function(t){t._unmount()})},r}(q),V=function(e){function t(t){var r=e.call(this,"container","container",0,null)||this;return r.base=t,r}O(t,e);var r=t.prototype;return r._render=function(){return!0},r._unmount=function(){},t}(q),U=function(o){function t(t,r,e,n,i,a){return void 0===a&&(a={}),o.call(this,t,r,e,n,i,k(a,t.defaultProps))||this}O(t,o);var r=t.prototype;return r._should=function(t,r){return this.base.shouldComponentUpdate(k(t,this.type.defaultProps),r||this.base.state)},r._render=function(t,r,e){var n=this;this.props=k(this.props,this.type.defaultProps);var i=!this.base;i?(this.base=new this.type(this.props),this.base._provider=this):this.base.props=this.props;var a=this.base,o=a.state,s=a.render();s&&s.props&&!s.props.children.length&&(s.props.children=this.props.children),Q(this,this._providers,s?[s]:[],t,e,null),t.push(function(){i?(n._mounted(),a.componentDidMount()):(n._updated(),a.componentDidUpdate(r,o))})},r._setState=function(t){t&&(this.base.state=t)},r._unmount=function(){this._providers.forEach(function(t){t._unmount()}),this.base.componentWillUnmount()},t}(q),K=function(){function t(t){void 0===t&&(t={}),this.props=t,this.state={}}var r=t.prototype;return r.shouldComponentUpdate=function(t,r){return!0},r.render=function(){return null},r.setState=function(t,r,e){var n=[],i=this._provider;Q(i.container,[i],[i.original],n,R(R({},this.state),t),e)&&(r&&n.push(r),G(n))},r.forceUpdate=function(t){this.setState(this.state,t,!0)},r.componentDidMount=function(){},r.componentDidUpdate=function(t,r){},r.componentWillUnmount=function(){},t}(),$=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return O(r,t),r.prototype.shouldComponentUpdate=function(t,r){return B(this.props,t)||B(this.state,r)},r}(K),J=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}O(r,t);var e=r.prototype;return e.componentDidMount=function(){var t=this.props,r=t.element,e=t.container;this._portalProvider=new V(e),tt(r,e,this._portalProvider)},e.componentDidUpdate=function(){var t=this.props;tt(t.element,t.container,this._portalProvider)},e.componentWillUnmount=function(){tt(null,this.props.container,this._portalProvider),this._portalProvider=null},r}($);function Z(i,o,a){var s=a.map(function(t){return d(t)?null:t.key}),t=c(T(o.map(function(t){return t.key})),T(s),function(t){return t});t.removed.forEach(function(t){o.splice(t,1)[0]._unmount()}),t.ordered.forEach(function(t){var r=t[0],e=t[1],n=o.splice(r,1)[0];o.splice(e,0,n);var i=L(n.base),a=L(o[e+1]&&o[e+1].base);i&&i.parentNode.insertBefore(i,a)}),t.added.forEach(function(t){o.splice(t,0,A(a[t],s[t],t,i))});var r=t.maintained.filter(function(t){t[0];var r=t[1],e=a[r],n=o[r];return(d(e)?"text_"+e:e.type)!==n.type?(n._unmount(),o.splice(r,1,A(e,s[r],r,i)),!0):(n.index=r,!1)});return function(){for(var t=0,r=0,e=arguments.length;r<e;r++)t+=arguments[r].length;var n=Array(t),i=0;for(r=0;r<e;r++)for(var a=arguments[r],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}(t.added,r.map(function(t){t[0];return t[1]}))}function Q(i,a,e,n,o,s){var t=Z(i,a,e),r=a.filter(function(t,r){return t._update(n,e[r],o,s)}),u=function t(r){if(!r)return null;var e=r.base;return e instanceof Node?e:t(r.container)}(i);return u&&t.reverse().forEach(function(t){var r=a[t],e=L(r.base);if(e&&u!==e&&!e.parentNode){var n=function(t,r){for(var e=t._providers,n=e.length,i=r.index+1;i<n;++i){var a=L(e[i].base);if(a)return a}return null}(i,r);u.insertBefore(e,n)}}),0<r.length}function tt(t,r,e){void 0===e&&(e=r.__REACT_COMPAT__);var n,i,a,o,s=!!e;return e=e||new V(r),i=t?[t]:[],o=[],Q(n=e,n._providers,i,o,a),G(o),s||(r.__REACT_COMPAT__=e),e}function rt(t,r,e){var n=r.__REACT_COMPAT__;t&&!n&&(r.innerHTML=""),tt(t,r,n),e&&e()}var et=("undefined"!=typeof window&&window||{}).navigator,nt={browser:[{criteria:"PhantomJS",identity:"PhantomJS"},{criteria:/Whale/,identity:"Whale",versionSearch:"Whale"},{criteria:/Edge/,identity:"Edge",versionSearch:"Edge"},{criteria:/MSIE|Trident|Windows Phone/,identity:"IE",versionSearch:"IEMobile|MSIE|rv"},{criteria:/MiuiBrowser/,identity:"MIUI Browser",versionSearch:"MiuiBrowser"},{criteria:/SamsungBrowser/,identity:"Samsung Internet",versionSearch:"SamsungBrowser"},{criteria:/SAMSUNG /,identity:"Samsung Internet",versionSearch:"Version"},{criteria:/Chrome|CriOS/,identity:"Chrome"},{criteria:/Android/,identity:"Android Browser",versionSearch:"Version"},{criteria:/iPhone|iPad/,identity:"Safari",versionSearch:"Version"},{criteria:"Apple",identity:"Safari",versionSearch:"Version"},{criteria:"Firefox",identity:"Firefox"}],os:[{criteria:/Windows Phone/,identity:"Windows Phone",versionSearch:"Windows Phone"},{criteria:"Windows 2000",identity:"Window",versionAlias:"5.0"},{criteria:/Windows NT/,identity:"Window",versionSearch:"Windows NT"},{criteria:/iPhone|iPad/,identity:"iOS",versionSearch:"iPhone OS|CPU OS"},{criteria:"Mac",versionSearch:"OS X",identity:"MAC"},{criteria:/Android/,identity:"Android"},{criteria:/Tizen/,identity:"Tizen"},{criteria:/Web0S/,identity:"WebOS"}],webview:[{criteria:/iPhone|iPad/,browserVersionSearch:"Version",webviewBrowserVersion:/-1/},{criteria:/iPhone|iPad|Android/,webviewToken:/NAVER|DAUM|; wv/}],defaultString:{browser:{version:"-1",name:"unknown"},os:{version:"-1",name:"unknown"}}};function it(t,r){for(var e=[],n=0;n<t.length;n++)r(t[n])&&e.push(t[n]);return e}var at=void 0;function ot(t,r){return r&&r.test?!!r.test(t):-1<t.indexOf(r)}function st(t,r){var e=it(t,function(t){return ot(at,t.criteria)})[0];return e&&e.identity||r.name}function ut(t,n){return it(t,function(t){var r=t.criteria,e=new RegExp(t.identity,"i").test(n);return!!(r?e&&ot(at,r):e)})[0]}function ct(t,r){var e=nt.defaultString.browser.version,n=new RegExp("("+t+")","i").exec(r);if(!n)return e;var i=n.index,a=n[0];if(-1<i){var o=i+a.length+1;e=r.substring(o).split(" ")[0].replace(/_/g,".").replace(/;|\)/g,"")}return e}function ft(t){var r;if(t)return ct((r=t,ut(nt.browser,r)||{criteria:r,versionSearch:r,identity:r}).versionSearch||t,at)}function lt(){var t=nt.webview,r=void 0;return function(t,r){for(var e=0;e<t.length;e++)if(r(t[e]))return!0;return!1}(it(t,function(t){return ot(at,t.criteria)}),function(t){return r=ct(t.browserVersionSearch,at),!(!ot(at,t.webviewToken)&&!ot(r,t.webviewBrowserVersion))})}function pt(t){var r,e=(r=t,ut(nt.os,r)||{}),n=nt.defaultString.os.version,i=void 0;if(t){if(e.versionAlias)return e.versionAlias;var a=new RegExp("("+(e.versionSearch||t)+")\\s([\\d_\\.]+|\\d_0)","i");return a.exec(at)&&(i=a.exec(at)[2].replace(/_/g,".").replace(/;|\)/g,"")),i||n}}function ht(){var t=st(nt.os,nt.defaultString.os);return{name:t,version:pt(t)}}function gt(){var t=st(nt.browser,nt.defaultString.browser);return{name:t,version:ft(t),webview:lt()}}function vt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:et.userAgent;at=t;var r={os:ht(),browser:gt(),isMobile:-1!==at.indexOf("Mobi")};return r.browser.name=r.browser.name.toLowerCase(),r.os.name=r.os.name.toLowerCase(),r.os.version=r.os.version.toLowerCase(),"ios"===r.os.name&&r.browser.webview&&(r.browser.version="-1"),r}function mt(t,r,e,n,i,a){for(var o=e;o<n;++o)t[o]+=t[i+o-e]*a,r[o]+=r[i+o-e]*a}function bt(t,r,e,n,i){for(var a=e;a<n;++a){var o=t[a],s=r[a];t[a]=t[i+a-e],t[i+a-e]=o,r[a]=r[i+a-e],r[i+a-e]=s}}function yt(t,r,e,n,i){for(var a=e;a<n;++a)t[a]/=i,r[a]/=i}function xt(t,r,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),i=0;i<e;++i)n[i*e+r-1]=0,n[(r-1)*e+i]=0;return n[(r-1)*(e+1)]=1,n}function Et(t,r){void 0===r&&(r=Math.sqrt(t.length));for(var e=t.slice(),n=It(r),i=0;i<r;++i){var a=r*i,o=r*(i+1),s=a+i;if(0===e[s])for(var u=i+1;u<r;++u)if(e[r*u+i]){bt(e,n,a,o,r*u);break}if(!e[s])return[];yt(e,n,a,o,e[s]);for(u=0;u<r;++u){var c=r*u,f=c+r,l=e[c+i];0!==l&&i!==u&&mt(e,n,c,f,a,-l)}}return n}function St(t,r){void 0===r&&(r=Math.sqrt(t.length));for(var e=[],n=0;n<r;++n)for(var i=0;i<r;++i)e[i*r+n]=t[r*n+i];return e}function Mt(t,r){var e=r[0]-t[0],n=r[1]-t[1],i=Math.atan2(n,e);return 0<=i?i:i+2*Math.PI}function Dt(t,r){for(var e=t.slice(),n=t.length;n<r-1;++n)e[n]=0;return e[r-1]=1,e}function wt(t,r,e){if(void 0===r&&(r=Math.sqrt(t.length)),r===e)return t;for(var n=It(e),i=Math.min(r,e),a=0;a<i-1;++a){for(var o=0;o<i-1;++o)n[a*e+o]=t[a*r+o];n[(a+1)*e-1]=t[(a+1)*r-1],n[(e-1)*e+a]=t[(r-1)*r+a]}return n[e*e-1]=t[r*r-1],n}function Ct(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var n=It(r);return t.forEach(function(t){n=Pt(n,t,r)}),n}function Pt(t,r,e){var n=[],i=t.length/e,a=r.length/i;if(!i)return r;if(!a)return t;for(var o=0;o<e;++o)for(var s=0;s<a;++s)for(var u=n[o*a+s]=0;u<i;++u)n[o*a+s]+=t[o*i+u]*r[u*a+s];return n}function Ot(t,r,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],i=t.length/e,a=r.length/i,o=0;o<e;++o)for(var s=0;s<a;++s)for(var u=n[o+s*a]=0;u<i;++u)n[o+s*a]+=t[o+u*i]*r[u+s*a];return n}function Rt(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var e=t.length,n=0,i=e-1;0<=i;--i)n+=t[i];return e?n/e:0}function zt(t,r){for(var e=Math.min(t.length,r.length),n=t.slice(),i=0;i<e;++i)n[i]=n[i]+r[i];return n}function Bt(t,r){for(var e=Math.min(t.length,r.length),n=t.slice(),i=0;i<e;++i)n[i]=n[i]-r[i];return n}function _t(t,r,e){void 0===e&&(e=r.length);var n=Pt(t,r,e),i=n[e-1];return n.map(function(t){return t/i})}function Gt(t,r){return _t(At(r,3),Dt(t,3))}function Tt(t){return 9===t.length?[t[0],t[3],t[1],t[4],t[2],t[5]]:St(t)}function At(t,r){var e=Math.cos(t),n=Math.sin(t),i=It(r);return i[0]=e,i[1]=-n,i[r]=n,i[r+1]=e,i}function It(t){for(var r=t*t,e=[],n=0;n<r;++n)e[n]=n%(t+1)?0:1;return e}function Yt(t,r){for(var e=It(r),n=Math.min(t.length,r-1),i=0;i<n;++i)e[(r+1)*i]=t[i];return e}function kt(t,r){for(var e=It(r),n=Math.min(t.length,r-1),i=0;i<n;++i)e[r*(i+1)-1]=t[i];return e}function Nt(t,r,e,n,i,a,o,s){var u=t[0],c=t[1],f=r[0],l=r[1],p=e[0],h=e[1],d=n[0],g=n[1],v=i[0],m=i[1],b=a[0],y=a[1],x=o[0],E=o[1],S=s[0],M=s[1],D=Et([u,c,1,0,0,0,-v*u,-v*c,0,0,0,u,c,1,-m*u,-m*c,f,l,1,0,0,0,-b*f,-b*l,0,0,0,f,l,1,-y*f,-y*l,p,h,1,0,0,0,-x*p,-x*h,0,0,0,p,h,1,-E*p,-E*h,d,g,1,0,0,0,-S*d,-S*g,0,0,0,d,g,1,-M*d,-M*g],8);if(!D.length)return[];var w=Pt(D,[v,m,b,y,x,E,S,M],8);return w[8]=1,wt(w,3,4)}vt.VERSION="2.1.5";var Xt=function(t){for(var r=5381,e=t.length;e;)r=33*r^t.charCodeAt(--e);return r>>>0};function qt(u){var c,f="rCS"+Xt(u).toString(36),l=0;return{className:f,inject:function(t){var r,e,n,i,a,o=function(t){if(t.getRootNode){var r=t.getRootNode();if(11===r.nodeType)return r}}(t),s=0===l;return(o||s)&&(e=f,n=u,i=o,(a=document.createElement("style")).setAttribute("type","text/css"),a.innerHTML=n.replace(/([^}{]*){/gm,function(t,r){return v(r).map(function(t){return-1<t.indexOf(":global")?t.replace(/\:global/g,""):-1<t.indexOf(":host")?""+t.replace(/\:host/g,"."+e):"."+e+" "+t}).join(", ")+"{"}),(i||document.head||document.body).appendChild(a),r=a),s&&(c=r),o||++l,{destroy:function(){o?(t.removeChild(r),r=null):(0<l&&--l,0===l&&c&&(c.parentNode.removeChild(c),c=null))}}}}}var Wt=function(t,r){return(Wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)};var jt=function(){return(jt=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var i in r=arguments[e])Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t}).apply(this,arguments)};var Ht=function(){return(Ht=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var i in r=arguments[e])Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t}).apply(this,arguments)};function Lt(t,r,e,n){var i=Zt(t),a=Zt(r),o=Zt(n);return Vt(Qt(n[0],tr(i,o)),Qt(n[0],tr(a,o)),e[0])}function Ft(t){return t.touches?$t(t.touches):[Jt(t)]}function Vt(t,r,e){var n=t.clientX,i=t.clientY;return{clientX:n,clientY:i,deltaX:n-r.clientX,deltaY:i-r.clientY,distX:n-e.clientX,distY:i-e.clientY}}function Ut(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function Kt(t,e,n){return t.map(function(t,r){return Vt(t,e[r],n[r])})}function $t(t){for(var r=Math.min(t.length,2),e=[],n=0;n<r;++n)e.push(Jt(t[n]));return e}function Jt(t){return{clientX:t.clientX,clientY:t.clientY}}function Zt(t){return 1===t.length?t[0]:{clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function Qt(t,r){return{clientX:t.clientX+r.clientX,clientY:t.clientY+r.clientY}}function tr(t,r){return{clientX:t.clientX-r.clientX,clientY:t.clientY-r.clientY}}var rr=function(){function t(t,r){var f=this;void 0===r&&(r={}),this.options={},this.flag=!1,this.pinchFlag=!1,this.datas={},this.isDrag=!1,this.isPinch=!1,this.isMouse=!1,this.isTouch=!1,this.prevClients=[],this.startClients=[],this.movement=0,this.startPinchClients=[],this.startDistance=0,this.customDist=[0,0],this.targets=[],this.onDragStart=function(t){if(f.flag||!1!==t.cancelable){var r,e=f.options,n=e.container,i=e.pinchOutside,a=e.dragstart,o=e.preventRightClick,s=f.isTouch;if(!f.flag&&s&&i&&setTimeout(function(){D(n,"touchstart",f.onDragStart)}),f.flag&&s&&i&&C(n,"touchstart",f.onDragStart),(r=t).touches&&2<=r.touches.length){if(!f.flag&&t.touches.length!==t.changedTouches.length)return;f.pinchFlag||f.onPinchStart(t)}if(!f.flag){var u=f.startClients[0]?f.startClients:Ft(t);f.customDist=[0,0],f.flag=!0,f.isDrag=!1,f.startClients=u,f.prevClients=u,f.datas={};var c=Vt(u[f.movement=0],f.prevClients[0],f.startClients[0]);(o&&3===t.which||!1===(a&&a(Ht({type:"dragstart",datas:f.datas,inputEvent:t},c))))&&(f.startClients=[],f.prevClients=[],f.flag=!1),f.flag&&t.preventDefault()}}},this.onDrag=function(t,r){if(f.flag){var e=Ft(t);f.pinchFlag&&f.onPinch(t,e);var n=f.move([0,0],t,e);if(n&&(n.deltaX||n.deltaY)){var i=f.options.drag;i&&i(Ht({},n,{isScroll:!!r,inputEvent:t}))}}},this.onDragEnd=function(t){if(f.flag){var r=f.options,e=r.dragend,n=r.pinchOutside,i=r.container;f.isTouch&&n&&C(i,"touchstart",f.onDragStart),f.pinchFlag&&f.onPinchEnd(t),f.flag=!1;var a=f.prevClients,o=f.startClients,s=f.pinchFlag?Lt(a,a,o,f.startPinchClients):Vt(a[0],a[0],o[0]);f.startClients=[],f.prevClients=[],e&&e(Ht({type:"dragend",datas:f.datas,isDrag:f.isDrag,inputEvent:t},s))}};var e=[].concat(t);this.options=Ht({container:1<e.length?window:e[0],preventRightClick:!0,preventDefault:!0,pinchThreshold:0,events:["touch","mouse"]},r);var n=this.options,i=n.container,a=n.events;if(this.isTouch=-1<a.indexOf("touch"),this.isMouse=-1<a.indexOf("mouse"),this.customDist=[0,0],this.targets=e,this.isMouse&&(e.forEach(function(t){D(t,"mousedown",f.onDragStart)}),D(i,"mousemove",this.onDrag),D(i,"mouseup",this.onDragEnd)),this.isTouch){var o={passive:!1};e.forEach(function(t){D(t,"touchstart",f.onDragStart,o)}),D(i,"touchmove",this.onDrag,o),D(i,"touchend",this.onDragEnd,o),D(i,"touchcancel",this.onDragEnd,o)}}var r=t.prototype;return r.isDragging=function(){return this.isDrag},r.isFlag=function(){return this.flag},r.isPinching=function(){return this.isPinch},r.scrollBy=function(r,e,t,n){void 0===n&&(n=!0),this.flag&&(this.startClients.forEach(function(t){t.clientX-=r,t.clientY-=e}),this.prevClients.forEach(function(t){t.clientX-=r,t.clientY-=e}),n&&this.onDrag(t,!0))},r.move=function(t,r,e){var n=t[0],i=t[1];void 0===e&&(e=this.prevClients);var a=this.customDist,o=this.prevClients,s=this.startClients,u=this.pinchFlag?Lt(e,o,s,this.startPinchClients):Vt(e[0],o[0],s[0]);a[0]+=n,a[1]+=i,u.deltaX+=n,u.deltaY+=i;var c=u.deltaX,f=u.deltaY;return u.distX+=a[0],u.distY+=a[1],this.movement+=Math.sqrt(c*c+f*f),this.prevClients=e,this.isDrag=!0,Ht({type:"drag",datas:this.datas},u,{isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:r})},r.onPinchStart=function(t){var r,e,n=this.options,i=n.pinchstart,a=n.pinchThreshold;if(!(this.isDrag&&this.movement>a)){var o=$t(t.changedTouches);if(this.pinchFlag=!0,(r=this.startClients).push.apply(r,o),(e=this.prevClients).push.apply(e,o),this.startDistance=Ut(this.prevClients),this.startPinchClients=this.prevClients.slice(),i){var s=this.prevClients,u=Zt(s),c=Vt(u,u,u);i(Ht({type:"pinchstart",datas:this.datas,touches:Kt(s,s,s)},c,{inputEvent:t}))}}},r.onPinch=function(t,r){if(this.flag&&this.pinchFlag&&!(r.length<2)){this.isPinch=!0;var e=this.options.pinch;if(e){var n=this.prevClients,i=this.startClients,a=Vt(Zt(r),Zt(n),Zt(i)),o=Ut(r);e(Ht({type:"pinch",datas:this.datas,touches:Kt(r,n,i),scale:o/this.startDistance,distance:o},a,{inputEvent:t}))}}},r.onPinchEnd=function(t){if(this.flag&&this.pinchFlag){var r=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var e=this.options.pinchend;if(e){var n=this.prevClients,i=this.startClients,a=Vt(Zt(n),Zt(n),Zt(i));e(Ht({type:"pinchend",datas:this.datas,isPinch:r,touches:Kt(n,n,i)},a,{inputEvent:t})),this.isPinch=!1,this.pinchFlag=!1}}},r.unset=function(){var r=this,t=this.targets,e=this.options.container;this.isMouse&&(t.forEach(function(t){C(t,"mousedown",r.onDragStart)}),C(e,"mousemove",this.onDrag),C(e,"mouseup",this.onDragEnd)),this.isTouch&&(t.forEach(function(t){C(t,"touchstart",r.onDragStart)}),C(e,"touchstart",this.onDragStart),C(e,"touchmove",this.onDrag),C(e,"touchend",this.onDragEnd),C(e,"touchcancel",this.onDragEnd))},t}(),er=function(t,r){return(er=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)};function nr(t){var r=t.container;return[r.scrollLeft,r.scrollTop]}var ir=function(r){function t(){this.constructor=e}var e,n;function i(){var t=null!==r&&r.apply(this,arguments)||this;return t.startRect=null,t.startPos=[],t.prevTime=0,t.timer=0,t}er(e=i,n=r),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t);var a=i.prototype;return a.dragStart=function(t,r){var e=r.container.getBoundingClientRect(),n=e.top,i=e.left,a=e.width,o=e.height;this.startPos=[t.clientX,t.clientY],this.startRect={top:n,left:i,width:a,height:o}},a.drag=function(t,r){var e=this,n=t.clientX,i=t.clientY,a=r.container,o=r.threshold,s=void 0===o?0:o,u=r.throttleTime,c=void 0===u?0:u,f=r.getScrollPosition,l=void 0===f?nr:f,p=this.startRect,h=this.startPos,d=Date.now?Date.now():(new Date).getTime(),g=Math.max(c+this.prevTime-d,0),v=[0,0];if(p.top>i-s?(h[1]>p.top||i<h[1])&&(v[1]=-1):p.top+p.height<i+s&&(h[1]<p.top+p.height||i>h[1])&&(v[1]=1),p.left>n-s?(h[0]>p.left||n<h[0])&&(v[0]=-1):p.left+p.width<n+s&&(h[0]<p.left+p.width||n>h[0])&&(v[0]=1),clearTimeout(this.timer),!v[0]&&!v[1])return!1;if(0<g)return this.timer=window.setTimeout(function(){e.drag(t,r)},g),!1;this.prevTime=d;var m=l({container:a,direction:v});this.trigger("scroll",{container:a,direction:v,inputEvent:t});var b=l({container:a,direction:v}),y=b[0]-m[0],x=b[1]-m[1];return!(!y&&!x)&&(this.trigger("move",{offsetX:v[0]?y:0,offsetY:v[1]?x:0,inputEvent:t}),c&&(this.timer=window.setTimeout(function(){e.drag(t,r)},c)),!0)},a.dragEnd=function(){clearTimeout(this.timer)},i}(t),ar=function(t,r){return(ar=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)};var or,sr="function"==typeof Map?void 0:(or=0,function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++or)}),ur=function(r){function t(){this.constructor=e}var e,n;function i(t){return void 0===t&&(t=[]),r.call(this,t,sr)||this}return ar(e=i,n=r),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t),i}(r),cr=function(t,r){return(cr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)};function fr(t,r){function e(){this.constructor=t}cr(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var lr=function(){return(lr=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var i in r=arguments[e])Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t}).apply(this,arguments)};function pr(t,r){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'+32*t+'px" height="'+32*t+'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate('+r+'deg);transform-origin: 16px 16px"></path></svg>'}var hr,dr=vt(),gr=-1<dr.os.name.indexOf("ios")||-1<dr.browser.name.indexOf("safari"),vr="moveable-",mr=(hr=vr,("\n{\n\tposition: fixed;\n\twidth: 0;\n\theight: 0;\n\tleft: 0;\n\ttop: 0;\n    z-index: 3000;\n    --zoom: 1;\n    --zoompx: 1px;\n}\n.control-box {\n    z-index: 0;\n}\n.line, .control {\n\tleft: 0;\n    top: 0;\n    will-change: transform;\n}\n.control {\n\tposition: absolute;\n\twidth: 14px;\n\theight: 14px;\n\tborder-radius: 50%;\n\tborder: 2px solid #fff;\n\tbox-sizing: border-box;\n\tbackground: #4af;\n\tmargin-top: -7px;\n    margin-left: -7px;\n    width: calc(14 * var(--zoompx));\n    height: calc(14 * var(--zoompx));\n    margin-top: calc(-7 * var(--zoompx));\n    margin-left: calc(-7 * var(--zoompx));\n    border: calc(2 * var(--zoompx)) solid #fff;\n    z-index: 10;\n}\n.padding {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100px;\n    height: 100px;\n    transform-origin: 0 0;\n}\n.line {\n\tposition: absolute;\n\twidth: 1px;\n    height: 1px;\n    width: var(--zoompx);\n    height: var(--zoompx);\n\tbackground: #4af;\n\ttransform-origin: 0px 50%;\n}\n.line.dashed {\n    box-sizing: border-box;\n    background: transparent;\n}\n.line.dashed.horizontal {\n    border-top: 1px dashed #4af;\n    border-top: var(--zoompx) dashed #4af;\n}\n.line.dashed.vertical {\n    border-left: 1px dashed #4af;\n    border-left: var(--zoompx) dashed #4af;\n}\n.line.dashed:before {\n    position: absolute;\n    content: attr(data-size);\n    color: #4af;\n    font-size: 12px;\n    font-weight: bold;\n}\n.line.dashed.horizontal:before, .line.gap.horizontal:before {\n    left: 50%;\n    transform: translateX(-50%);\n    bottom: 5px;\n}\n.line.dashed.vertical:before, .line.gap.vertical:before {\n    top: 50%;\n    transform: translateY(-50%);\n    left: 5px;\n}\n.line.rotation-line {\n\theight: 40px;\n    width: 1px;\n    transform-origin: 50% calc(100% - 0.5px);\n    top: -40px;\n    width: var(--zoompx);\n    height: calc(40 * var(--zoompx));\n    top: calc(-40 * var(--zoompx));\n    transform-origin: 50% calc(100% - 0.5 * var(--zoompx));\n}\n.line.rotation-line .control {\n\tborder-color: #4af;\n\tbackground:#fff;\n    cursor: alias;\n    left: 50%;\n}\n.line.vertical {\n    transform: translateX(-50%);\n}\n.line.horizontal {\n    transform: translateY(-50%);\n}\n.line.vertical.bold {\n    width: 2px;\n    width: calc(2 * var(--zoompx));\n}\n.line.horizontal.bold {\n    height: 2px;\n    height: calc(2 * var(--zoompx));\n}\n\n.line.gap {\n    background: #f55;\n}\n.line.gap:before {\n    position: absolute;\n    content: attr(data-size);\n    color: #f55;\n    font-size: 12px;\n    font-weight: bold;\n}\n.control.origin {\n\tborder-color: #f55;\n\tbackground: #fff;\n\twidth: 12px;\n\theight: 12px;\n\tmargin-top: -6px;\n    margin-left: -6px;\n    width: calc(12 * var(--zoompx));\n    height: calc(12 * var(--zoompx));\n    margin-top: calc(-6 * var(--zoompx));\n    margin-left: calc(-6 * var(--zoompx));\n\tpointer-events: none;\n}\n"+[0,15,30,45,60,75,90,105,120,135,150,165].map(function(t){return'\n.direction[data-rotation="'+t+'"] {\n\t'+(e=pr(1,r=t),n=pr(2,r),i=45*Math.round(r/45)%180,"cursor:"+(a=135==i?"nwse-resize":45==i?"nesw-resize":90==i?"ew-resize":"ns-resize")+";cursor: url('"+e+"') 16 16, "+a+";cursor: -webkit-image-set(url('"+e+"') 1x, url('"+n+"') 2x) 16 16, "+a+";")+"\n}\n";var r,e,n,i,a}).join("\n")+"\n.group {\n    z-index: -1;\n}\n.area {\n    position: absolute;\n}\n.area-pieces {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n}\n.area.avoid {\n    pointer-events: none;\n}\n.area.avoid+.area-pieces {\n    display: block;\n}\n.area-piece {\n    position: absolute;\n}\n"+(gr?':global svg *:before {\n\tcontent:"";\n\ttransform-origin: inherit;\n}':"")+"\n").replace(/([^}{]*){/gm,function(t,r){return r.replace(/\.([^{,\s\d.]+)/g,"."+hr+"$1")+"{"})),br=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],yr=1e-7,xr=Math.pow(10,10),Er=-xr,Sr={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]},Mr={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135};function Dr(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.map(function(t){return t.split(" ").map(function(t){return t?""+r+t:""}).join(" ")}).join(" ")}.apply(void 0,[vr].concat(t))}function wr(){return It(3)}function Cr(t,r,e){return Ct(r,kt(e,r),t,kt(e.map(function(t){return-t}),r))}function Pr(s){return Or(ne(s,":before")).map(function(t,r){var e,n,i=w(t),a=i.value,o=i.unit;return a*(e=s,n=0===r,"%"!==o?1:Gr(e.ownerSVGElement)[n?"width":"height"]/100)})}function Or(t){var r=t.transformOrigin;return r?r.split(" "):["0","0"]}function Rr(t,r,e){for(var n=document.body,i=!t||e?t:t.parentElement,a=!1,o="relative";i&&i!==n;){r===i&&(a=!0);var s=ne(i),u=s.transform;if("static"!==(o=s.position)||u&&"none"!==u)break;i=i.parentElement,o="relative"}return{isStatic:"static"===o,isEnd:a||!i||i===n,offsetParent:i||n}}function zr(t,r,e,n){var i,a=t.tagName.toLowerCase(),o=t.offsetLeft,s=t.offsetTop;if(n){var u=(r||document.documentElement).getBoundingClientRect();o-=u.left,s-=u.top}var c,f=N(o),l=!f;return l||"svg"===a?c=Or(e).map(function(t){return parseFloat(t)}):(c=gr?Pr(t):Or(e).map(function(t){return parseFloat(t)}),l=!0,"g"===a?s=o=0:(o=(i=function(t,r){if(!t.getBBox)return[0,0];var e=t.getBBox(),n=Gr(t.ownerSVGElement),i=e.x-n.x,a=e.y-n.y;return[i,a,r[0]-i,r[1]-a]}(t,c))[0],s=i[1],c[0]=i[2],c[1]=i[3])),{isSVG:f,hasOffset:l,offset:[o,s],origin:c}}function Br(t,r,e){var n,i,a,o,s,u=t,c=[],f=!1,l=!1,p=3,h=Rr(r,r,!0).offsetParent;for(e&&(f=t===r,10<e.length&&(l=!0,p=4),r=t.parentElement);u&&!f;){var d=ne(u),g=u.tagName.toLowerCase(),v=d.position,m="fixed"===v,b=d.transform,y=(s=void 0,6===(a=(o=b)&&"none"!==o?I(o)?o:(!(s=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(o))||s.length<4?{}:{prefix:s[1],value:s[2],suffix:s[3]}).value.split(/s*,\s*/g).map(function(t){return parseFloat(t)}):[1,0,0,1,0,0]).length?[a[0],a[2],a[4],a[1],a[3],a[5],0,0,1]:St(a)),x=y.length;if(!l&&16===x){l=!0,p=4;for(var E=c.length,S=0;S<E;++S)c[S]=wt(c[S],3,4)}l&&9===x&&(y=wt(y,3,4));var M=zr(u,r,d,m),D=M.hasOffset,w=M.isSVG,C=M.origin,P=M.offset,O=P[0],R=P[1];"svg"===g&&i&&c.push(Tr(u,p),It(p));var z=Rr(u,r),B=z.offsetParent,_=z.isEnd,G=z.isStatic;gr&&D&&!w&&G&&"relative"===v&&(O-=B.offsetLeft,R-=B.offsetTop,f=f||_);var T=0,A=0;if(D&&h!==B&&(T=B.clientLeft,A=B.clientTop),c.push(Cr(y,p,C),kt(D?[O-u.scrollLeft+T,R-u.scrollTop+A]:[u,C],p)),i=i||y,n=n||C,f||m)break;u=B,f=_}return{offsetContainer:h,matrixes:c,targetMatrix:i=i||It(p),transformOrigin:n=n||[0,0],is3d:l}}function _r(t,r,e,n,i,a){var o=Br(t,r,n),s=o.matrixes,u=o.is3d,c=o.targetMatrix,f=o.transformOrigin,l=Br(o.offsetContainer,e,i),p=l.matrixes,h=l.is3d,d=h||u?4:3,g="svg"!==t.tagName.toLowerCase()&&"ownerSVGElement"in t,v=r||document.body,m=n?wt(n,a,d):It(d),b=c,y=i?wt(i,a,d):It(d),x=n?wt(n,a,d):It(d),E=It(d),S=s.length,M=Rr(v,v,!0).offsetParent;p.reverse(),s.reverse(),!u&&h&&(b=wt(b,3,4),s.forEach(function(t,r){s[r]=wt(t,3,4)})),u&&!h&&p.forEach(function(t,r){p[r]=wt(t,3,4)}),i||p.forEach(function(t){y=Pt(y,t,d)}),s.forEach(function(t,r){var e;S-2===r&&(x=m.slice()),S-1===r&&(E=m.slice()),I(t[d-1])&&(e=function(t,r,e,n,i,a){var o,s=jr(t),u=s[0],c=s[1],f=r.getBoundingClientRect(),l=t.getBoundingClientRect(),p=l.left-f.left+r.scrollLeft,h=l.top-f.top+r.scrollTop,d=l.width,g=l.height,v=Ct(e,i,a),m=kr(v,u,c,e),b=m.left,y=m.top,x=m.width,E=m.height,S=Ar(v,n,e),M=Bt(S,[b,y]),D=[p+M[0]*d/x,h+M[1]*g/E],w=[0,0],C=0;for(;++C<10;){var P=Et(i,e);o=Bt(Ar(P,D,e),Ar(P,S,e)),w[0]=o[0],w[1]=o[1];var O=kr(Ct(e,i,kt(w,e),a),u,c,e),R=O.left,z=O.top,B=R-p,_=z-h;if(Math.abs(B)<2&&Math.abs(_)<2)break;D[0]-=B,D[1]-=_}return w.map(function(t){return Math.round(t)})}(t[d-1],M,d,t[2*d-1],m,s[r+1]),t[d-1]=e[0],t[2*d-1]=e[1]),m=Pt(m,t,d)});var D=!g&&u;b=b||It(D?4:3);var w=(D?"matrix3d":"matrix")+"("+Tt(g&&16===b.length?wt(b,4,3):b)+")";return[y=xt(y,d,d),x,E,m,b,w,f,u||h]}function Gr(t){var r=t.clientWidth,e=t.clientHeight,n=t.viewBox,i=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||r,height:i.height||e}}function Tr(t,r){var e=t.clientWidth,n=t.clientHeight,i=Gr(t),a=i.width,o=i.height,s=e/a,u=n/o,c=t.preserveAspectRatio.baseVal,f=c.align,l=c.meetOrSlice,p=[0,0],h=[s,u],d=[0,0];if(1!==f){var g=(f-2)%3,v=Math.floor((f-2)/3);p[0]=a*g/2,p[1]=o*v/2;var m=2===l?Math.max(u,s):Math.min(s,u);h[0]=m,h[1]=m,d[0]=(e-a)/2*g,d[1]=(n-o)/2*v}var b=Yt(h,r);return b[r-1]=d[0],b[2*r-1]=d[1],Cr(b,r,p)}function Ar(t,r,e){return _t(t,Dt(r,e),e)}function Ir(r,t,e,n){return[[0,0],[t,0],[0,e],[t,e]].map(function(t){return Ar(r,t,n)})}function Yr(t){var r=t.map(function(t){return t[0]}),e=t.map(function(t){return t[1]}),n=Math.min.apply(Math,r),i=Math.min.apply(Math,e),a=Math.max.apply(Math,r),o=Math.max.apply(Math,e);return{left:n,top:i,right:a,bottom:o,width:a-n,height:o-i}}function kr(t,r,e,n){return Yr(Ir(t,r,e,n))}function Nr(t,r,e,n){var i=16===t.length?4:3,a=Ir(t,e,n,i),o=a[0],s=o[0],u=o[1],c=a[1],f=c[0],l=c[1],p=a[2],h=p[0],d=p[1],g=a[3],v=g[0],m=g[1],b=Ar(t,r,i),y=b[0],x=b[1],E=Math.min(s,f,h,v),S=Math.min(u,l,d,m),M=Math.max(s,f,h,v),D=Math.max(u,l,d,m);y=y-E||0,x=x-S||0;var w=[((s=s-E||0)+(f=f-E||0)+(h=h-E||0)+(v=v-E||0))/4,((u=u-S||0)+(l=l-S||0)+(d=d-S||0)+(m=m-S||0))/4],C=Mt(w,[s,u]),P=Mt(w,[f,l]);return[[E,S,M,D],[y,x],[[s,u],[f,l],[h,d],[v,m]],C<P&&P-C<Math.PI||P<C&&P-C<-Math.PI?1:-1]}function Xr(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function qr(t,r,e){void 0===e&&(e=Mt(t,r));var n,i,a=(n=t,Xr([(i=r)[0]-n[0],i[1]-n[1]]));return{transform:"translateY(-50%) translate("+t[0]+"px, "+t[1]+"px) rotate("+e+"rad)",width:a+"px"}}function Wr(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var n=r.length;return{transform:"translate("+r.reduce(function(t,r){return t+r[0]},0)/n+"px, "+r.reduce(function(t,r){return t+r[1]},0)/n+"px) rotate("+t+"rad)"}}function jr(t,r,e,n){void 0===r&&(r=window.getComputedStyle(t)),void 0===n&&(n=e||"border-box"===r.boxSizing);var i=t.offsetWidth,a=t.offsetHeight,o=!N(i);if((e||n)&&o)return[i,a];if(i=t.clientWidth,a=t.clientHeight,o||i||a)return e||n?[i+(parseFloat(r.borderLeftWidth)||0)+(parseFloat(r.borderRightWidth)||0),a+(parseFloat(r.borderTopWidth)||0)+(parseFloat(r.borderBottomWidth)||0)]:[i-(parseFloat(r.paddingLeft)||0)-(parseFloat(r.paddingRight)||0),a-(parseFloat(r.paddingTop)||0)-(parseFloat(r.paddingBottom)||0)];var s=t.getBBox();return[s.width,s.height]}function Hr(t,r){return Mt(0<r?t[0]:t[1],0<r?t[1]:t[0])}function Lr(t,r,e,n,i,a){var o,s,u,c,f,l=0,p=0,h=0,d=0,g=[0,0],v=[[0,0],[0,0],[0,0],[0,0]],m=wr(),b=wr(),y=wr(),x=wr(),E=wr(),S=0,M=0,D=[0,0],w=1,C=1,P=!1,O="",R=[0,0],z=Fr(),B=Fr(),_=Fr(),G=0,T=a?a.beforeMatrix:void 0,A=a?a.rootMatrix:void 0,I=a?a.is3d?4:3:void 0;if(r){if(a)S=a.width,M=a.height;else{var Y=ne(r);S=r.offsetWidth,M=r.offsetHeight,N(S)&&(S=(o=jr(r,Y,!0))[0],M=o[1])}m=(s=_r(r,e,i,T,A,I))[0],y=s[1],b=s[2],x=s[3],E=s[4],O=s[5],D=s[6],P=s[7],l=(c=(u=Nr(x,D,S,M))[0])[0],p=c[1],h=c[2],d=c[3],g=u[1],v=u[2],w=u[3];var k;k=(f=Nr(b,zt(D,function(t,r){void 0===r&&(r=Math.sqrt(t.length));for(var e=[],n=0;n<r-1;++n)e[n]=t[(n+1)*r-1];return e[r-1]=0,e}(E,P?4:3)),S,M))[0],R=f[1],C=f[3],R=[R[0]+k[0]-l,R[1]+k[1]-p],z=Vr(r),B=Vr(Rr(n,n,!0).offsetParent||document.body,!0),t&&(_=Vr(t)),G=Hr([v[0],v[1]],w)}return{rotation:G,targetClientRect:z,containerClientRect:B,moveableClientRect:_,beforeDirection:C,direction:w,target:r,left:l,top:p,right:h,bottom:d,pos1:v[0],pos2:v[1],pos3:v[2],pos4:v[3],width:S,height:M,rootMatrix:m,beforeMatrix:y,offsetMatrix:b,targetMatrix:E,matrix:x,targetTransform:O,is3d:P,beforeOrigin:R,origin:g,transformOrigin:D}}function Fr(){return{left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function Vr(t,r){var e=t.getBoundingClientRect(),n=e.left,i=e.width,a=e.top,o=e.bottom,s={left:n,right:e.right,top:a,bottom:o,width:i,height:e.height};return r&&(s.clientLeft=t.clientLeft,s.clientTop=t.clientTop,s.clientWidth=t.clientWidth,s.clientHeight=t.clientHeight,s.scrollWidth=t.scrollWidth,s.scrollHeight=t.scrollHeight),s}function Ur(t){if(t){var r=t.getAttribute("data-direction");if(r){var e=[0,0];return-1<r.indexOf("w")&&(e[0]=-1),-1<r.indexOf("e")&&(e[0]=1),-1<r.indexOf("n")&&(e[1]=-1),-1<r.indexOf("s")&&(e[1]=1),e}}}function Kr(t,r){return[zt(r,t[0]),zt(r,t[1]),zt(r,t[2]),zt(r,t[3])]}function $r(t){var r=t.left,e=t.top;return Kr([t.pos1,t.pos2,t.pos3,t.pos4],[r,e])}function Jr(t,r){return r?Math.round(t/r)*r:t}function Zr(e,n){return e.forEach(function(t,r){e[r]=Jr(e[r],n)}),e}function Qr(t,r){t[r]&&(t[r].unset(),t[r]=null)}function te(t,r,e){return(t[0]-r[0])*(e[1]-r[1])-(t[1]-r[1])*(e[0]-r[0])}function re(t,r,e){var n=r.datas;return n.datas||(n.datas={}),lr({},e,{target:t.state.target,clientX:r.clientX,clientY:r.clientY,inputEvent:r.inputEvent,currentTarget:t,datas:n.datas})}function ee(t,r,e,n){return n&&Ee.prototype.triggerEvent.call(t,r,e),t.triggerEvent(r,e)}function ne(t,r){return window.getComputedStyle(t,r)}function ie(t,e,n){var i={},a={};return t.filter(function(r){var t=r.name;if(i[t]||!e.some(function(t){return r[t]}))return!1;if(!n&&r.ableGroup){if(a[r.ableGroup])return!1;a[r.ableGroup]=!0}return i[t]=!0})}function ae(t,r,e){return t*(r?e:1/e)}function oe(t,r,e){return t*(r?1/e:e)}function se(t,r){return t===r||null==t&&null==r}function ue(a,o){var s=[],u=[];return a.forEach(function(t,r){var e=o(t,r,a),n=u.indexOf(e),i=s[n]||[];-1===n&&(u.push(e),s.push(i)),i.push(t)}),s}function ce(t){return t.reduce(function(t,r){return t.concat(r)},[])}function fe(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.sort(function(t,r){return Math.abs(r)-Math.abs(t)}),t[0]}function le(t,r,e){return _t(Et(t,e),Dt(r,e),e)}function pe(t,r){var e,n=t.is3d?4:3;return e=le(t.rootMatrix,[r.distX,r.distY],n),r.distX=e[0],r.distY=e[1],r}function he(t,r,e,n,i){return Bt(Ar(t,zt(e,r),i),n)}function de(i,t,r,e,n,a,o){var s="Start"===n;if(s&&-1<e.indexOf("Control")&&!a.isRequest&&i.areaElement===a.inputEvent.target)return!1;var u=""+r+e+n,c=""+r+e+"Condition",f="End"===n,l=-1<n.indexOf("After");s&&i.updateRect(n,!0,!1),""!==n||l||pe(i.state,a);var p=-1<e.indexOf("Group"),h=i[t];if(!h.length)return!1;var d,g,v,m,b,y,x,E,S,M,D,w,C,P,O,R=h.filter(function(t){return t[u]}),z=a.datas,B=z.render||(z.render={}),_=lr({},a,{datas:B,originalDatas:z}),G=R.filter(function(t){var r=s&&t[c],e=t.name,n=z[e]||(z[e]={});return!(r&&!r(a,i))&&t[u](i,lr({},a,{datas:n,originalDatas:z}))}),T=G.length;if(s){if(R.length&&!T)return i.state.dragger=null,i.moveables&&i.moveables.forEach(function(t){t.state.dragger=null}),!1;w=p,P=re(D=i,C=_,{isPinch:!!C.isPinch}),O=w?"Group":"",w&&(P.targets=D.props.targets),ee(D,"onRender"+O+"Start",P)}else f?(x=p,S=re(y=i,E=_,{isPinch:!!E.sPinch,isDrag:E.isDrag}),M=x?"Group":"",x&&(S.targets=y.props.targets),ee(y,"onRender"+M+"End",S)):T&&(g=p,m=re(d=i,v=_,{isPinch:!!v.isPinch}),b=g?"Group":"",g&&(m.targets=d.props.targets),ee(d,"onRender"+b,m));if(f&&(i.state.dragger=null),i.isUnmounted)return!1;!s&&T&&(G.some(function(t){return t.updateRect})&&!p?i.updateRect(n,!1,!1):i.updateRect(n,!0,!1)),(!s&&T||f&&!T)&&!o&&i.forceUpdate(),s||f||l||!T||de(i,t,r,e,n+"After",a)}function ge(e,t,r){var n=e.controlBox.getElement(),i=[];i.push(n),e.props.dragArea||i.push(t);function a(t){var r=t.inputEvent.target;return r===e.areaElement||!e.isMoveableElement(r)||-1<r.className.indexOf("moveable-area")||-1<r.className.indexOf("moveable-padding")}return ve(e,i,"targetAbles",r,{dragstart:a,pinchstart:a})}function ve(i,t,a,o,s){void 0===s&&(s={});var r=i.props,e=r.pinchOutside,n=r.pinchThreshold,u={container:window,pinchThreshold:n,pinchOutside:e};return["drag","pinch"].forEach(function(n){["Start","","End"].forEach(function(r){var e=""+n+r.toLowerCase();u[e]=function(t){return!(s[e]&&!s[e](t))&&de(i,a,n,o,r,t)}})}),new rr(t,u)}var me,be,ye=(me="div",be=qt(mr),function(t){function r(){this.constructor=e}var e,n;function i(){return null!==t&&t.apply(this,arguments)||this}return Wt(e=i,n=t),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r),i.prototype.render=function(){var t=this.props,r=t.className,e=void 0===r?"":r,n=function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(e[n[i]]=t[n[i]])}return e}(t,["className"]);return X(me,jt({ref:m(this,"element"),className:e+" "+be.className},n))},i.prototype.componentDidMount=function(){this.injectResult=be.inject(this.element)},i.prototype.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},i.prototype.getElement=function(){return this.element},i}(K));function xe(t,r,e,n){var i=Mt(r,e),a=t?Jr(i/Math.PI*180,15)%180:-1;return X("div",{key:"line"+n,className:Dr("line","direction",t),"data-rotation":a,"data-direction":t,style:qr(r,e,i)})}var Ee=function(r){function t(){var t=null!==r&&r.apply(this,arguments)||this;return t.state={container:null,target:null,beforeMatrix:wr(),matrix:wr(),targetMatrix:wr(),offsetMatrix:wr(),targetTransform:"",is3d:!1,left:0,top:0,width:0,height:0,transformOrigin:[0,0],direction:1,beforeDirection:1,beforeOrigin:[0,0],origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],renderPoses:[[0,0],[0,0],[0,0],[0,0]],targetClientRect:Fr(),containerClientRect:Fr(),moveableClientRect:Fr(),rotation:0},t.targetAbles=[],t.controlAbles=[],t.isUnmounted=!1,t}fr(t,r);var e=t.prototype;return e.render=function(){var t=this.props,r=this.state,e=t.edge,n=t.parentPosition,i=t.className,a=t.target,o=t.zoom;this.checkUpdate(),this.updateRenderPoses();var s=n||{left:0,top:0},u=s.left,c=s.top,f=r.left,l=r.top,p=r.target,h=r.direction,d=r.renderPoses,g=t.targets,v=(g&&g.length||a)&&p;return X(ye,{ref:m(this,"controlBox"),className:Dr("control-box",-1===h?"reverse":"")+" "+i,style:{position:"absolute",display:v?"block":"none",transform:"translate("+(f-u)+"px, "+(l-c)+"px) translateZ(50px)","--zoom":o,"--zoompx":o+"px"}},this.renderAbles(),xe(e?"n":"",d[0],d[1],0),xe(e?"e":"",d[1],d[3],1),xe(e?"w":"",d[0],d[2],2),xe(e?"s":"",d[2],d[3],3))},e.componentDidMount=function(){this.controlBox.getElement();var t=this.props,r=t.parentMoveable,e=t.container;this.updateEvent(t),e||r||this.updateRect("End",!1,!0)},e.componentDidUpdate=function(t){this.updateEvent(t)},e.componentWillUnmount=function(){this.isUnmounted=!0,Qr(this,"targetDragger"),Qr(this,"controlDragger")},e.getContainer=function(){var t=this.props,r=t.parentMoveable;return t.container||r&&r.getContainer()||this.controlBox.getElement().parentElement},e.isMoveableElement=function(t){return t&&-1<(t.getAttribute("class")||"").indexOf(vr)},e.dragStart=function(t){return this.targetDragger&&this.targetDragger.onDragStart(t),this},e.hitTest=function(t){var r;if(t instanceof Element){var e=t.getBoundingClientRect();r={left:e.left,top:e.top,width:e.width,height:e.height}}else r=lr({width:0,height:0},t);var n=this.state.targetClientRect,i=n.left,a=n.top,o=n.width,s=n.height,u=r.left,c=r.top,f=u+r.width,l=c+r.height,p=i+o,h=a+s,d=Math.max(i,u),g=Math.min(p,f),v=Math.max(a,c),m=Math.min(h,l);if(g<d||m<v)return 0;var b=(Math.min(p,f)-Math.max(u,i))*(Math.min(h,l)-Math.max(a,c));return Math.min(100,(g-d)*(m-v)/b*100)},e.isInside=function(t,r){var e=this.state,n=e.pos1,i=e.pos2,a=e.pos3,o=e.pos4,s=e.target,u=e.targetClientRect;if(!s)return!1;var c,f,l,p,h,d,g,v=u.left,m=u.top;return p=a,h=o,d=[te(c=[t-v,r-m],f=n,l=i),te(c,l,p),te(c,p,f)],g=[te(c,l,p),te(c,p,h),te(c,h,l)],!!(d.every(function(t){return 0<=t})||d.every(function(t){return t<=0})||g.every(function(t){return 0<=t})||g.every(function(t){return t<=0}))},e.updateRect=function(t,r,e){void 0===e&&(e=!0);var n=this.props,i=n.parentMoveable,a=this.state,o=a.target||this.props.target,s=this.getContainer(),u=i?i.props.rootContainer:n.rootContainer;this.updateState(Lr(this.controlBox&&this.controlBox.getElement(),o,s,s,u||s,r?a:void 0),!i&&e)},e.updateEvent=function(t){var r=this.controlBox.getElement(),e=this.targetAbles.length,n=this.controlAbles.length,i=this.props,a=i.dragTarget||i.target,o=t.dragTarget||t.target,s=i.dragArea,u=t.dragArea,c=!s&&o!==a,f=!e&&this.targetDragger||c||u!==s;f&&(Qr(this,"targetDragger"),this.updateState({dragger:null})),n||Qr(this,"controlDragger"),a&&e&&!this.targetDragger&&(this.targetDragger=ge(this,a,"")),!this.controlDragger&&n&&(this.controlDragger=ve(this,r,"controlAbles","Control")),f&&this.unsetAbles()},e.isDragging=function(){return!!this.targetDragger&&this.targetDragger.isFlag()||!!this.controlDragger&&this.controlDragger.isFlag()},e.updateTarget=function(t){this.updateRect(t,!0)},e.getRect=function(){var t=this.state,r=$r(this.state),e=r[0],n=r[1],i=r[2],a=r[3],o=Yr(r),s=t.width,u=t.height,c=o.width,f=o.height,l=o.left,p=o.top,h=[t.left,t.top],d=zt(h,t.origin);return{width:c,height:f,left:l,top:p,pos1:e,pos2:n,pos3:i,pos4:a,offsetWidth:s,offsetHeight:u,beforeOrigin:zt(h,t.beforeOrigin),origin:d}},e.request=function(r,t,e){void 0===t&&(t={});var n=this.props,i=n.ables,a=n.groupable,o=i.filter(function(t){return t.name===r})[0];if(this.isDragging()||!o||!o.request)return{request:function(){return this},requestEnd:function(){return this}};var s=this,u=o.request(this),c=u.isControl?"controlAbles":"targetAbles",f=(a?"Group":"")+(u.isControl?"Control":""),l={request:function(t){return de(s,c,"drag",f,"",lr({},u.request(t),{isRequest:!0}),e),this},requestEnd:function(){return de(s,c,"drag",f,"End",lr({},u.requestEnd(),{isRequest:!0})),this}};return de(s,c,"drag",f,"Start",lr({},u.requestStart(t),{isRequest:!0}),e),t.isInstant?l.request(t).requestEnd():l},e.updateRenderPoses=function(){var t=this.state,r=this.props,e=t.beforeOrigin,n=t.transformOrigin,i=t.matrix,a=t.is3d,o=t.pos1,s=t.pos2,u=t.pos3,c=t.pos4,f=t.left,l=t.top,p=r.padding||{},h=p.left,d=void 0===h?0:h,g=p.top,v=void 0===g?0:g,m=p.bottom,b=void 0===m?0:m,y=p.right,x=void 0===y?0:y,E=a?4:3,S=r.groupable?e:zt(e,[f,l]);t.renderPoses=[zt(o,he(i,[-d,-v],n,S,E)),zt(s,he(i,[x,-v],n,S,E)),zt(u,he(i,[-d,b],n,S,E)),zt(c,he(i,[x,b],n,S,E))]},e.checkUpdate=function(){var t=this.props,r=t.target,e=t.container,n=t.parentMoveable,i=this.state,a=i.target,o=i.container;(a||r)&&(this.updateAbles(),se(a,r)&&se(o,e)||(this.updateState({target:r,container:e}),n||!e&&!this.controlBox||this.updateRect("End",!1,!1)))},e.triggerEvent=function(t,r){var e=this.props[t];return e&&e(r)},e.unsetAbles=function(){var r=this;this.targetAbles.filter(function(t){return!!t.unset&&(t.unset(r),!0)}).length&&this.forceUpdate()},e.updateAbles=function(t,r){void 0===t&&(t=this.props.ables),void 0===r&&(r="");var e=this.props,n=e.triggerAblesSimultaneously,i=t.filter(function(t){return t&&e[t.name]}),a="drag"+r+"ControlStart",o=ie(i,["drag"+r+"Start","pinch"+r+"Start"],n),s=ie(i,[a],n);this.targetAbles=o,this.controlAbles=s},e.updateState=function(t,r){if(r)this.setState(t);else{var e=this.state;for(var n in t)e[n]=t[n]}},e.renderAbles=function(){var i,a,o,s,r=this,e=this.props,t=e.ables,n=e.triggerAblesSimultaneously,u=t.filter(function(t){return t&&e[t.name]}),c={createElement:X};return i=ce(ie(u,["render"],n).map(function(t){return(0,t.render)(r,c)||[]})).filter(function(t){return t}),a=function(t){return t.key},o=[],s={},i.forEach(function(t,r){var e=a(t,r,i),n=s[e];n||(n=[],s[e]=n,o.push(n)),n.push(t)}),o.map(function(t){return t[0]})},t.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,edge:!1,parentMoveable:null,parentPosition:null,ables:[],pinchThreshold:20,dragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0},t}($);function Se(t){return Mt([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}var Me={name:"pinchable",updateRect:!0,props:{pinchable:Boolean,pinchOutside:Boolean,pinchThreshold:Number},pinchStart:function(e,n){var i=n.datas,t=n.touches,r=n.targets,a=e.props,o=a.pinchable,s=a.ables;if(!o)return!1;var u="onPinch"+(r?"Group":"")+"Start",c="drag"+(r?"Group":"")+"ControlStart",f=(!0===o?e.controlAbles:s.filter(function(t){return-1<o.indexOf(t.name)})).filter(function(t){return t.canPinch&&t[c]}),l=re(e,n,{});r&&(l.targets=r);var p=ee(e,u,l);i.isPinch=!1!==p,i.ables=f;var h=i.isPinch;if(!h)return!1;var d=Se(t);return f.forEach(function(t){if(i[t.name+"Datas"]={},t[c]){var r=lr({},n,{datas:i[t.name+"Datas"],parentRotate:d,isPinch:!0});t[c](e,r)}}),e.state.snapRenderInfo={request:n.isRequest,direction:[0,0]},h},pinch:function(r,e){var n=e.datas,t=e.scale,i=e.distance,a=e.touches,o=e.inputEvent,s=e.targets;if(n.isPinch){var u=Se(a),c=i*(1-1/t),f=re(r,e,{});s&&(f.targets=s),ee(r,"onPinch"+(s?"Group":""),f);var l=n.ables,p="drag"+(s?"Group":"")+"Control";return l.forEach(function(t){t[p]&&t[p](r,lr({},e,{datas:n[t.name+"Datas"],inputEvent:o,parentDistance:c,parentRotate:u,isPinch:!0}))}),f}},pinchEnd:function(r,e){var n=e.datas,i=e.isPinch,a=e.inputEvent,t=e.targets;if(n.isPinch){var o="onPinch"+(t?"Group":"")+"End",s=re(r,e,{isDrag:i});t&&(s.targets=t),ee(r,o,s);var u=n.ables,c="drag"+(t?"Group":"")+"ControlEnd";return u.forEach(function(t){t[c]&&t[c](r,lr({},e,{isDrag:i,datas:n[t.name+"Datas"],inputEvent:a,isPinch:!0}))}),i}},pinchGroupStart:function(t,r){return this.pinchStart(t,lr({},r,{targets:t.props.targets}))},pinchGroup:function(t,r){return this.pinch(t,lr({},r,{targets:t.props.targets}))},pinchGroupEnd:function(t,r){return this.pinchEnd(t,lr({},r,{targets:t.props.targets}))}};function De(t,r,e,n,i){var a=t.dragger.move(r,e),o=a.originalDatas||a.datas,s=o.draggable||(o.draggable={});return lr({},i?pe(t,a):a,{isDrag:!0,isPinch:!!n,parentEvent:!0,datas:s})}var we=function(){function t(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}}}var r=t.prototype;return r.dragStart=function(t,r){return this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},lr({},this.move(t,r),{type:"dragstart"})},r.drag=function(t,r){return this.move([t[0]-this.prevX,t[1]-this.prevY],r)},r.move=function(t,r){var e,n;return this.isFlag?(e=this.prevX+t[0],n=this.prevY+t[1],this.isDrag=!0):(this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],e=t[0],n=t[1],this.isFlag=!0),{type:"drag",clientX:this.prevX=e,clientY:this.prevY=n,inputEvent:r,isDrag:this.isDrag,distX:e-this.startX,distY:n-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas.draggable,originalDatas:this.datas,parentEvent:!0,parentDragger:this}},t}();function Ce(t,i,a,o,r,s){var u=!!a.match(/Start$/g),c=!!a.match(/End$/g),f=r.inputEvent,l=r.isPinch,p=r.datas,e=t.moveables.map(function(t,r){var e={};e=u?(new we).dragStart(o,f):(t.state.dragger||(t.state.dragger=p.childDraggers[r]),De(t.state,o,f,l,s));var n=i[a](t,lr({},e,{parentFlag:!0}));return c&&(t.state.dragger=null),n});return u&&(p.childDraggers=t.moveables.map(function(t){return t.state.dragger})),e}function Pe(t,a,o,r,s,u){var e=a.name,c=r[e]||(r[e]=[]),f=!!o.match(/End$/g);return t.moveables.map(function(t,r){var e=c[r]||(c[r]={}),n=typeof s===l?s(t,e):s,i=a[o](t,lr({},n,{datas:e,parentFlag:!0}));return i&&u&&u(t,e,i,r),f&&(t.state.dragger=null),i})}function Oe(t,r){var e=r.datas,n=t.state,i=n.matrix,a=n.beforeMatrix,o=n.is3d,s=n.left,u=n.top,c=n.origin,f=n.offsetMatrix,l=n.targetMatrix,p=n.transformOrigin,h=o?4:3;e.is3d=o,e.matrix=i,e.targetMatrix=l,e.beforeMatrix=a,e.offsetMatrix=f,e.transformOrigin=p,e.inverseMatrix=Et(i,h),e.inverseBeforeMatrix=Et(a,h),e.absoluteOrigin=Dt(zt([s,u],c),h),e.startDragBeforeDist=_t(e.inverseBeforeMatrix,e.absoluteOrigin,h),e.startDragDist=_t(e.inverseMatrix,e.absoluteOrigin,h)}function Re(t,r){var e=t.datas,n=t.distX,i=t.distY,a=e.inverseBeforeMatrix,o=e.inverseMatrix,s=e.is3d,u=e.startDragBeforeDist,c=e.startDragDist,f=s?4:3;return Bt(_t(r?a:o,zt(e.absoluteOrigin,[n,i]),f),r?u:c)}function ze(t){var r=[];return 0<=t[1]&&(0<=t[0]&&r.push(3),t[0]<=0&&r.push(2)),t[1]<=0&&(0<=t[0]&&r.push(1),t[0]<=0&&r.push(0)),r}function Be(r,t){return ze(t).map(function(t){return r[t]})}function _e(t,r){var e=Be(t,r);return[Rt.apply(void 0,e.map(function(t){return t[0]})),Rt.apply(void 0,e.map(function(t){return t[1]}))]}function Ge(t,r){var e=t[0],n=t[1],i=t[2];return _e([t[3],i,n,e],r)}function Te(t,r,e,n,i,a){var o=Ge(Ir(r,e,n,i),a);return[t[0]-o[0],t[1]-o[1]]}function Ae(t,r,e,n){return Pt(t,Cr(r,n,e),n)}function Ie(t,r){var e=t.transformOrigin,n=t.offsetMatrix,i=t.is3d?4:3;return Ae(n,Pt(t.targetMatrix,Yt(r,i),i),e,i)}function Ye(t,r,e,n,i,a){var o,s,u,c,f,l,p=t.props.groupable,h=t.state,d=h.transformOrigin,g=h.targetMatrix,v=h.offsetMatrix,m=h.is3d,b=h.width,y=h.height,x=h.left,E=h.top,S=m?4:3,M=p?x:0,D=p?E:0;return Bt(Te(i,Ae(v,g,(s=r,u=e,void 0===(c=b)&&(c=s),void 0===(f=y)&&(f=u),void 0===(l=d)&&(l=[0,0]),(o=a)?o.map(function(t,r){var e=w(t),n=e.value,i=e.unit,a=r?f:c,o=r?u:s;return"%"===t||isNaN(n)?o*(a?l[r]/a:0):"%"!==i?n:o*n/100}):l),S),r,e,S,n),[M,D])}function ke(t,r){return e=$r(t.state),n=r,Ge([e[0],e[1],e[2],e[3]],n);var e,n}function Ne(t){return t.isRequest?t.parentDirection:M(t.inputEvent.target,Dr("direction"))}function Xe(t,r,p,h,e,n){var d=e[0],g=e[1],i=n[0],a=n[1],v=[],o=h?0:1,m="vertical"===r?"horizontal":"vertical",b=ue(t.filter(function(t){return t.type===r}),function(t){return t.element}).map(function(t){return t[0]}).filter(function(t){var r=t.pos,e=t.sizes;return r[o]<=a&&i<=r[o]+e[o]});return b.forEach(function(t){var f=t.pos[h],l=f+t.sizes[h];b.forEach(function(t){var r=t.pos,e=t.sizes,n=t.element,i=r[h],a=i+e[h],o=0,s=0,u=!0;if(l<=i)d<(o=a-(s=l-i))-p&&(u=!1);else{if(!(a<=f))return;(o=i-(s=f-a))+p<g&&(u=!1)}if(u&&v.push({pos:"vertical"==m?[o,r[1]]:[r[0],o],element:n,sizes:e,size:0,type:m,gap:s,gapGuidelines:b}),l<=d&&g<=i){var c=(i+l-(g-d))/2;0<=Jr(d-(c-p),.1)&&v.push({pos:"vertical"==m?[c,r[1]]:[r[0],c],element:n,sizes:e,size:0,type:m,gap:l-d,gapGuidelines:b})}})}),v}function qe(t,r,e,n,i){var a=function(t){var r=t.state,e=r.guidelines,n=r.containerClientRect,i=n.scrollHeight,a=n.scrollWidth,o=t.props,s=o.snapHorizontal,u=void 0===s||s,c=o.snapVertical,f=void 0===c||c,l=o.snapGap,p=void 0===l||l,h=o.verticalGuidelines,d=o.horizontalGuidelines,g=o.snapThreshold,v=void 0===g?5:g,m=e.slice();if(p){var b=Yr($r(t.state)),y=b.top,x=b.left,E=b.bottom,S=b.right,M=e.filter(function(t){return t.element});m.push.apply(m,Xe(M,"horizontal",v,0,[x,S],[y,E]).concat(Xe(M,"vertical",v,1,[y,E],[x,S])))}return u&&d&&d.forEach(function(t){m.push({type:"horizontal",pos:[0,Jr(t,.1)],size:a})}),f&&h&&h.forEach(function(t){m.push({type:"vertical",pos:[Jr(t,.1),0],size:i})}),m}(t),o=t.props,s=o.snapElement,u=void 0===s||s,c=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var e=t.length-1,n=0;n<e;++n){var i=t[n];if(!N(i))return i}return t[e]}(i,o.snapThreshold,5);return{vertical:je(a,"vertical",r,c,n,u),horizontal:je(a,"horizontal",e,c,n,u)}}function We(t){var r=t.isSnap;if(!r)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var e=t.posInfos[0],n=e.guidelineInfos[0],i=n.offset,a=n.dist,o=n.guideline;return{isSnap:r,offset:i,dist:a,pos:e.pos,guideline:o}}function je(r,o,t,s,u,c){if(!r||!r.length)return{isSnap:!1,posInfos:[]};var i="vertical"===o?0:1,e=t.map(function(n){var t=r.map(function(t){var r=t.pos,e=n-r[i];return{offset:e,dist:Math.abs(e),guideline:t}}).filter(function(t){var r=t.guideline,e=t.dist,n=r.type,i=r.center,a=r.element;return!(!c&&a||!u&&i||n!==o||s<e)}).sort(function(t,r){return t.dist-r.dist});return{pos:n,guidelineInfos:t}}).filter(function(t){return 0<t.guidelineInfos.length}).sort(function(t,r){return t.guidelineInfos[0].dist-r.guidelineInfos[0].dist});return{isSnap:0<e.length,posInfos:e}}function He(t,u){return t.slice().sort(function(t,r){var e=t.sign[u],n=r.sign[u],i=t.offset[u],a=r.offset[u],o=Math.abs(i),s=Math.abs(a);return e?n?t.isBound&&r.isBound?s-o:t.isBound?-1:r.isBound?1:t.isSnap&&r.isSnap?o-s:t.isSnap?-1:r.isSnap||o<yr?1:s<yr?-1:o-s:-1:1})[0]}function Le(t,r){var e=Rt(r[0][0],r[1][0]),n=Rt(r[0][1],r[1][1]);return{vertical:e<=t[0],horizontal:n<=t[1]}}function Fe(t,r){var e,n,i=r[0],a=r[1],o=a[0]-i[0],s=a[1]-i[1];if(o)if(s){e=s/o*(t[0]-i[0])+i[1],n=t[1]}else e=i[1],n=t[1];else e=i[0],n=t[0];return e-n}function Ve(t,e,n){void 0===n&&(n=yr);var i=Fe(t[0],e)<=0;return t.slice(1).every(function(t){var r=Fe(t,e);return r<=0==i||Math.abs(r)<=n})}function Ue(t,r,e,n,i){return void 0===i&&(i=0),n&&r-i<=t||!n&&t<=e+i?{isBound:!0,offset:n?r-t:e-t}:{isBound:!1,offset:0}}function Ke(t,r,e,n){var i=t[0],a=t[1],o=r[0],s=r[1],u=a[1]-i[1],c=a[0]-i[0],f=s[1]-o[1];if(s[0]-o[0]){if(!f&&u){var l=u/c;return Ue(c?(o[1]-i[1])/l+i[0]:i[0],o[0],s[0],e,n)}}else if(c)return Ue(u?u/c*(o[0]-i[0])+i[1]:i[1],o[1],s[1],e,n);return{isBound:!1,offset:0}}function $e(f,t,l,p){return t.map(function(t){var e=t[0],r=t[1],n=t[2],i=function(t,r,e){var n=t.props.innerBounds;if(!n)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var i=n.left,a=n.top,o=n.width,s=n.height,u=[[i,a],[i,a+s]],c=[[i,a],[i+o,a]],f=[[i+o,a],[i+o,a+s]],l=[[i,a+s],[i+o,a+s]],p=Le(e,r),h=p.horizontal,d=p.vertical;if(Ve([e,[i,a],[i+o,a],[i,a+s],[i+o,a+s]],r))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var g=Ke(r,c,d),v=Ke(r,l,d),m=Ke(r,u,h),b=Ke(r,f,h),y=g.isBound&&v.isBound,x=g.isBound||v.isBound,E=m.isBound&&b.isBound,S=m.isBound||b.isBound,M=fe(g.offset,v.offset),D=fe(m.offset,b.offset),w=[0,0],C=!1;return{isAllBound:Math.abs(D)<Math.abs(M)?(w=[M,0],C=x,y):(w=[0,D],C=S,E),isVerticalBound:x,isHorizontalBound:S,isBound:C,offset:w}}(f,[r,n],l),a=i.isBound,o=i.offset,s=i.isVerticalBound,u=i.isHorizontalBound,c=Re({datas:p,distX:o[0],distY:o[1]}).map(function(t,r){return t*(e[r]?2/e[r]:0)});return{sign:e,isBound:a,isVerticalBound:s,isHorizontalBound:u,isSnap:!1,offset:c}})}function Je(t,r,e){var n,i,a,o,s,u,c,f,l,p,h,d,g,v=$e(t,Ze(r,[0,0],!1).map(function(t){var r=t[0],e=t[1],n=t[2];return[r.map(function(t){return 2*Math.abs(t)}),e,n]}),_e(r,[0,0]),e),m=He(v,0),b=He(v,1),y=0,x=0,E=m.isVerticalBound||b.isVerticalBound,S=m.isHorizontalBound||b.isHorizontalBound;return(E||S)&&(i={datas:e,distX:-m.offset[0],distY:-b.offset[1]},o=i.datas,s=i.distX,u=i.distY,c=o.beforeMatrix,f=o.matrix,l=o.is3d,p=o.startDragBeforeDist,h=o.startDragDist,d=o.absoluteOrigin,g=l?4:3,y=(n=Bt(_t(a?c:f,zt(a?p:h,[s,u]),g),d))[0],x=n[1]),{vertical:{isBound:E,offset:y},horizontal:{isBound:S,offset:x}}}function Ze(i,t,r){return n=r,a=[],o=(e=t)[0],s=e[1],o&&s?a.push([[0,2*s],e,[-o,s]],[[2*o,0],e,[o,-s]]):o?(a.push([[2*o,0],[o,1],[o,-1]]),n&&a.push([[0,-1],[o,-1],[-o,-1]],[[0,1],[o,1],[-o,1]])):s?(a.push([[0,2*s],[1,s],[-1,s]]),n&&a.push([[-1,0],[-1,s],[-1,-s]],[[1,0],[1,s],[1,-s]])):a.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),a.map(function(t){var r=t[0],e=t[1],n=t[2];return[r,_e(i,e),_e(i,n)]});var e,n,a,o,s}function Qe(t,r,e,n){var i=n?t.map(function(t){return Gt(t,n)}):t,a=[e].concat(r);return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some(function(t,r){return!Ve(a,t)})}function tn(t,r,e,n,i){var a=t.props.innerBounds,o=i*Math.PI/180;if(!a)return[];var s=a.left,u=a.top,c=a.width,f=a.height,l=s-n[0],p=s+c-n[0],h=u-n[1],d=u+f-n[1],g=[[l,h],[p,h],[l,d],[p,d]],v=_e(e,[0,0]);if(!Qe(e,g,v,0))return[];var m=[],b=g.map(function(t){return[Xr(t),Mt([0,0],t)]});return[[e[0],e[1]],[e[1],e[3]],[e[3],e[2]],[e[2],e[0]]].forEach(function(t){var i=Mt([0,0],function(t){var r=t[0],e=t[1],n=e[0]-r[0],i=e[1]-r[1];if(!n)return[r[0],0];if(!i)return[0,r[1]];var a=i/n,o=-a*r[0]+r[1];return[-o/(a+1/a),o/(a*a+1)]}(t)),a=function(t){var r=t[0],e=t[1],n=e[0]-r[0],i=e[1]-r[1];if(!n)return Math.abs(r[0]);if(!i)return Math.abs(r[1]);var a=i/n;return Math.abs((-a*r[0]+r[1])/Math.sqrt(Math.pow(a,2)+1))}(t);m.push.apply(m,b.filter(function(t){var r=t[0];return r&&a<=r}).map(function(t){var r=t[0],e=t[1],n=Math.acos(r?a/r:0);return[o+(e+n)-i,o+(e-n)-i]}).reduce(function(t,r){return t.push.apply(t,r),t},[]).filter(function(t){return!Qe(r,g,v,t)}).map(function(t){return Jr(180*t/Math.PI,yr)}))}),m}function rn(t,r,e){var n=t.props.bounds||{},i=n.left,a=n.top,o=n.right,s=n.bottom,u={left:void 0===i?-1/0:i,top:void 0===a?-1/0:a,right:void 0===o?1/0:o,bottom:void 0===s?1/0:s};return{vertical:en(u,r,!0),horizontal:en(u,e,!1)}}function en(t,r,e){var n=t[e?"left":"top"],i=t[e?"right":"bottom"],a=Math.min.apply(Math,r),o=Math.max.apply(Math,r);return a<n+1?{isBound:!0,offset:a-n,pos:n}:i-1<o?{isBound:!0,offset:o-i,pos:i}:{isBound:!1,offset:0,pos:0}}function nn(t,r,e){return(e?t.map(function(t){return Gt(t,e)}):t).some(function(t){return t[0]<r.left&&.1<Math.abs(t[0]-r.left)||t[0]>r.right&&.1<Math.abs(t[0]-r.right)||t[1]<r.top&&.1<Math.abs(t[1]-r.top)||t[1]>r.bottom&&.1<Math.abs(t[1]-r.bottom)})}function an(t,c,e,r,n){var i=t.props.bounds,f=n*Math.PI/180;if(!i)return[];var a=i.left,o=void 0===a?-1/0:a,s=i.top,u=void 0===s?-1/0:s,l=i.right,p=void 0===l?1/0:l,h=i.bottom,d=void 0===h?1/0:h,g=o-r[0],v=p-r[0],m=u-r[1],b=d-r[1],y={left:g,top:m,right:v,bottom:b};if(!nn(e,y,0))return[];var x=[];return[[g,0],[v,0],[m,1],[b,1]].forEach(function(t,r){var s=t[0],u=t[1];e.forEach(function(t){var e,r,n,i,a,o=Mt([0,0],t);x.push.apply(x,(r=s,n=u,i=Xr(e=t),[a=Math.sqrt(i*i-r*r)||0,-a].sort(function(t,r){return Math.abs(t-e[n?0:1])-Math.abs(r-e[n?0:1])}).map(function(t){return Mt([0,0],n?[t,r]:[r,t])}).map(function(t){return f+t-o}).filter(function(t){return!nn(c,y,t)}).map(function(t){return Jr(180*t/Math.PI,yr)})))})}),x}function on(t,r,e){var n=Ar(t,[r.clientLeft,r.clientTop],e);return[r.left+n[0],r.top+n[1]]}function sn(t){var r=t.state;if(!r.guidelines||!r.guidelines.length){var e=t.props,n=e.horizontalGuidelines,i=void 0===n?[]:n,a=e.verticalGuidelines,o=void 0===a?[]:a,s=e.elementGuidelines,u=void 0===s?[]:s,c=e.bounds,g=e.snapCenter;if(c||i.length||o.length||u.length){var f=r.containerClientRect,l=r.targetClientRect,p=l.top,h=l.left,v=r.rootMatrix,m=r.is3d?4:3,d=on(v,f,m),b=d[0],y=d[1],x=$r(r),E=Bt([Math.min.apply(Math,x.map(function(t){return t[0]})),Math.min.apply(Math,x.map(function(t){return t[1]}))],le(v,[h-b,p-y],m)).map(function(t){return r=t,Math.round(r%1==-.5?r-1:r);var r}),S=E[0],M=E[1],D=[];u.forEach(function(t){var r=t.getBoundingClientRect(),e=r.left-b,n=r.top-y,i=n+r.height,a=e+r.width,o=le(v,[e,n],m),s=o[0],u=o[1],c=le(v,[a,i],m),f=c[0],l=c[1],p=f-s,h=l-u,d=[p,h];D.push({type:"vertical",element:t,pos:[Jr(s+S,.1),u],size:h,sizes:d}),D.push({type:"vertical",element:t,pos:[Jr(f+S,.1),u],size:h,sizes:d}),D.push({type:"horizontal",element:t,pos:[s,Jr(u+M,.1)],size:p,sizes:d}),D.push({type:"horizontal",element:t,pos:[s,Jr(l+M,.1)],size:p,sizes:d}),g&&(D.push({type:"vertical",element:t,pos:[Jr((s+f)/2+S,.1),u],size:h,sizes:d,center:!0}),D.push({type:"horizontal",element:t,pos:[s,Jr((u+l)/2+M,.1)],size:p,sizes:d,center:!0}))}),r.guidelines=D,r.enableSnap=!0}}}function un(t,r){var e=t.props,n=e.snappable,i=e.bounds,a=e.verticalGuidelines,o=e.horizontalGuidelines,s=t.state,u=s.guidelines,c=s.enableSnap;return n&&c&&!(r&&!0!==n&&n.indexOf(r)<0)&&!!(i||u&&u.length||a&&a.length||o&&o.length)}function cn(t,r,e,n,i){var a=function(t,r,e,n){var i=r[0]-t[0],a=r[1]-t[1];Math.abs(i)<yr&&(i=0);Math.abs(a)<yr&&(a=0);if(!i)return n?[0,0]:[0,e];if(!a)return n?[e,0]:[0,0];var o=a/i,s=t[1]-o*t[0];{if(n){var u=o*(r[0]+e)+s;return[e,u-r[1]]}return[(r[1]+e-s)/o-r[0],e]}}(t,r,-e,n);if(!a)return[0,0];var o=Re({datas:i,distX:a[0],distY:a[1]});return[o[0],o[1]]}function fn(t,r,e,n,i,a){var o=Ir(t,r,e,a?4:3);return Kr(o,Bt(n,Ge(o,i)))}function ln(t,r){return t.isBound?t.offset:r.isSnap?r.offset:0}function pn(t,r){return t.isBound?t.offset:r.isSnap?We(r).offset:0}function hn(t,r,e,n){var i=function(t,r,e){var n=t.props.bounds||{},i=n.left,a=void 0===i?-1/0:i,o=n.top,s=void 0===o?-1/0:o,u=n.right,c=void 0===u?1/0:u,f=n.bottom,l=void 0===f?1/0:f,p=e[0],h=e[1],d=Bt(e,r),g=d[0],v=d[1],m=0<v,b=0<g,y={isBound:!1,offset:0,pos:0},x={isBound:!1,offset:0,pos:0};if(0===g&&0===v)return{vertical:y,horizontal:x};if(0===g)m?l<h&&(x.pos=l,x.offset=h-l):h<s&&(x.pos=s,x.offset=h-s);else if(0===v)b?c<p&&(y.pos=c,y.offset=p-c):p<a&&(y.pos=a,y.offset=p-a);else{var E=v/g,S=e[1]-E*p,M=0,D=0,w=!1;b&&c<=p?(M=E*c+S,D=c,w=!0):!b&&p<=a?(M=E*a+S,D=a,w=!0):m&&l<=h?(D=((M=l)-S)/E,w=!0):!m&&h<=s&&(D=((M=s)-S)/E,w=!0),w&&(y.isBound=!0,y.pos=D,y.offset=p-D,x.isBound=!0,x.pos=M,x.offset=h-M)}return{vertical:y,horizontal:x}}(t,r,e),a=i.horizontal,o=i.vertical,s=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:function(t,r,e){var n=e[0],i=e[1],a=r[0],o=r[1],s=Bt(e,r),u=s[0],c=s[1],f=0<c,l=0<u,p={isSnap:!1,offset:0,pos:0},h={isSnap:!1,offset:0,pos:0};if(0===u&&0===c)return{vertical:p,horizontal:h};var d=qe(t,u?[n]:[],c?[i]:[]),g=d.vertical,v=d.horizontal;g.posInfos.filter(function(t){var r=t.pos;return l?a<=r:r<=a}),v.posInfos.filter(function(t){var r=t.pos;return f?o<=r:r<=o}),g.isSnap=0<g.posInfos.length,v.isSnap=0<v.posInfos.length;var m=We(g),b=m.isSnap,y=m.guideline,x=We(v),E=x.isSnap,S=x.guideline,M=E?S.pos[1]:0,D=b?y.pos[0]:0;if(0===u)E&&(h.isSnap=!0,h.pos=S.pos[1],h.offset=i-h.pos);else if(0===c)b&&(p.isSnap=!0,p.pos=D,p.offset=n-D);else{var w=c/u,C=e[1]-w*n,P=0,O=0,R=!1;b?(P=w*(O=D)+C,R=!0):E&&(O=((P=M)-C)/w,R=!0),R&&(p.isSnap=!0,p.pos=O,p.offset=n-O,h.isSnap=!0,h.pos=P,h.offset=i-P)}return{vertical:p,horizontal:h}}(t,r,e),u=s.horizontal,c=s.vertical,f=ln(a,u),l=ln(o,c),p=Math.abs(f),h=Math.abs(l);return{horizontal:{isBound:a.isBound,isSnap:u.isSnap,offset:f,dist:p},vertical:{isBound:o.isBound,isSnap:c.isSnap,offset:l,dist:h}}}function dn(t,r,e,n){void 0===n&&(n=e);var i=rn(t,n.map(function(t){return t[0]}),n.map(function(t){return t[1]})),a=i.horizontal,o=i.vertical,s=r?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:qe(t,e.map(function(t){return t[0]}),e.map(function(t){return t[1]})),u=s.horizontal,c=s.vertical,f=pn(a,u),l=pn(o,c),p=Math.abs(f),h=Math.abs(l);return{horizontal:{isBound:a.isBound,isSnap:u.isSnap,offset:f,dist:p},vertical:{isBound:o.isBound,isSnap:c.isSnap,offset:l,dist:h}}}function gn(t,r,e,n,i,a){var o,s,u,c,y,x,E,S,M,f=(s=n,u=[],c=[-(o=e)[0],-o[1]],o[0]&&o[1]?(u.push([c,[o[0],-o[1]]],[c,[-o[0],o[1]]]),s&&u.push([c,o])):o[0]?s?u.push([c,[c[0],-1]],[c,[c[0],1]],[c,[o[0],-1]],[c,o],[c,[o[0],1]]):u.push([[c[0],-1],[o[0],-1]],[[c[0],0],[o[0],0]],[[c[0],1],[o[0],1]]):o[1]?s?u.push([c,[-1,c[1]]],[c,[1,c[1]]],[c,[-1,o[1]]],[c,[1,o[1]]],[c,o]):u.push([[-1,c[1]],[-1,o[1]]],[[0,c[1]],[0,o[1]]],[[1,c[1]],[1,o[1]]]):u.push([c,[1,0]],[c,[-1,0]],[c,[0,-1]],[c,[0,1]],[[1,0],[1,-1]],[[1,0],[1,1]],[[0,1],[1,1]],[[0,1],[-1,1]],[[-1,0],[-1,-1]],[[-1,0],[-1,1]],[[0,-1],[1,-1]],[[0,-1],[-1,-1]]),u),l=Ze(r,e,n),p=(y=t,x=r,E=n,S=i,M=a,f.map(function(t){var r=t[0],e=t[1],n=_e(x,r),i=_e(x,e),a=E?hn(y,n,i,S):dn(y,S,[i]),o=a.horizontal,s=o.dist,u=o.offset,c=o.isBound,f=o.isSnap,l=a.vertical,p=l.dist,h=l.offset,d=l.isBound,g=l.isSnap,v=Bt(e,r);if(!h&&!u)return{isBound:d||c,isSnap:g||f,sign:v,offset:[0,0]};var m=s<p,b=cn(n,i,m?h:u,m,M).map(function(t,r){return t*(v[r]?2/v[r]:0)});return{sign:v,isBound:m?d:c,isSnap:m?g:f,offset:b}}).concat($e(t,l,_e(r,[0,0]),a))),h=He(p,0),d=He(p,1);return{width:{isBound:h.isBound,offset:h.offset[0]},height:{isBound:d.isBound,offset:d.offset[1]}}}function vn(t,r,e,n,i,a,o,s){for(var u=$r(t.state),c=t.props.keepRatio,f=0,l=0,p=0;p<2;++p){var h=gn(t,r(f,l),i,c,o,s),d=h.width,g=h.height,v=d.isBound,m=g.isBound,b=d.offset,y=g.offset;if(1===p&&(v||(b=0),m||(y=0)),0===p&&o&&!v&&!m)return[0,0];if(c){var x=Math.abs(b)*(e?1/e:1),E=Math.abs(y)*(n?1/n:1);(v&&m?x<E:m||!v&&x<E)?b=e*y/n:y=n*b/e}f+=b,l+=y}if(i[0]&&i[1]){var S=function(t,o,s,u,r,c,f){var l=[-r[0],-r[1]],e=t.props.bounds,p=1/0,h=1/0;if(e){var n=[[r[0],-r[1]],[-r[0],r[1]]],i=e.left,d=void 0===i?-1/0:i,a=e.top,g=void 0===a?-1/0:a,v=e.right,m=void 0===v?1/0:v,b=e.bottom,y=void 0===b?1/0:b;n.forEach(function(t){var r=t[0]!==l[0],e=t[1]!==l[1],n=_e(u,t);if(e){var i=cn(c,n,(c[1]<n[1]?y:g)-n[1],!1,f)[1];isNaN(i)||(h=s+i)}if(r){var a=cn(c,n,(c[0]<n[0]?m:d)-n[0],!0,f)[0];isNaN(a)||(p=o+a)}})}return{maxWidth:p,maxHeight:h}}(t,e,n,u,i,a,s),M=S.maxWidth,D=S.maxHeight,w=function(t,r,e,n,i,a,o,s,u){var c=dn(t,s,[_e(r,o)]),f=c.horizontal.offset,l=c.vertical.offset;if(l||f){var p=Re({datas:u,distX:-l,distY:-f}),h=p[0],d=p[1];return[Math.min(i||1/0,e+o[0]*h)-e,Math.min(a||1/0,n+o[1]*d)-n]}return[0,0]}(t,r(f,l),e+f,n+l,M,D,i,o,s);f+=b=w[0],l+=y=w[1]}return[f,l]}function mn(t,r,e,n){if(!un(t,"rotatable"))return n;var i=r.pos1,a=r.pos2,o=r.pos3,s=r.pos4,u=n*Math.PI/180,c=[i,a,o,s].map(function(t){return Bt(t,e)}),f=c.map(function(t){return Gt(t,u)}),l=an(t,c,f,e,n).concat(tn(t,c,f,e,n));return l.sort(function(t,r){return Math.abs(t-n)-Math.abs(r-n)}),l.length?l[0]:n}function bn(t,r,e,n,i,a){if(!un(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var o=Kr(a.absolutePoses,[r,e]),s=Yr(o),u=s.left,c=s.right,f=s.top,l=s.bottom,p=[[u,f],[c,f],[u,l],[c,l]];t.props.snapCenter&&p.push([(u+c)/2,(f+l)/2]);var h=dn(t,i,p,o),d=h.vertical,g=h.horizontal,v=Je(t,o,a),m=v.vertical,b=v.horizontal,y=d.isSnap,x=g.isSnap,E=d.isBound||m.isBound,S=g.isBound||b.isBound,M=function(t,r,e,n,i){var a=r[0],o=r[1],s=e[0],u=e[1],c=n[0],f=n[1],l=i[0],p=i[1],h=-l,d=-p;if(t&&a&&o){d=h=0;var g=[];if(s&&u?g.push([0,p],[l,0]):s?g.push([l,0]):u?g.push([0,p]):c&&f?g.push([0,p],[l,0]):c?g.push([l,0]):f&&g.push([0,p]),g.length){g.sort(function(t,r){return Xr(Bt([a,o],t))-Xr(Bt([a,o],r))});var v=g[0];if(v[0]&&Math.abs(a)>yr)h=-v[0],d=o*Math.abs(a+h)/Math.abs(a)-o;else if(v[1]&&Math.abs(o)>yr){var m=o;d=-v[1],h=a*Math.abs(o+d)/Math.abs(m)-a}if(t&&u&&s)if(Math.abs(h)>yr&&Math.abs(h)<Math.abs(l))h*=b=Math.abs(l)/Math.abs(h),d*=b;else if(Math.abs(d)>yr&&Math.abs(d)<Math.abs(p)){var b;h*=b=Math.abs(p)/Math.abs(d),d*=b}else h=fe(-l,h),d=fe(-p,d)}}else h=a||s?-l:0,d=o||u?-p:0;return[h,d]}(n,[r,e],[E,S],[y,x],[fe(d.offset,m.offset),fe(g.offset,b.offset)]);return[{isBound:E,isSnap:y,offset:M[0]},{isBound:S,isSnap:x,offset:M[1]}]}function yn(t){var e=[];return t.forEach(function(t){t.guidelineInfos.forEach(function(t){var r=t.guideline;-1<e.indexOf(r)||e.push(r)})}),e}function xn(t,r,e,n){var i=t-e,a=i<0?i+r:n;return{size:(i<0?0:i)-a,pos:a}}function En(t,c,e,f){var l=[],r=ue(t.filter(function(t){var r=t.element,e=t.gap;return r&&!e}),function(t){var r,e,n,i=t.element,a=t.pos,o=a[f],s=(Math.min(0,o-c)<0?-1:1)+"_"+a[f?0:1],u=-1<(n=S(r=l,function(t){var r=t[0],e=t[1];return i===r&&o===e}))?r[n]:e;return u?u[2]:(l.push([i,o,s]),s)});return r.forEach(function(t){t.sort(function(t,r){return xn(t.pos[f],t.size,c,e).size-xn(r.pos[f],t.size,c,e).size||t.pos[f?0:1]-r.pos[f?0:1]})}),r}function Sn(t,r,p,h,d,g,v,m,b,y,x,E){var S=r[0],M=r[1],D=r[2],w=r[3];return ce(t.map(function(t,f){var l=!0;return t.map(function(t,r){var e,n=t.pos,i=t.size,a=xn(n[y],i,h,d),o=a.pos,s=a.size;if(s<v)return null;var u=l;l=!1;var c=m&&u?parseFloat(s.toFixed(b)):0;return E.createElement("div",{className:Dr("line",S,"guideline","dashed"),"data-size":0<c?x(c):"",key:S+"LinkGuidline"+f+"-"+r,style:((e={})[M]=p+o+"px",e[D]=-g+n[y?0:1]+"px",e[w]=s+"px",e)})})}))}function Mn(t,r,n,i,a,o){var s=r[0],u=r[1],c=r[2],f=r[3];return t.map(function(t,r){var e;return o.createElement("div",{className:Dr("line",s,"guideline","target","bold"),key:s+"TargetGuidline"+r,style:((e={})[u]=n+"px",e[c]=-i+t+"px",e[f]=a+"px",e)})})}function Dn(t,r,o,s,u,c){var f=r[0],l=r[1],p=r[2],h=r[3];return t.map(function(t,r){var e,n=t.pos,i=t.size,a=t.element;return c.createElement("div",{className:Dr("line",f,"guideline",a?"bold":""),key:f+"Guidline"+r,style:((e={})[l]=-o+n[u]+"px",e[p]=-s+n[u?0:1]+"px",e[h]=i+"px",e)})})}function wn(t,i,P,O){var r=t.filter(function(t){var r=t.element,e=t.gap,n=t.type;return r&&e&&n===i}),e="vertical"===i?[0,1]:[1,0],R=e[0],z=e[1];return ce(r.map(function(t,r){var e=t.pos,n=t.gap,i=t.gapGuidelines,a=t.sizes,o=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.sort(function(t,r){return Math.abs(t)-Math.abs(r)}),t[0]}(e[z]+a[z]-P[z],e[z]-P[z]-O[z]),s=Math.min(a[z],O[z]);0<o&&s<o?o=2*(o-s/2):o<0&&o<-s&&(o=2*(o+s/2));var u,c,f,l,p,h,d,g,v,m,b,y,x,E,S,M,D,w,C=(0<o?0:O[z])+o/2;return m=i,b=R,y=P,x=O,E=e,S=n,M=C,D=Math.abs(S),w=E[b]+(0<S?x[0]:0),m.filter(function(t){return t.pos[b]<=y[b]}).sort(function(t,r){var e=t.pos;return r.pos[b]-e[b]}).filter(function(t){var r=t.pos,e=t.sizes,n=r[b];return Jr(n+e[b],1e-4)===Jr(w-D,1e-4)&&(w=n,!0)}).map(function(t){var r=-y[b]+t.pos[b]+t.sizes[b];return lr({},t,{gap:S,renderPos:b?[M,r]:[r,M]})}).concat((u=i,c=R,f=P,l=O,p=e,h=n,d=C,g=Math.abs(h),v=p[c]+(h<0?l[c]:0),u.filter(function(t){return t.pos[c]>f[c]}).sort(function(t,r){var e=t.pos,n=r.pos;return e[c]-n[c]}).filter(function(t){var r=t.pos,e=t.sizes,n=r[c];return Jr(n,1e-4)===Jr(v+g,1e-4)&&(v=n+e[c],!0)}).map(function(t){var r=-f[c]+t.pos[c]-g;return lr({},t,{gap:h,renderPos:c?[d,r]:[r,d]})})))}))}function Cn(t,r,e,n,s,u){var c=n[0],f=n[1],l=n[2],p=n[3],i=t.props,a=i.snapDigit,h=void 0===a?0:a,o=i.isDisplaySnapDigit,d=void 0===o||o,g="vertical"===e?"horizontal":"vertical",v="vertical"===e?[0,1]:[1,0],m=v[0],b=v[1];return r.map(function(t,r){var e,n=t.renderPos,i=t.gap,a=Math.abs(i),o=d?parseFloat(a.toFixed(h)):0;return u.createElement("div",{className:Dr("line",c,"guideline","gap"),"data-size":0<o?s(o):"",key:g+"GapGuideline"+r,style:((e={})[f]=n[m]+"px",e[l]=n[b]+"px",e[p]=a+"px",e)})})}function Pn(t,r,e,n,i){var a=rn(t,r,e),o=a.vertical,s=o.isBound,u=o.pos,c=a.horizontal,f=c.isBound,l=c.pos;s&&n.indexOf(u)<0&&n.push(u),f&&i.indexOf(l)<0&&i.push(l);var p=function(t){var r=t.props.innerBounds;if(!r)return{vertical:[],horizontal:[]};var e=t.getRect(),n=e.pos1,i=e.pos2,a=e.pos3,o=e.pos4,u=_e([n,i,a,o],[0,0]),c=r.left,f=r.top,l=r.width,p=r.height,h=[[c,f],[c,f+p]],d=[[c,f],[c+l,f]],g=[[c+l,f],[c+l,f+p]],v=[[c,f+p],[c+l,f+p]],m=[],b=[],y={top:!1,bottom:!1,left:!1,right:!1};return[[n,i],[i,o],[o,a],[a,n]].forEach(function(t){var r=Le(u,t),e=r.horizontal,n=r.vertical,i=Ke(t,d,n,1),a=Ke(t,v,n,1),o=Ke(t,h,e,1),s=Ke(t,g,e,1);i.isBound&&!y.top&&(m.push(f),y.top=!0),a.isBound&&!y.bottom&&(m.push(f+p),y.bottom=!0),o.isBound&&!y.left&&(b.push(c),y.left=!0),s.isBound&&!y.right&&(b.push(c+l),y.right=!0)}),{horizontal:m,vertical:b}}(t),h=p.vertical,d=p.horizontal;n.push.apply(n,h.filter(function(t){return n.indexOf(t)<0})),i.push.apply(i,d.filter(function(t){return i.indexOf(t)<0}))}var On={name:"snappable",props:{snappable:[Boolean,Array],snapCenter:Boolean,snapHorizontal:Boolean,snapVertical:Boolean,snapElement:Boolean,snapGap:Boolean,isDisplaySnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object},render:function(t,r){var e=t.state,n=e.top,i=e.left,a=e.pos1,o=e.pos2,s=e.pos3,u=e.pos4,c=e.snapRenderInfo,f=e.targetClientRect,l=e.containerClientRect,p=e.is3d,h=e.rootMatrix;if(!c||!un(t,""))return[];var d,g,v,m,b,y,x,E=p?4:3,S=Math.min(a[0],o[0],s[0],u[0]),M=Math.min(a[1],o[1],s[1],u[1]),D=on(h,l,E),w=le(h,[f.left-D[0],f.top-D[1]],E),C=w[0],P=w[1],O=t.props,R=O.snapThreshold,z=void 0===R?5:R,B=O.snapDigit,_=void 0===B?0:B,G=O.isDisplaySnapDigit,T=void 0===G||G,A=O.snapDistFormat,I=void 0===A?function(t){return t}:A,Y=$r(t.state),k=Yr(Y),N=k.width,X=k.height,q=k.top,W=k.left,j=k.bottom,H=k.right,L=[],F=[],V=[],U=[],K=[];if(!c.request){if(c.direction&&K.push(function(t,r,e){var n=[];if(e[0]&&e[1])n=[e,[-e[0],e[1]],[e[0],-e[1]]].map(function(t){return _e(r,t)});else if(e[0]||e[1])t.props.keepRatio?n=[[-1,-1],[-1,1],[1,-1],[1,1],e].map(function(t){return _e(r,t)}):1<(n=Be(r,e)).length&&n.push([(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]);else for(var i=[r[0],r[1],r[3],r[2],r[0]],a=0;a<4;++a)n.push(i[a]),n.push([(i[a][0]+i[a+1][0])/2,(i[a][1]+i[a+1][1])/2]);return qe(t,n.map(function(t){return t[0]}),n.map(function(t){return t[1]}),!0,1)}(t,Y,c.direction)),c.snap){var $=Yr(Y);c.center&&($.middle=($.top+$.bottom)/2,$.center=($.left+$.right)/2),K.push((g=$,v=!0,m=1,b=(d=t).props.snapCenter&&v,y=["left","right"],x=["top","bottom"],b&&(y.push("center"),x.push("middle")),y=y.filter(function(t){return t in g}),x=x.filter(function(t){return t in g}),qe(d,y.map(function(t){return g[t]}),x.map(function(t){return g[t]}),b,m)))}K.forEach(function(t){var r=t.vertical.posInfos,e=t.horizontal.posInfos;L.push.apply(L,r.map(function(t){return t.pos})),F.push.apply(F,e.map(function(t){return t.pos})),V.push.apply(V,yn(r)),U.push.apply(U,yn(e))})}Pn(t,[W,H],[q,j],L,F);var J=En(U,C,N,0),Z=En(V,P,X,1),Q=["horizontal","left","top","width"],tt=["vertical","top","left","height"],rt=wn(V,"vertical",[i,n],[N,X]),et=wn(U,"horizontal",[i,n],[N,X]),nt=V.concat(U);return ee(t,"onSnap",{guidelines:nt.filter(function(t){return!t.element}),elements:ue(nt.filter(function(t){return t.element}),function(t){return t.element}),gaps:rt.concat(et)},!0),Cn(t,rt,"vertical",Q,I,r).concat(Cn(t,et,"horizontal",tt,I,r),Sn(J,Q,S,C,N,n,z,T,_,0,I,r),Sn(Z,tt,M,P,X,i,z,T,_,1,I,r),Mn(F,Q,S,n,N,r),Mn(L,tt,M,i,X,r),Dn(U,Q,i,n,0,r),Dn(V,tt,n,i,1,r))},dragStart:function(t,r){t.state.snapRenderInfo={request:r.isRequest,snap:!0,center:!0},sn(t)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t){return Ne(t)||Tn(t)},dragControlStart:function(t,r){t.state.snapRenderInfo=null,sn(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,r){this.dragStart(t,r)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t,r){t.state.snapRenderInfo=null,sn(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var r=t.state;r.enableSnap=!1,r.guidelines=[],r.snapRenderInfo=null}},Rn={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number},render:function(t,r){var e=t.props.throttleDragRotate,n=t.state,i=n.dragInfo,a=n.beforeOrigin;if(e&&i){var o=i.dist;if(o[0]||o[1]){var s=Xr(o),u=Mt(o,[0,0]);return r.createElement("div",{className:Dr("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:s+"px",transform:"translate("+a[0]+"px, "+a[1]+"px) rotate("+u+"rad)"}})}}},dragStart:function(t,r){var e=r.datas,n=r.parentEvent,i=r.parentDragger,a=t.state,o=a.targetTransform,s=a.target;if(a.dragger)return!1;a.dragger=i||t.targetDragger;var u,c=window.getComputedStyle(s);e.datas={},e.left=parseFloat(c.left||"")||0,e.top=parseFloat(c.top||"")||0,e.bottom=parseFloat(c.bottom||"")||0,e.right=parseFloat(c.right||"")||0,e.transform=o,e.startTranslate=[0,0],Oe(t,{datas:e}),e.prevDist=[0,0],e.prevBeforeDist=[0,0],e.isDrag=!1,u=t,e.absolutePoses=$r(u.state);var f=re(t,r,{set:function(t){e.startTranslate=t}});return!1!==(n||ee(t,"onDragStart",f))?(e.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(a.dragger=null,e.isPinch=!1),!!e.isDrag&&f},drag:function(t,r){var e=r.datas,n=r.parentEvent,i=r.parentFlag,a=r.isPinch,o=r.isRequest,s=r.distX,u=r.distY,c=e.isDrag,f=e.prevDist,l=e.prevBeforeDist,p=e.transform,h=e.startTranslate;if(c){var d=t.props,g=d.parentMoveable,v=!n&&d.throttleDrag||0,m=!n&&d.throttleDragRotate||0,b=!1,y=0;if(0<m&&(s||u)){var x=Jr(180*Mt([0,0],[s,u])/Math.PI,m),E=Xr([s,u]);y=x*Math.PI/180,s=E*Math.cos(y),u=E*Math.sin(y)}if(!a&&!n&&!i&&(s||u)){var S=bn(t,s,u,m,o,e),M=S[0],D=S[1],w=M.isSnap,C=M.isBound,P=M.offset,O=D.isSnap,R=D.isBound;b=w||O||C||R,s+=P,u+=D.offset}e.passDeltaX=s-(e.passDistX||0),e.passDeltaY=u-(e.passDistY||0),e.passDistX=s,e.passDistY=u;var z=zt(Re({datas:e,distX:s,distY:u},!0),h),B=zt(Re({datas:e,distX:s,distY:u},!1),h);m||b||(Zr(B,v),Zr(z,v));var _=Bt(z,h),G=Bt(B,h),T=Bt(G,f),A=Bt(_,l);e.prevDist=G,e.prevBeforeDist=_;var I=e.left+_[0],Y=e.top+_[1],k=e.right-_[0],N=e.bottom-_[1],X=p+" translate("+G[0]+"px, "+G[1]+"px)";if(t.state.dragInfo.dist=n?[0,0]:G,n||g||!T.every(function(t){return!t})||!A.some(function(t){return!t})){var q=re(t,r,{transform:X,dist:G,delta:T,translate:B,beforeDist:_,beforeDelta:A,beforeTranslate:z,left:I,top:Y,right:k,bottom:N,isPinch:a});return n||ee(t,"onDrag",q),q}}},dragEnd:function(t,r){var e=r.parentEvent,n=r.datas,i=r.isDrag;if(t.state.dragger=null,t.state.dragInfo=null,n.isDrag)return n.isDrag=!1,e||ee(t,"onDragEnd",re(t,r,{isDrag:i})),i},dragGroupStart:function(t,r){var e=r.datas,n=r.clientX,i=r.clientY,a=this.dragStart(t,r);if(!a)return!1;var o=Ce(t,this,"dragStart",[n,i],r,!1),s=ee(t,"onDragGroupStart",lr({},a,{targets:t.props.targets,events:o}));return e.isDrag=!1!==s,!!e.isDrag&&a},dragGroup:function(t,r){if(r.datas.isDrag){var e=this.drag(t,r),n=r.datas,i=Ce(t,this,"drag",[n.passDeltaX,n.passDeltaY],r,!1);if(e){var a=lr({targets:t.props.targets,events:i},e);return ee(t,"onDragGroup",a),a}}},dragGroupEnd:function(t,r){var e=r.isDrag;if(r.datas.isDrag)return this.dragEnd(t,r),Ce(t,this,"dragEnd",[0,0],r,!1),ee(t,"onDragGroupEnd",re(t,r,{targets:t.props.targets,isDrag:e})),e},request:function(t){var r={},e=t.getRect(),n=0,i=0;return{isControl:!1,requestStart:function(t){return{datas:r}},request:function(t){return"x"in t?n=t.x-e.left:"deltaX"in t&&(n+=t.deltaX),"y"in t?i=t.y-e.top:"deltaY"in t&&(i+=t.deltaY),{datas:r,distX:n,distY:i}},requestEnd:function(){return{datas:r,isDrag:!0}}}},unset:function(t){t.state.dragInfo=null}};function zn(t,r,e,n,i,a){var o=t.state.is3d?4:3,s=Ar(t.state.rootMatrix,i,o),u=zt([a.left,a.top],s);r.startAbsoluteOrigin=u,r.prevDeg=Mt(u,[e,n])/Math.PI*180,r.prevSnapDeg=r.prevDeg,r.startDeg=r.prevDeg,r.loop=0}function Bn(t,r,e,n,i,a){var o=e.prevDeg,s=a+n,u=mn(t,r,e.origin,n);return[i*((e.prevDeg=u)-o),u,s]}function _n(t,r,e,n,i,a,o,s){var u=e.prevDeg,c=e.prevSnapDeg,f=e.startDeg,l=e.loop;n<u&&270<u&&n<90?++e.loop:u<n&&u<90&&270<n&&--e.loop;var p=e.loop,h=360*l+c-f+a,d=360*p+n-f+a;e.prevDeg=d-360*p+f-a;var g=i*((d=Jr(d,o))-a);return s&&(d=(g=mn(t,r,e.origin,g))/i+a),e.prevSnapDeg=d-360*p+f-a,[i*(d-h),g,d]}function Gn(t,r,e,n,i,a,o,s){return _n(t,r,e,Mt(e.startAbsoluteOrigin,[i,a])/Math.PI*180,n,o,s,!0)}function Tn(t){return!!t.isRequest||M(t.inputEvent.target,Dr("rotation"))}var An={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number},render:function(t,r){var e=t.props,n=e.rotatable,i=e.rotationPosition;if(!n)return null;var a,o,s,u,c,f,l=t.state,p=l.renderPoses,h=l.direction,d=(a=i,s=(o=p)[0],u=o[1],c=o[2],f=o[3],"left"===a?[c,s]:"right"===a?[u,f]:"bottom"===a?[f,c]:[s,u]),g=Hr(d,h);return r.createElement("div",{key:"rotation",className:Dr("line rotation-line"),style:{transform:"translate(-50%) translate("+(d[0][0]+d[1][0])/2+"px, "+(d[0][1]+d[1][1])/2+"px) rotate("+g+"rad)"}},r.createElement("div",{className:Dr("control","rotation")}))},dragControlCondition:Tn,dragControlStart:function(t,r){var e=r.datas,n=r.clientX,i=r.clientY,a=r.parentRotate,o=r.parentFlag,s=r.isPinch,u=r.isRequest,c=t.state,f=c.target,l=c.left,p=c.top,h=c.origin,d=c.beforeOrigin,g=c.direction,v=c.beforeDirection,m=c.targetTransform;if(!u&&!f)return!1;var b=t.getRect();if(e.rect=b,e.transform=m,e.left=l,e.top=p,u||s||o){var y=a||0;e.beforeInfo={origin:b.beforeOrigin,prevDeg:y,startDeg:y,prevSnapDeg:y,loop:0},e.afterInfo={origin:b.origin,prevDeg:y,startDeg:y,prevSnapDeg:y,loop:0}}else{e.beforeInfo={origin:b.beforeOrigin},e.afterInfo={origin:b.origin};var x=Vr(t.controlBox.getElement());zn(t,e.beforeInfo,n,i,d,x),zn(t,e.afterInfo,n,i,h,x)}e.direction=g,e.beforeDirection=v,e.startRotate=0,e.datas={};var E=re(t,r,{set:function(t){e.startRotate=t}}),S=ee(t,"onRotateStart",E);return e.isRotate=!1!==S,t.state.snapRenderInfo={request:r.isRequest},!!e.isRotate&&E},dragControl:function(t,r){var e,n,i,a,o,s,u=r.datas,c=r.clientX,f=r.clientY,l=r.parentRotate,p=r.parentFlag,h=r.isPinch,d=u.direction,g=u.beforeDirection,v=u.beforeInfo,m=u.afterInfo,b=u.isRotate,y=u.startRotate,x=u.rect;if(b){var E,S,M,D,w,C,P=t.props,O=P.throttleRotate,R=void 0===O?0:O,z=P.parentMoveable;if("parentDist"in r){var B=r.parentDist;E=(e=Bn(t,x,m,B,d,y))[0],S=e[1],M=e[2],D=(n=Bn(t,x,v,B,d,y))[0],w=n[1],C=n[2]}else C=h||p?(E=(i=_n(t,x,m,l,d,y,R))[0],S=i[1],M=i[2],D=(a=_n(t,x,v,l,d,y,R))[0],w=a[1],a[2]):(E=(o=Gn(t,x,m,d,c,f,y,R))[0],S=o[1],M=o[2],D=(s=Gn(t,x,v,g,c,f,y,R))[0],w=s[1],s[2]);if(E||D||z){var _=re(t,r,{delta:E,dist:S,rotate:M,beforeDist:w,beforeDelta:D,beforeRotate:C,transform:u.transform+" rotate("+S+"deg)",isPinch:!!h});return ee(t,"onRotate",_),_}}},dragControlEnd:function(t,r){var e=r.datas,n=r.isDrag;return!!e.isRotate&&(e.isRotate=!1,ee(t,"onRotateEnd",re(t,r,{isDrag:n})),n)},dragGroupControlCondition:Tn,dragGroupControlStart:function(t,r){var e=r.datas,u=r.inputEvent,n=t.state,c=n.left,f=n.top,l=n.beforeOrigin,i=this.dragControlStart(t,r);if(!i)return!1;i.set(t.rotation);var a=Pe(t,this,"dragControlStart",e,lr({},r,{parentRotate:0}),function(t,r,e){var n=t.state,i=n.left,a=n.top,o=n.beforeOrigin,s=zt(Bt([i,a],[c,f]),Bt(o,l));r.prevClient=s,e.dragStart=Rn.dragStart(t,(new we).dragStart(s,u))}),o=ee(t,"onRotateGroupStart",lr({},i,{targets:t.props.targets,events:a}));return e.isRotate=!1!==o,!!e.isRotate&&i},dragGroupControl:function(r,p){var h=p.inputEvent,t=p.datas;if(t.isRotate){var e=this.dragControl(r,p);if(e){var n=e.beforeDist,d=e.beforeDelta/180*Math.PI,i=Pe(r,this,"dragControl",t,lr({},p,{parentRotate:n}),function(t,r,e,n){var i=r.prevClient,a=i[0],o=i[1],s=Gt([a,o],d),u=s[0],c=s[1],f=[u-a,c-o];r.prevClient=[u,c];var l=Rn.drag(t,De(t.state,f,h,!!p.isPinch,!1));e.drag=l});r.rotation=e.beforeRotate;var a=lr({targets:r.props.targets,events:i,set:function(t){r.rotation=t}},e);return ee(r,"onRotateGroup",a),a}}},dragGroupControlEnd:function(t,r){var e=r.isDrag,n=r.datas;if(n.isRotate)return this.dragControlEnd(t,r),Pe(t,this,"dragControlEnd",n,r),ee(t,"onRotateGroupEnd",re(t,r,{targets:t.props.targets,isDrag:e})),e},request:function(){var r={},e=0;return{isControl:!0,requestStart:function(t){return{datas:r}},request:function(t){return e+=t.deltaRotate,{datas:r,parentDist:e}},requestEnd:function(){return{datas:r,isDrag:!0}}}}};function In(t,r,n){var e=t.state,i=e.renderPoses,a=e.rotation,o=t.props.renderDirections,s=void 0===o?r:o,u={};return s.forEach(function(t){u[t]=!0}),s.map(function(t){var r=Sr[t];if(!r||!u[t])return null;var e=(Jr(a/Math.PI*180,15)+Mr[t])%180;return n.createElement("div",{className:Dr("control","direction",t),"data-rotation":e,"data-direction":t,key:"direction-"+t,style:Wr.apply(void 0,[a].concat(r.map(function(t){return i[t]})))})})}function Yn(t,r){return In(t,["nw","ne","sw","se","n","w","s","e"],r)}function kn(t,r){return In(t,["nw","ne","sw","se"],r)}var Nn={name:"resizable",ableGroup:"size",updateRect:!0,canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,baseDirection:Array,keepRatio:Boolean},render:function(t,r){var e=t.props,n=e.resizable,i=e.edge;if(n)return(i?kn:Yn)(t,r)},dragControlCondition:Ne,dragControlStart:function(t,r){var e,n,i,a=r.inputEvent,o=r.isPinch,s=r.parentDirection,u=r.datas,c=s||(o?[0,0]:Ur(a.target)),f=t.state,l=f.target,p=f.width,h=f.height;if(!c||!l)return!1;o||Oe(t,{datas:u}),u.datas={},u.direction=c,u.startOffsetWidth=p,u.startOffsetHeight=h,u.prevWidth=0,u.prevHeight=0,n=l,i=window.getComputedStyle(n),e=[parseFloat(i.width),parseFloat(i.height)],u.startWidth=e[0],u.startHeight=e[1],u.transformOrigin=t.props.transformOrigin,u.startDirection=function(t,r){if(!r[0]&&!r[1])return[0,0];var e=t.props.baseDirection,n=void 0===e?[-1,-1]:e;return[r[0]?r[0]:-1*n[0],r[1]?r[1]:-1*n[1]]}(t,c),u.fixedPosition=ke(t,u.startDirection),u.fixedOriginalPosition=ke(t,c);var d=re(t,r,{direction:c,set:function(t){var r=t[0],e=t[1];u.startWidth=r,u.startHeight=e},setOrigin:function(t){u.transformOrigin=t},dragStart:Rn.dragStart(t,(new we).dragStart([0,0],a))});return!1!==ee(t,"onResizeStart",d)&&(u.isResize=!0,t.state.snapRenderInfo={request:r.isRequest,direction:c}),!!u.isResize&&d},dragControl:function(t,r){var e=r.datas,n=r.distX,i=r.distY,a=r.parentFlag,o=r.isPinch,s=r.parentDistance,u=r.parentScale,c=r.inputEvent,f=r.parentKeepRatio,l=r.dragClient,p=r.parentDist,h=r.isRequest,d=e.direction,g=e.isResize,v=e.transformOrigin;if(g){var m=e.startWidth,b=e.startHeight,y=e.startOffsetWidth,x=e.startOffsetHeight,E=e.prevWidth,S=e.prevHeight,M=t.props,D=M.throttleResize,w=void 0===D?0:D,C=M.parentMoveable,P=d;d[0]||d[1]||(P=[1,1]);var O=t.props.keepRatio||f,R=P[0]||!P[1],z=R?x/y:y/x,B=O||a?d:e.startDirection,_=l,G=0,T=0;if(l||(_=!a&&o?ke(t,[0,0]):O?e.fixedOriginalPosition:e.fixedPosition),p)G=p[0],T=p[1];else if(u)G=(u[0]-1)*y,T=(u[1]-1)*x;else if(o)s&&(T=(G=s)*x/y);else{var A=Re({datas:e,distX:n,distY:i});if(G=P[0]*A[0],T=P[1]*A[1],O&&y&&x){var I=Mt([0,0],A),Y=Mt([0,0],P),k=Mt([0,0],[y,x]),N=Xr([G,T]),X=Math.cos(I-Y)*N;P[0]?T=P[1]?(G=Math.cos(k)*X,Math.sin(k)*X):ae(G=X,R,z):G=oe(T=X,R,z)}}var q=P[0]||O?Math.max(y+G,yr):y,W=P[1]||O?Math.max(x+T,yr):x;O&&y&&x&&(W=q*x/y);var j=[0,0];if(o||(j=function(t,e,n,i,a,r,o){if(!un(t,"resizable"))return[0,0];var s=t.state,u=s.matrix,c=s.is3d;return vn(t,function(t,r){return fn(u,e+t,n+r,a,i,c)},e,n,i,a,r,o)}(t,q,W,d,e.fixedOriginalPosition,h,e)),p&&(p[0]||(j[0]=0),p[1]||(j[1]=0)),O){P[0]&&P[1]&&j[0]&&j[1]&&(Math.abs(j[0])>Math.abs(j[1])?j[1]=0:j[0]=0);var H=!j[0]&&!j[1];H&&(R?q=Jr(q,w):W=Jr(W,w)),P[0]&&!P[1]||j[0]&&!j[1]||H&&R?W=ae(q+=j[0],R,z):(!P[0]&&P[1]||!j[0]&&j[1]||H&&!R)&&(q=oe(W+=j[1],R,z))}else q+=j[0],W+=j[1],j[0]||(q=Jr(q,w)),j[1]||(W=Jr(W,w));var L=[(G=(q=Math.round(q))-y)-E,(T=(W=Math.round(W))-x)-S];if(e.prevWidth=G,e.prevHeight=T,C||!L.every(function(t){return!t})){var F=Ye(t,q,W,B,_,v),V=re(t,r,{width:m+G,height:b+T,offsetWidth:q,offsetHeight:W,direction:d,dist:[G,T],delta:L,isPinch:!!o,drag:Rn.drag(t,De(t.state,F,c,!!o,!1))});return ee(t,"onResize",V),V}}},dragControlAfter:function(t,r){var e=r.datas,n=e.isResize,i=e.startOffsetWidth,a=e.startOffsetHeight,o=e.prevWidth,s=e.prevHeight;if(n){var u=t.state,c=u.width-(i+o),f=u.height-(a+s),l=3<Math.abs(c),p=3<Math.abs(f);return l&&(e.startWidth+=c,e.startOffsetWidth+=c,e.prevWidth+=c),p&&(e.startHeight+=f,e.startOffsetHeight+=f,e.prevHeight+=f),l||p?(this.dragControl(t,r),!0):void 0}},dragControlEnd:function(t,r){var e=r.datas,n=r.isDrag;return!!e.isResize&&(e.isResize=!1,ee(t,"onResizeEnd",re(t,r,{isDrag:n})),n)},dragGroupControlCondition:Ne,dragGroupControlStart:function(o,s){var t=s.datas,r=this.dragControlStart(o,s);if(!r)return!1;var u=r.direction,c=ke(o,u),e=Pe(o,this,"dragControlStart",t,function(t,r){var e=ke(t,u),n=_t(At(-o.rotation/180*Math.PI,3),[e[0]-c[0],e[1]-c[1],1],3),i=n[0],a=n[1];return r.originalX=i,r.originalY=a,s}),n=lr({},r,{targets:o.props.targets,events:e}),i=ee(o,"onResizeGroupStart",n);return t.isResize=!1!==i,!!t.isResize&&r},dragGroupControl:function(a,o){var t=o.datas;if(t.isResize){var r=this.dragControl(a,o);if(r){var e=r.offsetWidth,n=r.offsetHeight,i=r.dist,s=a.props.keepRatio,u=[e/(e-i[0]),n/(n-i[1])],c=ke(a,t.direction),f=Pe(a,this,"dragControl",t,function(t,r){var e=_t(At(a.rotation/180*Math.PI,3),[r.originalX*u[0],r.originalY*u[1],1],3),n=e[0],i=e[1];return lr({},o,{parentDist:null,parentScale:u,dragClient:zt(c,[n,i]),parentKeepRatio:s})}),l=lr({targets:a.props.targets,events:f},r);return ee(a,"onResizeGroup",l),l}}},dragGroupControlEnd:function(t,r){var e=r.isDrag,n=r.datas;if(n.isResize)return this.dragControlEnd(t,r),Pe(t,this,"dragControlEnd",n,r),ee(t,"onResizeGroupEnd",re(t,r,{targets:t.props.targets,isDrag:e})),e},request:function(t){var r={},e=0,n=0,i=t.getRect();return{isControl:!0,requestStart:function(t){return{datas:r,parentDirection:t.direction||[1,1]}},request:function(t){return"offsetWidth"in t?e=t.offsetWidth-i.offsetWidth:"deltaWidth"in t&&(e+=t.deltaWidth),"offsetHeight"in t?n=t.offsetHeight-i.offsetHeight:"deltaHeight"in t&&(n+=t.deltaHeight),{datas:r,parentDist:[e,n]}},requestEnd:function(){return{datas:r,isDrag:!0}}}}},Xn={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},render:function(t,r){var e=t.props,n=e.resizable,i=e.scalable,a=e.edge;if(!n&&i)return(a?kn:Yn)(t,r)},dragControlCondition:Ne,dragControlStart:function(t,r){var e=r.datas,n=r.isPinch,i=r.inputEvent,a=r.parentDirection||(n?[0,0]:Ur(i.target)),o=t.state,s=o.width,u=o.height,c=o.targetTransform,f=o.target;if(!a||!f)return!1;n||Oe(t,{datas:e}),e.datas={},e.transform=c,e.prevDist=[1,1],e.direction=a,e.width=s,e.height=u,e.startScale=[1,1],e.fixedPosition=ke(t,a);var l=re(t,r,{direction:a,set:function(t){e.startScale=t},dragStart:Rn.dragStart(t,(new we).dragStart([0,0],i))});return!1!==ee(t,"onScaleStart",l)&&(e.isScale=!0,t.state.snapRenderInfo={request:r.isRequest,direction:a}),!!e.isScale&&l},dragControl:function(t,r){var e=r.datas,n=r.distX,i=r.distY,a=r.parentScale,o=r.parentDistance,s=r.parentKeepRatio,u=r.parentFlag,c=r.isPinch,f=r.inputEvent,l=r.dragClient,p=r.parentDist,h=r.isRequest,d=e.prevDist,g=e.direction,v=e.width,m=e.height,b=e.transform,y=e.isScale,x=e.startScale;if(!y)return!1;var E=t.props,S=E.throttleScale,M=E.parentMoveable,D=g;g[0]||g[1]||(D=[1,1]);var w=t.props.keepRatio||s,C=t.state,P=D[0]||!D[1],O=v*x[0],R=m*x[1],z=P?R/O:O/R,B=1,_=1,G=l;if(l||(G=!u&&c?ke(t,[0,0]):e.fixedPosition),p)B=(v+p[0])/v,_=(m+p[1])/m;else if(a)B=a[0],_=a[1];else if(c)o&&(B=(v+o)/v,_=(m+o*m/v)/m);else{var T=Re({datas:e,distX:n,distY:i}),A=D[0]*T[0],I=D[1]*T[1];if(w&&v&&m){var Y=Mt([0,0],T),k=Mt([0,0],D),N=Mt([0,0],[O,R]),X=Xr([A,I]),q=Math.cos(Y-k)*X;D[0]?I=D[1]?(A=Math.cos(N)*q,Math.sin(N)*q):ae(A=q,P,z):A=oe(I=q,P,z)}B=(v+A)/v,_=(m+I)/m}B=D[0]||w?B*x[0]:x[0],_=D[1]||w?_*x[1]:x[1],0===B&&(B=1e-9*(0<d[0]?1:-1)),0===_&&(_=1e-9*(0<d[1]?1:-1));var W=[B/x[0],_/x[1]],j=[B,_];if(!c&&t.props.groupable){var H=(C.snapRenderInfo||{}).direction;dt(H)&&(H[0]||H[1])&&(C.snapRenderInfo={direction:g,request:r.isRequest})}var L=[0,0];if(c||(L=function(t,e,n,i,r,a){var o=a.width,s=a.height;if(!un(t,"scalable"))return[0,0];var u=a.is3d,c=vn(t,function(t,r){return fn(Ie(a,zt(e,[t/o,r/s])),o,s,i,n,u)},o,s,n,i,r,a);return[c[0]/o,c[1]/s]}(t,W,g,e.fixedPosition,h,e)),w){D[0]&&D[1]&&L[0]&&L[1]&&(Math.abs(L[0])>Math.abs(L[1])?L[1]=0:L[0]=0);var F=!L[0]&&!L[1];if(F&&(P?W[0]=Jr(W[0]*x[0],S)/x[0]:W[1]=Jr(W[1]*x[1],S)/x[1]),D[0]&&!D[1]||L[0]&&!L[1]||F&&P){W[0]+=L[0];var V=ae(v*W[0]*x[0],P,z);W[1]=V/m/x[1]}else if(!D[0]&&D[1]||!L[0]&&L[1]||F&&!P){W[1]+=L[1];var U=oe(m*W[1]*x[1],P,z);W[0]=U/v/x[0]}}else W[0]+=L[0],W[1]+=L[1],L[0]||(W[0]=Jr(W[0]*x[0],S)/x[0]),L[1]||(W[1]=Jr(W[1]*x[1],S)/x[1]);0===W[0]&&(W[0]=1e-9*(0<d[0]?1:-1)),0===W[1]&&(W[1]=1e-9*(0<d[1]?1:-1));var K,$,J=[W[0]/d[0],W[1]/d[1]];if($=x,j=[(K=W)[0]*$[0],K[1]*$[1]],e.prevDist=W,B===d[0]&&_===d[1]&&!M)return!1;var Z,Q,tt,rt,et,nt,it,at,ot,st,ut,ct,ft,lt,pt=(Q=J,tt=g,rt=G,et=(Z=t).state,nt=et.is3d,it=et.left,at=et.top,ot=et.width,st=et.height,ut=nt?4:3,ct=Z.props.groupable,ft=ct?it:0,lt=ct?at:0,Bt(Te(rt,Ie(Z.state,Q),ot,st,ut,tt),[ft,lt])),ht=re(t,r,{scale:j,direction:g,dist:W,delta:J,transform:b+" scale("+B+", "+_+")",isPinch:!!c,drag:Rn.drag(t,De(t.state,pt,f,c,!1))});return ee(t,"onScale",ht),ht},dragControlEnd:function(t,r){var e=r.datas,n=r.isDrag;return!!e.isScale&&(e.isScale=!1,ee(t,"onScaleEnd",re(t,r,{isDrag:n})),n)},dragGroupControlCondition:Ne,dragGroupControlStart:function(o,s){var t=s.datas,r=this.dragControlStart(o,s);if(!r)return!1;var u=r.direction,c=ke(o,u),e=Pe(o,this,"dragControlStart",t,function(t,r){var e=ke(t,u),n=_t(At(-o.rotation/180*Math.PI,3),[e[0]-c[0],e[1]-c[1],1],3),i=n[0],a=n[1];return r.originalX=i,r.originalY=a,s}),n=lr({},r,{targets:o.props.targets,events:e}),i=ee(o,"onScaleGroupStart",n);return t.isScale=!1!==i,!!t.isScale&&n},dragGroupControl:function(a,o){var t=o.datas;if(t.isScale){var r=this.dragControl(a,o);if(r){var s=a.props.keepRatio,u=r.scale,c=ke(a,t.direction),e=Pe(a,this,"dragControl",t,function(t,r){var e=_t(At(a.rotation/180*Math.PI,3),[r.originalX*u[0],r.originalY*u[1],1],3),n=e[0],i=e[1];return lr({},o,{parentDist:null,parentScale:u,parentKeepRatio:s,dragClient:zt(c,[n,i])})}),n=lr({targets:a.props.targets,events:e},r);return ee(a,"onScaleGroup",n),n}}},dragGroupControlEnd:function(t,r){var e=r.isDrag,n=r.datas;if(n.isScale)return this.dragControlEnd(t,r),Pe(t,this,"dragControlEnd",n,r),ee(t,"onScaleGroupEnd",re(t,r,{targets:t.props.targets,isDrag:e})),e},request:function(){var r={},e=0,n=0;return{isControl:!0,requestStart:function(t){return{datas:r,parentDirection:t.direction||[1,1]}},request:function(t){return e+=t.deltaWidth,n+=t.deltaHeight,{datas:r,parentDist:[e,n]}},requestEnd:function(){return{datas:r,isDrag:!0}}}}};function qn(t,o){return t.map(function(t,r){return e=t,n=o[r],(e*(a=2)+n*(i=1))/(i+a);var e,n,i,a})}function Wn(t,r,e){var n=Mt(t,r),i=Mt(t,e)-n;return 0<=i?i:i+2*Math.PI}var jn={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},render:function(t,r){var e=t.props,n=e.resizable,i=e.scalable,a=e.warpable;if(!n&&!i&&a){var o=t.state,s=o.pos1,u=o.pos2,c=o.pos3,f=o.pos4,l=qn(s,u),p=qn(u,s),h=qn(s,c),d=qn(c,s),g=qn(c,f),v=qn(f,c),m=qn(u,f),b=qn(f,u);return[r.createElement("div",{className:Dr("line"),key:"middeLine1",style:qr(l,g)}),r.createElement("div",{className:Dr("line"),key:"middeLine2",style:qr(p,v)}),r.createElement("div",{className:Dr("line"),key:"middeLine3",style:qr(h,m)}),r.createElement("div",{className:Dr("line"),key:"middeLine4",style:qr(d,b)})].concat(Yn(t,r))}},dragControlCondition:function(t){return!t.isRequest&&M(t.inputEvent.target,Dr("direction"))},dragControlStart:function(t,r){var n=r.datas,e=r.inputEvent,i=t.props.target,a=Ur(e.target);if(!a||!i)return!1;var o=t.state,s=o.transformOrigin,u=o.is3d,c=o.targetTransform,f=o.targetMatrix,l=o.width,p=o.height,h=o.left,d=o.top;return n.datas={},n.targetTransform=c,n.warpTargetMatrix=u?f:wt(f,3,4),n.targetInverseMatrix=xt(Et(n.warpTargetMatrix,4),3,4),n.direction=a,n.left=h,n.top=d,Oe(t,{datas:n}),n.poses=[[0,0],[l,0],[0,p],[l,p]].map(function(t){return Bt(t,s)}),n.nextPoses=n.poses.map(function(t){var r=t[0],e=t[1];return _t(n.warpTargetMatrix,[r,e,0,1],4)}),n.startMatrix=It(4),n.prevMatrix=It(4),n.absolutePoses=$r(o),n.posIndexes=ze(a),!(o.snapRenderInfo={request:r.isRequest,direction:a})!==ee(t,"onWarpStart",re(t,r,{set:function(t){n.startMatrix=t}}))&&(n.isWarp=!0),n.isWarp},dragControl:function(t,r){var e=r.datas,n=r.isRequest,i=r.distX,a=r.distY,o=e.targetInverseMatrix,s=e.prevMatrix,u=e.isWarp,c=e.startMatrix,f=e.poses,l=e.posIndexes,p=e.absolutePoses;if(!u)return!1;if(un(t,"warpable")){var h=l.map(function(t){return p[t]});1<h.length&&h.push([(h[0][0]+h[1][0])/2,(h[0][1]+h[1][1])/2]);var d=dn(t,n,h.map(function(t){return[t[0]+i,t[1]+a]})),g=d.horizontal,v=d.vertical;a-=g.offset,i-=v.offset}var m=Re({datas:e,distX:i,distY:a},!0),b=e.nextPoses.slice();if(l.forEach(function(t){b[t]=zt(b[t],m)}),!br.every(function(t){return r=t.map(function(t){return f[t]}),e=t.map(function(t){return b[t]}),n=Wn(r[0],r[1],r[2]),i=Wn(e[0],e[1],e[2]),!((a=Math.PI)<=n&&i<=a||n<=a&&a<=i);var r,e,n,i,a}))return!1;var y=Nt(f[0],f[1],f[2],f[3],b[0],b[1],b[2],b[3]);if(!y.length)return!1;var x=Tt(Pt(o,y,4)),E=e.targetTransform+" matrix3d("+x.join(",")+")";return ee(t,"onWarp",re(t,r,{delta:Ot(Et(s,4),x,4),matrix:Ot(c,e.prevMatrix=x,4),multiply:Ot,dist:x,transform:E})),!0},dragControlEnd:function(t,r){var e=r.datas,n=r.isDrag;return!!e.isWarp&&(e.isWarp=!1,ee(t,"onWarpEnd",re(t,r,{isDrag:n})),n)}},Hn=Dr("area"),Ln=Dr("area-pieces"),Fn=Dr("area-piece"),Vn=Dr("avoid");function Un(t){var r=t.areaElement,e=t.state,n=e.width,i=e.height;!function(t,r){if(t.classList)t.classList.remove(r);else{var e=new RegExp("(\\s|^)"+r+"(\\s|$)");t.className=t.className.replace(e," ")}}(r,Vn),r.style.cssText+="left: 0px; top: 0px; width: "+n+"px; height: "+i+"px"}function Kn(t){return t.createElement("div",{key:"area_pieces",className:Ln},t.createElement("div",{className:Fn}),t.createElement("div",{className:Fn}),t.createElement("div",{className:Fn}),t.createElement("div",{className:Fn}))}var $n={name:"dragArea",props:{dragArea:Boolean},render:function(t,r){var e=t.props,n=e.target,i=e.dragArea,a=e.groupable,o=t.state,s=o.width,u=o.height,c=o.renderPoses;if(a)return[r.createElement("div",{key:"area",ref:m(t,"areaElement"),className:Hn}),Kn(r)];if(!n||!i)return[];var f=Nt([0,0],[s,0],[0,u],[s,u],c[0],c[1],c[2],c[3]),l=f.length?"matrix3d("+Tt(f).join(",")+")":"none";return[r.createElement("div",{key:"area",ref:m(t,"areaElement"),className:Hn,style:{top:"0px",left:"0px",width:s+"px",height:u+"px",transformOrigin:"0 0",transform:l}}),Kn(r)]},dragStart:function(t,r){var e=r.datas,n=r.clientX,i=r.clientY,a=r.inputEvent;if(!a)return!1;e.isDragArea=!1,e.inputTarget=a.target;var o,s,u=t.areaElement,c=t.state,f=c.moveableClientRect,l=c.renderPoses,p=c.rootMatrix,h=c.is3d,d=f.left,g=f.top,v=Yr(l),m=v.left,b=v.top,y=v.width,x=v.height,E=le(p,[n-d,i-g],h?4:3),S=E[0],M=E[1],D=[{left:m,top:b,width:y,height:(M-=b)-10},{left:m,top:b,width:(S-=m)-10,height:x},{left:m,top:b+M+10,width:y,height:x-M-10},{left:m+S+10,top:b,width:y-S-10,height:x}],w=[].slice.call(u.nextElementSibling.children);return D.forEach(function(t,r){w[r].style.cssText="left: "+t.left+"px;top: "+t.top+"px; width: "+t.width+"px; height: "+t.height+"px;"}),s=Vn,(o=u).classList?o.classList.add(s):o.className+=" "+s,!0},drag:function(t,r){var e=r.datas;if(!r.inputEvent)return!1;e.isDragArea||(e.isDragArea=!0,Un(t))},dragEnd:function(t,r){if(!r.inputEvent)return!1;var e=r.inputEvent,n=r.isDragArea;r.datas.isDragArea||Un(t);var i=t.state.target,a=e.target;if(!n&&!t.isMoveableElement(a)){var o=i.contains(a);ee(t,"onClick",re(t,r,{inputTarget:a,isTarget:i===a,containsTarget:o}))}},dragGroupStart:function(t,r){return this.dragStart(t,r)},dragGroup:function(t,r){return this.drag(t,r)},dragGroupEnd:function(t,r){var e=r.inputEvent,n=r.isDragArea,i=r.datas;if(!e)return!1;n||Un(t);var a=i.inputTarget,o=e.target;if(!n&&!t.isMoveableElement(o)&&a!==o){var s=t.props.targets,u=s.indexOf(o),c=-1<u,f=!1;-1===u&&(f=-1<(u=S(s,function(t){return t.contains(o)}))),ee(t,"onClickGroup",re(t,r,{targets:s,inputTarget:o,targetIndex:u,isTarget:c,containsTarget:f}))}}},Jn={name:"origin",props:{origin:Boolean},render:function(t,r){if(!t.props.origin)return null;var e=t.state,n=e.beforeOrigin,i=e.rotation;return[r.createElement("div",{className:Dr("control","origin"),style:Wr(i,n),key:"beforeOrigin"})]}};function Zn(t){var r=t.scrollContainer;return[r.scrollLeft,r.scrollTop]}var Qn={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number},dragStart:function(a,o){var t=a.props.scrollContainer,r=void 0===t?a.getContainer():t,e=new ir;o.datas.dragScroll=e;var n=o.isControl?"controlDragger":"targetDragger",s=o.targets;e.on("scroll",function(t){var r=t.container,e=t.direction,n=re(a,o,{scrollContainer:r,direction:e}),i=s?"onScrollGroup":"onScroll";s&&(n.targets=s),ee(a,i,n)}).on("move",function(t){var r=t.offsetX,e=t.offsetY;a[n].scrollBy(r,e,o.inputEvent,!1)}),e.dragStart(o,{container:r})},checkScroll:function(t,r){var e=r.datas.dragScroll;if(e){var n=t.props,i=n.scrollContainer,a=void 0===i?t.getContainer():i,o=n.scrollThreshold,s=void 0===o?0:o,u=n.getScrollPosition,c=void 0===u?Zn:u;return e.drag(r,{container:a,threshold:s,getScrollPosition:function(t){return c({scrollContainer:t.container,direction:t.direction})}}),!0}},drag:function(t,r){return this.checkScroll(t,r)},dragEnd:function(t,r){r.datas.dragScroll.dragEnd(),r.datas.dragScroll=null},dragControlStart:function(t,r){return this.dragStart(t,lr({},r,{isControl:!0}))},dragControl:function(t,r){return this.drag(t,r)},dragControlEnd:function(t,r){return this.dragEnd(t,r)},dragGroupStart:function(t,r){return this.dragStart(t,lr({},r,{targets:t.props.targets}))},dragGroup:function(t,r){return this.drag(t,lr({},r,{targets:t.props.targets}))},dragGroupEnd:function(t,r){return this.dragEnd(t,lr({},r,{targets:t.props.targets}))},dragGroupControlStart:function(t,r){return this.dragStart(t,lr({},r,{targets:t.props.targets,isControl:!0}))},dragGroupContro:function(t,r){return this.drag(t,lr({},r,{targets:t.props.targets}))},dragGroupControEnd:function(t,r){return this.dragEnd(t,lr({},r,{targets:t.props.targets}))}},ti={name:"",props:{target:Object,container:Object,dragArea:Boolean,origin:Boolean,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number}},ri={name:"padding",props:{padding:Object},render:function(t,a){var r=t.props;if(r.dragArea)return[];var e=r.padding||{},n=e.left,i=void 0===n?0:n,o=e.top,s=void 0===o?0:o,u=e.right,c=void 0===u?0:u,f=e.bottom,l=void 0===f?0:f,p=t.state,h=p.renderPoses,d=[p.pos1,p.pos2,p.pos3,p.pos4],g=[];return 0<i&&g.push([0,2]),0<s&&g.push([0,1]),0<c&&g.push([1,3]),0<l&&g.push([2,3]),g.map(function(t,r){var e=t[0],n=t[1],i=Nt([0,0],[100,0],[0,100],[100,100],d[e],d[n],h[e],h[n]);if(i.length)return a.createElement("div",{key:"padding"+r,className:Dr("padding"),style:{transform:"matrix3d("+Tt(i).join(",")+")"}})})}},ei=[ti,On,Me,Rn,An,Nn,Xn,jn,Qn,$n,ri,Jn],ni={name:"groupable",props:{defaultGroupRotate:Number,groupable:Boolean},render:function(a,o){var t=a.props.targets||[];a.moveables=[];var r=a.state,s={left:r.left,top:r.top};return t.map(function(t,r){return o.createElement(Ee,{key:"moveable"+r,ref:(i=r,function(t){t&&(e[n][i]=t)}),target:t,origin:!(n="moveables"),parentMoveable:e=a,parentPosition:s});var e,n,i})}};function ii(t,a){return Math.max.apply(Math,t.map(function(t){var r=t[0],e=t[1],n=t[2],i=t[3];return Math.max(r[a],e[a],n[a],i[a])}))}function ai(t,a){return Math.min.apply(Math,t.map(function(t){var r=t[0],e=t[1],n=t[2],i=t[3];return Math.min(r[a],e[a],n[a],i[a])}))}var oi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.differ=new ur,t.moveables=[],t.rotation=0,t}fr(t,e);var r=t.prototype;return r.updateEvent=function(t){var r=this.state,e=this.props;r.target||(r.target=this.areaElement,this.controlBox.getElement().style.display="block",this.targetDragger=ge(this,r.target,"Group"),this.controlDragger=ve(this,this.controlBox.getElement(),"controlAbles","GroupControl"));var n=!se(t.container,e.container);n&&(r.container=e.container);var i=this.differ.update(e.targets),a=i.added,o=i.changed,s=i.removed;(n||a.length||o.length||s.length)&&this.updateRect()},r.checkUpdate=function(){this.updateAbles()},r.updateRect=function(r,t,e){var n;if(void 0===e&&(e=!0),this.controlBox){this.moveables.forEach(function(t){t.updateRect(r,!1,!1)});var i=this.state,a=this.props,o=i.target||a.target;(!t||""!==r&&a.updateGroup)&&(this.rotation=a.defaultGroupRotate);var s=this.rotation,u=function(t,r){if(!t.length)return[0,0,0,0];var e=t.map(function(t){return $r(t.state)}),i=xr,a=xr,n=0,o=0,s=Jr(r,yr);if(s%90){var u=r/180*Math.PI,c=Math.tan(u),f=-1/c,l=[Er,xr],p=[Er,xr];e.forEach(function(t){t.forEach(function(t){var r=t[1]-c*t[0],e=t[1]-f*t[0];l[0]=Math.max(l[0],r),l[1]=Math.min(l[1],r),p[0]=Math.max(p[0],e),p[1]=Math.min(p[1],e)})}),l.forEach(function(n){p.forEach(function(t){var r=(t-n)/(c-f),e=c*r+n;i=Math.min(i,r),a=Math.min(a,e)})});var h=e.map(function(t){var r=t[0],e=t[1],n=t[2],i=t[3];return[Gt(r,-u),Gt(e,-u),Gt(n,-u),Gt(i,-u)]});n=ii(h,0)-ai(h,0),o=ii(h,1)-ai(h,1)}else if(i=ai(e,0),a=ai(e,1),n=ii(e,0)-i,o=ii(e,1)-a,s%180){var d=n;n=o,o=d}return[i,a,n,o]}(this.moveables,s),c=u[0],f=u[1],l=u[2],p=u[3];o.style.cssText+="left:0px;top:0px;width:"+l+"px; height:"+p+"px;transform:rotate("+s+"deg)",i.width=l,i.height=p;var h=this.getContainer(),d=Lr(this.controlBox.getElement(),o,this.controlBox.getElement(),this.getContainer(),this.props.rootContainer||h,i),g=[d.left,d.top];n=$r(d),d.pos1=n[0],d.pos2=n[1],d.pos3=n[2],d.pos4=n[3],d.origin=zt(g,d.origin),d.beforeOrigin=zt(g,d.beforeOrigin);var v=d.targetClientRect;v.top+=f-d.top-i.top,v.left+=c-d.left-i.left,this.updateState(lr({},d,{left:c-d.left,top:f-d.top}),e)}},r.triggerEvent=function(t,r){if(-1<t.indexOf("Group"))return e.prototype.triggerEvent.call(this,t,r)},r.updateAbles=function(){e.prototype.updateAbles.call(this,this.props.ables.concat([ni]),"Group")},t.defaultProps=lr({},Ee.defaultProps,{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0}),t}(Ee),si=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}fr(r,t);var e=r.prototype;return e.render=function(){var t=this.props.ables||[],r=this.props.target||this.props.targets,e=dt(r);if(e&&1<r.length){var n=lr({},this.props,{target:null,targets:r,ables:ei.concat([ni],t)});return X(oi,lr({key:"group",ref:m(this,"moveable")},n))}var i=e?r[0]:r;return X(Ee,lr({key:"single",ref:m(this,"moveable")},lr({},this.props,{target:i,ables:ei.concat(t)})))},e.isMoveableElement=function(t){return this.moveable.isMoveableElement(t)},e.dragStart=function(t){this.moveable.dragStart(t)},e.isInside=function(t,r){return this.moveable.isInside(t,r)},e.hitTest=function(t){return this.moveable.hitTest(t)},e.updateRect=function(){this.moveable.updateRect()},e.updateTarget=function(){this.moveable.updateTarget()},e.isDragging=function(){return this.moveable.isDragging()},e.getRect=function(){return this.moveable.getRect()},e.request=function(t,r){return this.moveable.request(t,r)},e.destroy=function(){this.moveable.componentWillUnmount()},r}($),ui=function(e){function t(t){var r=e.call(this,t)||this;return r.state={},r.state=r.props,r}return i(t,e),t.prototype.render=function(){return t=X(si,s({ref:m(this,"moveable")},this.state)),r=this.state.parentElement,X(J,{element:t,container:r});var t,r},t}(K),ci=["draggable","resizable","scalable","rotatable","warpable","pinchable","snappable","origin","target","edge","throttleDrag","throttleDragRotate","throttleResize","throttleScale","throttleRotate","keepRatio","dragArea","pinchThreshold","snapCenter","snapThreshold","horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","className","renderDirections","scrollable","getScrollPosition","scrollContainer","scrollThreshold","baseDirection","snapElement","snapVertical","snapHorizontal","snapGap","isDisplaySnapDigit","snapDigit","zoom","triggerAblesSimultaneously","padding","snapDistFormat","dragTarget"],fi=["dragStart","drag","dragEnd","resizeStart","resize","resizeEnd","scaleStart","scale","scaleEnd","rotateStart","rotate","rotateEnd","warpStart","warp","warpEnd","pinchStart","pinch","pinchEnd","dragGroupStart","dragGroup","dragGroupEnd","resizeGroupStart","resizeGroup","resizeGroupEnd","scaleGroupStart","scaleGroup","scaleGroupEnd","rotateGroupStart","rotateGroup","rotateGroupEnd","pinchGroupStart","pinchGroup","pinchGroupEnd","click","clickGroup","scroll","scrollGroup","renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd","snap"],li=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging"],pi=function(o){function t(t,r){void 0===r&&(r={});var e=o.call(this)||this;e.tempElement=document.createElement("div");var n=s({container:t},r),i={};fi.forEach(function(r){i[("on "+r).replace(/[\s-_]([a-z])/g,function(t,r){return r.toUpperCase()})]=function(t){return e.trigger(r,t)}}),rt(X(ui,s({ref:m(e,"innerMoveable"),parentElement:t},n,i)),e.tempElement);var a=n.target;return dt(a)&&1<a.length&&e.updateRect(),e}i(t,o);var r=t.prototype;return r.setState=function(t,r){this.innerMoveable.setState(t,r)},r.destroy=function(){rt(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},r.getMoveable=function(){return this.innerMoveable.moveable},t=function(t,r,e,n){var i,a=arguments.length,o=a<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,n);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(o=(a<3?i(o):3<a?i(r,e,o):i(r,e))||o);return 3<a&&o&&Object.defineProperty(r,e,o),o}([e(li,function(t,n){t[n]||(t[n]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=this.getMoveable();if(e&&e[n])return e[n].apply(e,t)})}),e(ci,function(t,e){Object.defineProperty(t,e,{get:function(){return this.getMoveable().props[e]},set:function(t){var r;this.setState(((r={})[e]=t,r))},enumerable:!0,configurable:!0})})],t)}(t),hi={__proto__:null,default:pi,PROPERTIES:ci,EVENTS:fi,METHODS:li};for(var di in hi)pi[di]=hi[di];return pi});
//# sourceMappingURL=moveable.min.js.map
