/*
Copyright (c) 2019 Daybrush
name: moveable
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/moveable.git
version: 0.13.0
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Moveable=e()}(this,function(){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function u(t){return void 0===t}var t=function(){var t=function(){function t(){this._eventHandler={},this.options={}}var e=t.prototype;return e.trigger=function(t,e){void 0===e&&(e={});var n=this._eventHandler[t]||[];if(!(0<n.length))return!0;n=n.concat(),e.eventType=t;var r=!1,i=[e],o=0;e.stop=function(){r=!0},e.currentTarget=this;for(var a=arguments.length,s=new Array(2<a?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];for(1<=s.length&&(i=i.concat(s)),o=0;n[o];o++)n[o].apply(this,i);return!r},e.once=function(i,o){if("object"==typeof i&&u(o)){var t,e=i;for(t in e)this.once(t,e[t]);return this}if("string"==typeof i&&"function"==typeof o){var a=this;this.on(i,function t(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];o.apply(a,n),a.off(i,t)})}return this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"==typeof t&&u(e)){var n,r=t;for(n in r)this.on(n,r[n]);return this}if("string"==typeof t&&"function"==typeof e){var i=this._eventHandler[t];u(i)&&(this._eventHandler[t]=[],i=this._eventHandler[t]),i.push(e)}return this},e.off=function(t,e){if(u(t))return this._eventHandler={},this;if(u(e)){if("string"==typeof t)return this._eventHandler[t]=void 0,this;var n,r=t;for(n in r)this.off(n,r[n]);return this}var i,o,a=this._eventHandler[t];if(a)for(i=0;void 0!==(o=a[i]);i++)if(o===e){a=a.splice(i,1);break}return this},t}();return t.VERSION="2.1.2",t}();function g(e,n){return function(t){t&&(e[n]=t)}}var y,l,e,n,a,o,x={},E=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function S(t,e){for(var n in e)t[n]=e[n];return t}function _(t){var e=t.parentNode;e&&e.removeChild(t)}function f(t,e,n){var r,i,o,a,s=arguments;if(e=S({},e),3<arguments.length)for(n=[n],r=3;r<arguments.length;r++)n.push(s[r]);if(null!=n&&(e.children=n),null!=t&&null!=t.defaultProps)for(i in t.defaultProps)void 0===e[i]&&(e[i]=t.defaultProps[i]);return a=e.key,null!=(o=e.ref)&&delete e.ref,null!=a&&delete e.key,p(t,e,a,o)}function p(t,e,n,r){var i={type:t,props:e,key:n,ref:r,__k:null,__p:null,__b:0,__e:null,__d:null,__c:null,constructor:void 0};return y.vnode&&y.vnode(i),i}function h(){return{}}function C(t){return t.children}function w(t,e){this.props=t,this.context=e}function b(t,e){if(null==e)return t.__p?b(t.__p,t.__p.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?b(t):null}function d(t){var e,n;if(null!=(t=t.__p)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return d(t)}}function v(t){(!t.__d&&(t.__d=!0)&&1===l.push(t)||n!==y.debounceRendering)&&(n=y.debounceRendering,(y.debounceRendering||e)(m))}function m(){var t,e,n,r,i,o,a;for(l.sort(function(t,e){return e.__v.__b-t.__v.__b});t=l.pop();)t.__d&&(r=n=void 0,o=(i=(e=t).__v).__e,(a=e.__P)&&(n=[],r=O(a,i,S({},i),e.__n,void 0!==a.ownerSVGElement,null,n,null==o?b(i):o),N(n,i),r!=o&&d(i)))}function M(e,n,t,r,i,o,a,s,u){var l,c,f,p,h,d,v,g=t&&t.__k||E,m=g.length;if(s==x&&(s=null!=o?o[0]:m?b(t,0):null),l=0,n.__k=D(n.__k,function(t){if(null!=t){if(t.__p=n,t.__b=n.__b+1,null===(f=g[l])||f&&t.key==f.key&&t.type===f.type)g[l]=void 0;else for(c=0;c<m;c++){if((f=g[c])&&t.key==f.key&&t.type===f.type){g[c]=void 0;break}f=null}if(p=O(e,t,f=f||x,r,i,o,a,s,u),(c=t.ref)&&f.ref!=c&&(v=v||[]).push(c,t.__c||p,t),null!=p){if(null==d&&(d=p),null!=t.__d)p=t.__d,t.__d=null;else if(o==f||p!=s||null==p.parentNode){t:if(null==s||s.parentNode!==e)e.appendChild(p);else{for(h=s,c=0;(h=h.nextSibling)&&c<m;c+=2)if(h==p)break t;e.insertBefore(p,s)}"option"==n.type&&(e.value="")}s=p.nextSibling,"function"==typeof n.type&&(n.__d=p)}}return l++,t}),n.__e=d,null!=o&&"function"!=typeof n.type)for(l=o.length;l--;)null!=o[l]&&_(o[l]);for(l=m;l--;)null!=g[l]&&z(g[l],g[l]);if(v)for(l=0;l<v.length;l++)A(v[l],v[++l],v[++l])}function D(t,e,n){if(null==n&&(n=[]),null==t||"boolean"==typeof t)e&&n.push(e(null));else if(Array.isArray(t))for(var r=0;r<t.length;r++)D(t[r],e,n);else n.push(e?e("string"==typeof t||"number"==typeof t?p(null,t,null,null):null!=t.__e||null!=t.__c?p(t.type,t.props,t.key,null):t):t);return n}function k(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]="number"==typeof n&&!1===c.test(e)?n+"px":null==n?"":n}function P(t,e,n,r,i){var o,a,s,u,l;if("key"===(e=i?"className"===e?"class":e:"class"===e?"className":e)||"children"===e);else if("style"===e)if(o=t.style,"string"==typeof n)o.cssText=n;else{if("string"==typeof r&&(o.cssText="",r=null),r)for(a in r)n&&a in n||k(o,a,"");if(n)for(s in n)r&&n[s]===r[s]||k(o,s,n[s])}else"o"===e[0]&&"n"===e[1]?(u=e!==(e=e.replace(/Capture$/,"")),e=((l=e.toLowerCase())in t?l:e).slice(2),n?(r||t.addEventListener(e,R,u),(t.l||(t.l={}))[e]=n):t.removeEventListener(e,R,u)):"list"!==e&&"tagName"!==e&&"form"!==e&&!i&&e in t?t[e]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/^xlink:?/,""))?null==n||!1===n?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):null==n||!1===n?t.removeAttribute(e):t.setAttribute(e,n))}function R(t){this.l[t.type](y.event?y.event(t):t)}function O(t,e,n,r,i,o,a,s,u){var l,c,f,p,h,d,v,g,m,_,b=e.type;if(void 0!==e.constructor)return null;(l=y.__b)&&l(e);try{t:if("function"==typeof b){if(g=e.props,m=(l=b.contextType)&&r[l.__c],_=l?m?m.props.value:l.__p:r,n.__c?v=(c=e.__c=n.__c).__p=c.__E:("prototype"in b&&b.prototype.render?e.__c=c=new b(g,_):(e.__c=c=new w(g,_),c.constructor=b,c.render=G),m&&m.sub(c),c.props=g,c.state||(c.state={}),c.context=_,c.__n=r,f=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=b.getDerivedStateFromProps&&S(c.__s==c.state?c.__s=S({},c.__s):c.__s,b.getDerivedStateFromProps(g,c.__s)),p=c.props,h=c.state,f)null==b.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==b.getDerivedStateFromProps&&null==c.__e&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(g,_),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(g,c.__s,_)){for(c.props=g,c.state=c.__s,c.__d=!1,(c.__v=e).__e=n.__e,e.__k=n.__k,l=0;l<e.__k.length;l++)e.__k[l]&&(e.__k[l].__p=e);break t}null!=c.componentWillUpdate&&c.componentWillUpdate(g,c.__s,_),null!=c.componentDidUpdate&&c.__h.push(function(){c.componentDidUpdate(p,h,d)})}c.context=_,c.props=g,c.state=c.__s,(l=y.__r)&&l(e),c.__d=!1,c.__v=e,c.__P=t,l=c.render(c.props,c.state,c.context),e.__k=D(null!=l&&l.type==C&&null==l.key?l.props.children:l),null!=c.getChildContext&&(r=S(S({},r),c.getChildContext())),f||null==c.getSnapshotBeforeUpdate||(d=c.getSnapshotBeforeUpdate(p,h)),M(t,e,n,r,i,o,a,s,u),c.base=e.__e,c.__h.length&&a.push(c),v&&(c.__E=c.__p=null),c.__e=null}else e.__e=function(t,e,n,r,i,o,a,s){var u,l,c,f,p,h=n.props,d=e.props;if(i="svg"===e.type||i,null==t&&null!=o)for(u=0;u<o.length;u++)if(null!=(l=o[u])&&(null===e.type?3===l.nodeType:l.localName===e.type)){t=l,o[u]=null;break}if(null==t){if(null===e.type)return document.createTextNode(d);t=i?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type),o=null}if(null===e.type)null!=o&&(o[o.indexOf(t)]=null),h!==d&&(t.data=d);else if(e!==n){if(null!=o&&(o=E.slice.call(t.childNodes)),c=(h=n.props||x).dangerouslySetInnerHTML,f=d.dangerouslySetInnerHTML,!s){if(h===x)for(h={},p=0;p<t.attributes.length;p++)h[t.attributes[p].name]=t.attributes[p].value;(f||c)&&(f&&c&&f.__html==c.__html||(t.innerHTML=f&&f.__html||""))}(function(t,e,n,r,i){var o;for(o in n)o in e||P(t,o,null,n[o],r);for(o in e)i&&"function"!=typeof e[o]||"value"===o||"checked"===o||n[o]===e[o]||P(t,o,e[o],n[o],r)})(t,d,h,i,s),e.__k=e.props.children,f||M(t,e,n,r,"foreignObject"!==e.type&&i,o,a,x,s),s||("value"in d&&void 0!==d.value&&d.value!==t.value&&(t.value=null==d.value?"":d.value),"checked"in d&&void 0!==d.checked&&d.checked!==t.checked&&(t.checked=d.checked))}return t}(n.__e,e,n,r,i,o,a,u);(l=y.diffed)&&l(e)}catch(t){y.__e(t,e,n)}return e.__e}function N(t,e){y.__c&&y.__c(e,t),t.some(function(e){try{t=e.__h,e.__h=[],t.some(function(t){t.call(e)})}catch(t){y.__e(t,e.__v)}})}function A(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){y.__e(t,n)}}function z(t,e,n){var r,i,o;if(y.unmount&&y.unmount(t),(r=t.ref)&&A(r,null,e),n||"function"==typeof t.type||(n=null!=(i=t.__e)),t.__e=t.__d=null,null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){y.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&z(r[o],e,n);null!=i&&_(i)}function G(t,e,n){return this.constructor(t,n)}function T(t,e,n){var r,i,o;y.__p&&y.__p(t,e),i=(r=n===a)?null:n&&n.__k||e.__k,t=f(C,null,[t]),o=[],O(e,(r?e:n||e).__k=t,i||x,x,void 0!==e.ownerSVGElement,n&&!r?[n]:i?null:E.slice.call(e.childNodes),o,n||x,r),N(o,t)}function F(t,e){T(t,e,a)}function B(t,e){return e=S(S({},t.props),e),2<arguments.length&&(e.children=E.slice.call(arguments,2)),p(t.type,e,e.key||t.key,e.ref||t.ref)}function Y(t){var r={},i={__c:"__cC"+o++,__p:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,e=this;return this.getChildContext||(n=[],this.getChildContext=function(){return r[i.__c]=e,r},this.shouldComponentUpdate=function(e){t.value!==e.value&&n.some(function(t){t.context=e.value,v(t)})},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return i.Consumer.contextType=i}y={},w.prototype.setState=function(t,e){var n=this.__s!==this.state&&this.__s||(this.__s=S({},this.state));"function"==typeof t&&!(t=t(n,this.props))||S(n,t),null!=t&&this.__v&&(this.__e=!1,e&&this.__h.push(e),v(this))},w.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),v(this))},w.prototype.render=C,l=[],e="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,n=y.debounceRendering,y.__e=function(t,e,n){for(var r;e=e.__p;)if((r=e.__c)&&!r.__p)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError)r.setState(r.constructor.getDerivedStateFromError(t));else{if(null==r.componentDidCatch)continue;r.componentDidCatch(t)}return v(r.__E=r)}catch(e){t=e}throw t},a=x,o=0;var X,H,W=[],I=y.__r;y.__r=function(t){I&&I(t),X=0,(H=t.__c).__H&&(H.__H.t.forEach(st),H.__H.t.forEach(ut),H.__H.t=[])};var L=y.diffed;y.diffed=function(t){L&&L(t);var e=t.__c;if(e){var n=e.__H;n&&n.t.length&&it(W.push(e))}};var j=y.__c;y.__c=function(t,e){e.some(function(t){t.__h.forEach(st),t.__h=t.__h.filter(function(t){return!t.u||ut(t)})}),j&&j(t,e)};var U=y.unmount;function V(t){y.__h&&y.__h(H);var e=H.__H||(H.__H={i:[],t:[]});return t>=e.i.length&&e.i.push({}),e.i[t]}function q(t){return $(ct,t)}function $(n,t,e){var r=V(X++);return r.__c||(r.__c=H,r.u=[e?e(t):ct(void 0,t),function(t){var e=n(r.u[0],t);r.u[0]!==e&&(r.u[0]=e,r.__c.setState({}))}]),r.u}function Z(t,e){var n=V(X++);lt(n.o,e)&&(n.u=t,n.o=e,H.__H.t.push(n))}function K(t,e){var n=V(X++);lt(n.o,e)&&(n.u=t,n.o=e,H.__h.push(n))}function J(t){return tt(function(){return{current:t}},[])}function Q(t,e,n){K(function(){"function"==typeof t?t(e()):t&&(t.current=e())},null==n?n:n.concat(t))}function tt(t,e){var n=V(X++);return lt(n.o,e)?(n.o=e,n.v=t,n.u=t()):n.u}function et(t,e){return tt(function(){return t},e)}function nt(t){var e=H.context[t.__c];if(!e)return t.__p;var n=V(X++);return null==n.u&&(n.u=!0,e.sub(H)),e.props.value}function rt(t,e){y.useDebugValue&&y.useDebugValue(e?e(t):t)}y.unmount=function(t){U&&U(t);var e=t.__c;if(e){var n=e.__H;n&&n.i.forEach(function(t){return t.m&&t.m()})}};var it=function(){};function ot(){W.some(function(t){t.__P&&(t.__H.t.forEach(st),t.__H.t.forEach(ut),t.__H.t=[])}),W=[]}if("undefined"!=typeof window){var at=y.requestAnimationFrame;it=function(t){1!==t&&at===y.requestAnimationFrame||((at=y.requestAnimationFrame)||function(t){function e(){clearTimeout(n),cancelAnimationFrame(r),setTimeout(t)}var n=setTimeout(e,100),r=requestAnimationFrame(e)})(ot)}}function st(t){t.m&&t.m()}function ut(t){var e=t.u();"function"==typeof e&&(t.m=e)}function lt(n,t){return!n||t.some(function(t,e){return t!==n[e]})}function ct(t,e){return"function"==typeof e?e(t):e}function ft(t){var e=t.parentNode;e&&e.removeChild(t)}var pt=y.__e;function ht(t){this.__u=[],this.__f=t.fallback}function dt(e){var n,r,i;function t(t){if(n||(n=e()).then(function(t){r=t.default},function(t){i=t}),i)throw i;if(!r)throw n;return f(r,t)}return t.displayName="Lazy",t.t=!0,t}y.__e=function(t,e,n){if(t.then&&n)for(var r,i=e;i=i.__p;)if((r=i.__c)&&r.o)return n&&(e.__e=n.__e,e.__k=n.__k),void r.o(t);pt(t,e,n)},(ht.prototype=new w).o=function(t){var e=this;e.__u.push(t);function n(){e.__u[e.__u.indexOf(t)]=e.__u[e.__u.length-1],e.__u.pop(),0==e.__u.length&&(e.__f&&z(e.__f),e.__v.__e=null,e.__v.__k=e.state.u,e.setState({u:null}))}null==e.state.u&&(e.__f=e.__f&&B(e.__f),e.setState({u:e.__v.__k}),function t(e){for(var n=0;n<e.length;n++){var r=e[n];null!=r&&("function"!=typeof r.type&&r.__e?ft(r.__e):r.__k&&t(r.__k))}}(e.__v.__k),e.__v.__k=[]),t.then(n,n)},ht.prototype.render=function(t,e){return e.u?this.__f:t.children};var vt="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,gt=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,mt=y.event;function _t(t){return wt.bind(null,t)}function bt(t,e,n){if(null==e.__k)for(;e.firstChild;)ft(e.firstChild);return T(t,e),"function"==typeof n&&n(),t?t.__c:null}y.event=function(t){return mt&&(t=mt(t)),t.persist=function(){},t.nativeEvent=t};var yt=function(){};function xt(t){var e=this,n=t.container,r=f(yt,{context:e.context},t.vnode);return e.i&&e.i!==n&&(e.l.parentNode&&e.i.removeChild(e.l),z(e.s),e.v=!1),t.vnode?e.v?(n.__k=e.__k,T(r,n),e.__k=n.__k):(e.l=document.createTextNode(""),F("",n),n.appendChild(e.l),e.v=!0,T(r,e.i=n,e.l),e.__k=this.l.__k):e.v&&(e.l.parentNode&&e.i.removeChild(e.l),z(e.s)),e.s=r,e.componentWillUnmount=function(){e.l.parentNode&&e.i.removeChild(e.l),z(e.s)},null}function Et(t,e){return f(xt,{vnode:t,container:e})}yt.prototype.getChildContext=function(){return this.props.context},yt.prototype.render=function(t){return t.children};function St(t,e){return t?D(t).map(e):null}var Ct={map:St,forEach:St,count:function(t){return t?D(t).length:0},only:function(t){if(1!==(t=D(t)).length)throw new Error("Children.only() expects only one child.");return t[0]},toArray:D};function wt(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=f.apply(void 0,t),r=n.type,i=n.props;return"function"!=typeof r&&(i.defaultValue&&(i.value||0===i.value||(i.value=i.defaultValue),delete i.defaultValue),Array.isArray(i.value)&&i.multiple&&"select"===r&&(D(i.children).forEach(function(t){-1!=i.value.indexOf(t.props.value)&&(t.props.selected=!0)}),delete i.value),function(t,e){var n,r,i;for(i in e)if(n=gt.test(i))break;if(n)for(i in r=t.props={},e)r[gt.test(i)?i.replace(/([A-Z0-9])/,"-$1").toLowerCase():i]=e[i]}(n,i)),n.preactCompatNormalized=!1,Mt(n)}function Mt(t){return t.preactCompatNormalized=!0,((e=t.props).class||e.className)&&(Rt.enumerable="className"in e,e.className&&(e.class=e.className),Object.defineProperty(e,"className",Rt)),t;var e}function Dt(t){return kt(t)?Mt(B.apply(null,arguments)):t}function kt(t){return!!t&&t.$$typeof===vt}function Pt(t){return!!t.__k&&(T(null,t),!0)}var Rt={configurable:!0,get:function(){return this.class}};function Ot(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function Nt(t){return t&&(t.base||1===t.nodeType&&t)||null}var At,zt=((At=w)&&(Gt.__proto__=At),((Gt.prototype=Object.create(At&&At.prototype)).constructor=Gt).prototype.shouldComponentUpdate=function(t,e){return Ot(this.props,t)||Ot(this.state,e)},Gt);function Gt(t){At.call(this,t),this.isPureReactComponent=!0}function Tt(e,r){function n(t){var e=this.props.ref,n=e==t.ref;return!n&&e&&(e.call?e(null):e.current=null),(r?!r(this.props,t):Ot(this.props,t))||!n}function t(t){return this.shouldComponentUpdate=n,f(e,function(t,e){for(var n in e)t[n]=e[n];return t}({},t))}return t.prototype.isReactComponent=!0,t.displayName="Memo("+(e.displayName||e.name)+")",t.t=!0,t}function Ft(n){function t(t){var e=t.ref;return delete t.ref,n(t,e)}return t.prototype.isReactComponent=!0,t.t=!0,t.displayName="ForwardRef("+(n.displayName||n.name)+")",t}function Bt(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}w.prototype.isReactComponent={};var Yt=y.vnode;y.vnode=function(o){o.$$typeof=vt,function(){var t=o.type,e=o.props;if(e&&"string"==typeof t){var n={};for(var r in e)/^on(Ani|Tra)/.test(r)&&(e[r.toLowerCase()]=e[r],delete e[r]),n[r.toLowerCase()]=r;if(n.ondoubleclick&&(e.ondblclick=e[n.ondoubleclick],delete e[n.ondoubleclick]),n.onbeforeinput&&(e.onbeforeinput=e[n.onbeforeinput],delete e[n.onbeforeinput]),n.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(e.type))){var i=n.oninput||"oninput";e[i]||(e[i]=e[n.onchange],delete e[n.onchange])}}}();var t=o.type;t&&t.t&&o.ref&&(o.props.ref=o.ref,o.ref=null),"function"==typeof t&&!t.p&&t.prototype&&(Bt(t.prototype,"componentWillMount"),Bt(t.prototype,"componentWillReceiveProps"),Bt(t.prototype,"componentWillUpdate"),t.p=!0),Yt&&Yt(o)};function Xt(t,e){return t(e)}var Ht={__proto__:null,default:{useState:q,useReducer:$,useEffect:Z,useLayoutEffect:K,useRef:J,useImperativeHandle:Q,useMemo:tt,useCallback:et,useContext:nt,useDebugValue:rt,version:"16.8.0",Children:Ct,render:bt,hydrate:bt,unmountComponentAtNode:Pt,createPortal:Et,createElement:wt,createContext:Y,createFactory:_t,cloneElement:Dt,createRef:h,Fragment:C,isValidElement:kt,findDOMNode:Nt,Component:w,PureComponent:zt,memo:Tt,forwardRef:Ft,unstable_batchedUpdates:Xt,Suspense:ht,lazy:dt},version:"16.8.0",Children:Ct,render:bt,hydrate:bt,unmountComponentAtNode:Pt,createPortal:Et,createElement:wt,createFactory:_t,cloneElement:Dt,isValidElement:kt,findDOMNode:Nt,PureComponent:zt,memo:Tt,forwardRef:Ft,unstable_batchedUpdates:Xt,Suspense:ht,lazy:dt,createContext:Y,createRef:h,Fragment:C,Component:w,useState:q,useReducer:$,useEffect:Z,useLayoutEffect:K,useRef:J,useImperativeHandle:Q,useMemo:tt,useCallback:et,useContext:nt,useDebugValue:rt},Wt=("undefined"!=typeof window&&window||{}).navigator,It={browser:[{criteria:"PhantomJS",identity:"PhantomJS"},{criteria:/Whale/,identity:"Whale",versionSearch:"Whale"},{criteria:/Edge/,identity:"Edge",versionSearch:"Edge"},{criteria:/MSIE|Trident|Windows Phone/,identity:"IE",versionSearch:"IEMobile|MSIE|rv"},{criteria:/MiuiBrowser/,identity:"MIUI Browser",versionSearch:"MiuiBrowser"},{criteria:/SamsungBrowser/,identity:"Samsung Internet",versionSearch:"SamsungBrowser"},{criteria:/SAMSUNG /,identity:"Samsung Internet",versionSearch:"Version"},{criteria:/Chrome|CriOS/,identity:"Chrome"},{criteria:/Android/,identity:"Android Browser",versionSearch:"Version"},{criteria:/iPhone|iPad/,identity:"Safari",versionSearch:"Version"},{criteria:"Apple",identity:"Safari",versionSearch:"Version"},{criteria:"Firefox",identity:"Firefox"}],os:[{criteria:/Windows Phone/,identity:"Windows Phone",versionSearch:"Windows Phone"},{criteria:"Windows 2000",identity:"Window",versionAlias:"5.0"},{criteria:/Windows NT/,identity:"Window",versionSearch:"Windows NT"},{criteria:/iPhone|iPad/,identity:"iOS",versionSearch:"iPhone OS|CPU OS"},{criteria:"Mac",versionSearch:"OS X",identity:"MAC"},{criteria:/Android/,identity:"Android"},{criteria:/Tizen/,identity:"Tizen"},{criteria:/Web0S/,identity:"WebOS"}],webview:[{criteria:/iPhone|iPad/,browserVersionSearch:"Version",webviewBrowserVersion:/-1/},{criteria:/iPhone|iPad|Android/,webviewToken:/NAVER|DAUM|; wv/}],defaultString:{browser:{version:"-1",name:"unknown"},os:{version:"-1",name:"unknown"}}};function Lt(t,e){for(var n=[],r=0;r<t.length;r++)e(t[r])&&n.push(t[r]);return n}var jt=void 0;function Ut(t,e){return e&&e.test?!!e.test(t):-1<t.indexOf(e)}function Vt(t,e){var n=Lt(t,function(t){return Ut(jt,t.criteria)})[0];return n&&n.identity||e.name}function qt(t,r){return Lt(t,function(t){var e=t.criteria,n=new RegExp(t.identity,"i").test(r);return!!(e?n&&Ut(jt,e):n)})[0]}function $t(t,e){var n=It.defaultString.browser.version,r=new RegExp("("+t+")","i").exec(e);if(!r)return n;var i=r.index,o=r[0];if(-1<i){var a=i+o.length+1;n=e.substring(a).split(" ")[0].replace(/_/g,".").replace(/;|\)/g,"")}return n}function Zt(t){if(t)return $t(function(t){var e=qt(It.browser,t);return e=e||{criteria:t,versionSearch:t,identity:t}}(t).versionSearch||t,jt)}function Kt(){var t=It.webview,e=void 0;return function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}(Lt(t,function(t){return Ut(jt,t.criteria)}),function(t){return e=$t(t.browserVersionSearch,jt),!(!Ut(jt,t.webviewToken)&&!Ut(e,t.webviewBrowserVersion))})}function Jt(t){var e=function(t){return qt(It.os,t)}(t)||{},n=It.defaultString.os.version,r=void 0;if(t){if(e.versionAlias)return e.versionAlias;var i=e.versionSearch||t,o=new RegExp("("+i+")\\s([\\d_\\.]+|\\d_0)","i");return o.exec(jt)&&(r=o.exec(jt)[2].replace(/_/g,".").replace(/;|\)/g,"")),r||n}}function Qt(){var t=Vt(It.os,It.defaultString.os);return{name:t,version:Jt(t)}}function te(){var t=Vt(It.browser,It.defaultString.browser);return{name:t,version:Zt(t),webview:Kt()}}function ee(){!function(t){jt=t}(0<arguments.length&&void 0!==arguments[0]?arguments[0]:Wt.userAgent);var t={os:Qt(),browser:te(),isMobile:-1!==jt.indexOf("Mobi")};return t.browser.name=t.browser.name.toLowerCase(),t.os.name=t.os.name.toLowerCase(),t.os.version=t.os.version.toLowerCase(),"ios"===t.os.name&&t.browser.webview&&(t.browser.version="-1"),t}ee.VERSION="2.1.5";var ne="function",re="object",ie="undefined";function oe(t){return typeof t===ie}function ae(t){return t&&typeof t===re}function se(t){return Array.isArray(t)}function ue(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],r=e[2];return{prefix:n,unit:e[3],value:parseFloat(r)}}function le(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function ce(t,e,n,r){t.addEventListener(e,n,r)}function fe(t,e,n){t.removeEventListener(e,n)}var pe,he,de=[],ve=y.__r;y.__r=function(t){ve&&ve(t),pe=0,(he=t.__c).__H&&(he.__H.t=Ce(he.__H.t))};var ge=y.diffed;y.diffed=function(t){ge&&ge(t);var e=t.__c;if(e){var n=e.__H;n&&(n.u=(n.u.some(function(t){t.ref&&(t.ref.current=t.createHandle())}),[]),n.i=Ce(n.i))}};var me=y.unmount;function _e(t){y.__h&&y.__h(he);var e=he.__H||(he.__H={o:[],t:[],i:[],u:[]});return t>=e.o.length&&e.o.push({}),e.o[t]}function be(n,t,e){var r=_e(pe++);return r.__c||(r.__c=he,r.v=[e?e(t):ke(void 0,t),function(t){var e=n(r.v[0],t);r.v[0]!==e&&(r.v[0]=e,r.__c.setState({}))}]),r.v}function ye(t,e){var n=_e(pe++);return De(n.m,e)?(n.m=e,n.p=t,n.v=t()):n.v}y.unmount=function(t){me&&me(t);var e=t.__c;if(e){var n=e.__H;n&&n.o.forEach(function(t){return t.l&&t.l()})}};var xe=function(){};function Ee(){de.some(function(t){t.s=!1,t.__P&&(t.__H.t=Ce(t.__H.t))}),de=[]}if("undefined"!=typeof window){var Se=y.requestAnimationFrame;xe=function(t){(!t.s&&(t.s=!0)&&1===de.push(t)||Se!==y.requestAnimationFrame)&&(Se=y.requestAnimationFrame,(y.requestAnimationFrame||function(t){function e(){clearTimeout(n),cancelAnimationFrame(r),setTimeout(t)}var n=setTimeout(e,100),r=requestAnimationFrame(e)})(Ee))}}function Ce(t){return t.forEach(we),t.forEach(Me),[]}function we(t){t.l&&t.l()}function Me(t){var e=t.v();"function"==typeof e&&(t.l=e)}function De(n,t){return!n||t.some(function(t,e){return t!==n[e]})}function ke(t,e){return"function"==typeof e?e(t):e}var Pe={__proto__:null,useState:function(t){return be(ke,t)},useReducer:be,useEffect:function(t,e){var n=_e(pe++);De(n.m,e)&&(n.v=t,n.m=e,he.__H.t.push(n),xe(he))},useLayoutEffect:function(t,e){var n=_e(pe++);De(n.m,e)&&(n.v=t,n.m=e,he.__H.i.push(n))},useRef:function(t){return ye(function(){return{current:t}},[])},useImperativeHandle:function(t,e,n){var r=_e(pe++);De(r.m,n)&&(r.m=n,he.__H.u.push({ref:t,createHandle:e}))},useMemo:ye,useCallback:function(t,e){return ye(function(){return t},e)},useContext:function(t){var e=he.context[t.__c];if(!e)return t.__p;var n=_e(pe++);return null==n.v&&(n.v=!0,e.sub(he)),e.props.value},useDebugValue:function(t,e){y.useDebugValue&&y.useDebugValue(e?e(t):t)}};function Re(t,e){for(var n in e)t[n]=e[n];return t}function Oe(t){var e=t.parentNode;e&&e.removeChild(t)}var Ne=y.__e;function Ae(){this.t=[]}y.__e=function(t,e,n){if(t.then&&n)for(var r,i=e;i=i.__p;)if((r=i.__c)&&r.i)return n&&(e.__e=n.__e,e.__k=n.__k),void r.i(t);Ne(t,e,n)},(Ae.prototype=new w).i=function(t){var e=this;e.t.push(t);function n(){e.t[e.t.indexOf(t)]=e.t[e.t.length-1],e.t.pop(),0==e.t.length&&(z(e.props.fallback),e.__v.__e=null,e.__v.__k=e.state.u,e.setState({u:null}))}null==e.state.u&&(e.setState({u:e.__v.__k}),function t(e){for(var n=0;n<e.length;n++){var r=e[n];null!=r&&("function"!=typeof r.type&&r.__e?Oe(r.__e):r.__k&&t(r.__k))}}(e.__v.__k),e.__v.__k=[]),t.then(n,n)},Ae.prototype.render=function(t,e){return e.u?t.fallback:t.children};var ze="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Ge=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,Te=y.event;function Fe(t,e,n){if(null==e.__k)for(;e.firstChild;)Oe(e.firstChild);return T(t,e),"function"==typeof n&&n(),t?t.__c:null}y.event=function(t){return Te&&(t=Te(t)),t.persist=function(){},t.nativeEvent=t};var Be=function(){};function Ye(t){var e=this,n=t.container,r=f(Be,{context:e.context},t.vnode);return e.l&&e.l!==n&&(e.s.parentNode&&e.l.removeChild(e.s),z(e.v),e.p=!1),t.vnode?e.p?(n.__k=e.__k,T(r,n),e.__k=n.__k):(e.s=document.createTextNode(""),F("",n),n.insertBefore(e.s,n.firstChild),e.p=!0,T(r,e.l=n,e.s),e.__k=this.s.__k):e.p&&(e.s.parentNode&&e.l.removeChild(e.s),z(e.v)),e.v=r,e.componentWillUnmount=function(){e.s.parentNode&&e.l.removeChild(e.s),z(e.v)},null}Be.prototype.getChildContext=function(){return this.props.context},Be.prototype.render=function(t){return t.children};function Xe(t,e){return t?D(t).map(e):null}var He={map:Xe,forEach:Xe,count:function(t){return t?D(t).length:0},only:function(t){if(1!==(t=D(t)).length)throw new Error("Children.only() expects only one child.");return t[0]},toArray:D};function We(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=f.apply(void 0,t),r=n.type,i=n.props;return"function"!=typeof r&&(i.defaultValue&&(i.value||0===i.value||(i.value=i.defaultValue),delete i.defaultValue),Array.isArray(i.value)&&i.multiple&&"select"===r&&(D(i.children).forEach(function(t){-1!=i.value.indexOf(t.props.value)&&(t.props.selected=!0)}),delete i.value),function(t,e){var n,r,i;for(i in e)if(n=Ge.test(i))break;if(n)for(i in r=t.props={},e)r[Ge.test(i)?i.replace(/([A-Z0-9])/,"-$1").toLowerCase():i]=e[i]}(n,i)),n.preactCompatNormalized=!1,Ie(n)}function Ie(t){return t.preactCompatNormalized=!0,((e=t.props).class||e.className)&&(je.enumerable="className"in e,e.className&&(e.class=e.className),Object.defineProperty(e,"className",je)),t;var e}function Le(t){return!!t&&t.$$typeof===ze}var je={configurable:!0,get:function(){return this.class}};function Ue(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function Ve(t){return t&&(t.base||1===t.nodeType&&t)||null}var qe,$e=((qe=w)&&(Ze.__proto__=qe),((Ze.prototype=Object.create(qe&&qe.prototype)).constructor=Ze).prototype.shouldComponentUpdate=function(t,e){return Ue(this.props,t)||Ue(this.state,e)},Ze);function Ze(t){qe.call(this,t),this.isPureReactComponent=!0}function Ke(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}w.prototype.isReactComponent={};var Je=y.vnode;y.vnode=function(o){o.$$typeof=ze,function(){var t=o.type,e=o.props;if(e&&"string"==typeof t){var n={};for(var r in e)/^on(Ani|Tra)/.test(r)&&(e[r.toLowerCase()]=e[r],delete e[r]),n[r.toLowerCase()]=r;if(n.ondoubleclick&&(e.ondblclick=e[n.ondoubleclick],delete e[n.ondoubleclick]),n.onbeforeinput&&(e.onbeforeinput=e[n.onbeforeinput],delete e[n.onbeforeinput]),n.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(e.type))){var i=n.oninput||"oninput";e[i]||(e[i]=e[n.onchange],delete e[n.onchange])}}}();var t=o.type;t&&t.o&&o.ref&&(o.props.ref=o.ref,o.ref=null),"function"==typeof t&&!t.h&&t.prototype&&(Ke(t.prototype,"componentWillMount"),Ke(t.prototype,"componentWillReceiveProps"),Ke(t.prototype,"componentWillUpdate"),t.h=!0),Je&&Je(o)};Re({version:"16.8.0",Children:He,render:Fe,hydrate:Fe,unmountComponentAtNode:function(t){return!!t.__k&&(T(null,t),!0)},createPortal:function(t,e){return f(Ye,{vnode:t,container:e})},createElement:We,createContext:Y,createFactory:function(t){return We.bind(null,t)},cloneElement:function(t){return Le(t)?Ie(B.apply(null,arguments)):t},createRef:h,Fragment:C,isValidElement:Le,findDOMNode:Ve,Component:w,PureComponent:$e,memo:function(e,r){function n(t){var e=this.props.ref,n=e==t.ref;return!n&&e&&(e.call?e(null):e.current=null),(r?!r(this.props,t):Ue(this.props,t))||!n}function t(t){return this.shouldComponentUpdate=n,f(e,Re({},t))}return t.prototype.isReactComponent=!0,t.displayName="Memo("+(e.displayName||e.name)+")",t.o=!0,t},forwardRef:function(n){function t(t){var e=t.ref;return delete t.ref,n(t,e)}return t.prototype.isReactComponent=!0,t.o=!0,t.displayName="ForwardRef("+(n.displayName||n.name)+")",t},unstable_batchedUpdates:function(t,e){return t(e)},Suspense:Ae,lazy:function(e){var n,r,i;function t(t){if(n||(n=e()).then(function(t){r=t.default},function(t){i=t}),i)throw i;if(!r)throw n;return f(r,t)}return t.displayName="Lazy",t.o=!0,t}},Pe);var Qe=function(t,e){return(Qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var tn=function(){return(tn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var en=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0};function nn(n,t){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t.replace(/([^}{]*){/gm,function(t,e){return function(t){var e=t.match(/("[^"]*"|'[^']*'|[^,\s()]*\((?:[^()]*|\([^()]*\))*\)[^,\s()]*|[^,])+/g);return e?e.map(function(t){return t.trim()}):[]}(e).map(function(t){return-1<t.indexOf(":global")?t.replace(/\:global/g,""):-1<t.indexOf(":host")?""+t.replace(/\:host/g,"."+n):"."+n+" "+t}).join(", ")+"{"}),(document.head||document.body).appendChild(e),e}var rn=function(){return(rn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function on(t,e,n,r){var i=pn(t),o=pn(e),a=pn(r);return sn(hn(r[0],dn(i,a)),hn(r[0],dn(o,a)),n[0])}function an(t){return t.touches?cn(t.touches):[fn(t)]}function sn(t,e,n){var r=t.clientX,i=t.clientY;return{clientX:r,clientY:i,deltaX:r-e.clientX,deltaY:i-e.clientY,distX:r-n.clientX,distY:i-n.clientY}}function un(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function ln(t,n,r){return t.map(function(t,e){return sn(t,n[e],r[e])})}function cn(t){for(var e=Math.min(t.length,2),n=[],r=0;r<e;++r)n.push(fn(t[r]));return n}function fn(t){return{clientX:t.clientX,clientY:t.clientY}}function pn(t){return{clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function hn(t,e){return{clientX:t.clientX+e.clientX,clientY:t.clientY+e.clientY}}function dn(t,e){return{clientX:t.clientX-e.clientX,clientY:t.clientY-e.clientY}}var vn=function(){function t(t,e){var o=this;void 0===e&&(e={}),this.el=t,this.options={},this.flag=!1,this.pinchFlag=!1,this.datas={},this.isDrag=!1,this.isPinch=!1,this.isMouse=!1,this.isTouch=!1,this.prevClients=[],this.startClients=[],this.movement=0,this.startPinchClients=[],this.startDistance=0,this.customDist=[0,0],this.onDragStart=function(t){if(o.flag||!1!==t.cancelable){if(function(t){return t.touches&&2<=t.touches.length}(t)){if(!o.flag&&t.touches.length!==t.changedTouches.length)return;o.pinchFlag||o.onPinchStart(t)}if(!o.flag){var e=o.startClients[0]?o.startClients:an(t);o.customDist=[0,0],o.flag=!0,o.isDrag=!1,o.startClients=e,o.prevClients=e,o.datas={};var n=sn(e[o.movement=0],o.prevClients[0],o.startClients[0]),r=o.options,i=r.dragstart;(r.preventRightClick&&3===t.which||!1===(i&&i(rn({datas:o.datas,inputEvent:t},n))))&&(o.startClients=[],o.prevClients=[],o.flag=!1),o.flag&&t.preventDefault()}}},this.onDrag=function(t,e){if(o.flag){var n=an(t);o.pinchFlag&&o.onPinch(t,n);var r=o.move([0,0],t,n);if(r&&(r.deltaX||r.deltaY)){var i=o.options.drag;i&&i(rn({},r,{isScroll:!!e,inputEvent:t}))}}},this.onDragEnd=function(t){if(o.flag){o.pinchFlag&&o.onPinchEnd(t),o.flag=!1;var e=o.options.dragend,n=o.prevClients,r=o.startClients,i=o.pinchFlag?on(n,n,r,o.startPinchClients):sn(n[0],n[0],r[0]);o.startClients=[],o.prevClients=[],e&&e(rn({datas:o.datas,isDrag:o.isDrag,inputEvent:t},i))}},this.options=rn({container:t,preventRightClick:!0,pinchThreshold:0,events:["touch","mouse"]},e);var n=this.options,r=n.container,i=n.events;if(this.isTouch=-1<i.indexOf("touch"),this.isMouse=-1<i.indexOf("mouse"),this.customDist=[0,0],this.isMouse&&(ce(t,"mousedown",this.onDragStart),ce(r,"mousemove",this.onDrag),ce(r,"mouseup",this.onDragEnd)),this.isTouch){var a={passive:!1};ce(t,"touchstart",this.onDragStart,a),ce(r,"touchmove",this.onDrag,a),ce(r,"touchend",this.onDragEnd,a)}}var e=t.prototype;return e.isDragging=function(){return this.isDrag},e.isPinching=function(){return this.isPinch},e.scrollBy=function(e,n,t,r){void 0===r&&(r=!0),this.flag&&(this.startClients.forEach(function(t){t.clientX-=e,t.clientY-=n}),this.prevClients.forEach(function(t){t.clientX-=e,t.clientY-=n}),r&&this.onDrag(t,!0))},e.move=function(t,e,n){var r=t[0],i=t[1];void 0===n&&(n=this.prevClients);var o=this.customDist,a=this.prevClients,s=this.startClients,u=this.pinchFlag?on(n,a,s,this.startPinchClients):sn(n[0],a[0],s[0]);o[0]+=r,o[1]+=i,u.deltaX+=r,u.deltaY+=i;var l=u.deltaX,c=u.deltaY;return u.distX+=o[0],u.distY+=o[1],this.movement+=Math.sqrt(l*l+c*c),this.prevClients=n,this.isDrag=!0,rn({datas:this.datas},u,{isScroll:!1,inputEvent:e})},e.onPinchStart=function(t){var e,n,r=this.options,i=r.pinchstart,o=r.pinchThreshold;if(!(this.isDrag&&this.movement>o)){var a=cn(t.changedTouches);if(this.pinchFlag=!0,(e=this.startClients).push.apply(e,a),(n=this.prevClients).push.apply(n,a),this.startDistance=un(this.prevClients),this.startPinchClients=this.prevClients.slice(),i){var s=this.prevClients,u=pn(s),l=sn(u,u,u);i(rn({datas:this.datas,touches:ln(s,s,s)},l,{inputEvent:t}))}}},e.onPinch=function(t,e){if(this.flag&&this.pinchFlag){this.isPinch=!0;var n=this.options.pinch;if(n){var r=this.prevClients,i=this.startClients,o=sn(pn(e),pn(r),pn(i)),a=un(e);n(rn({datas:this.datas,touches:ln(e,r,i),scale:a/this.startDistance,distance:a},o,{inputEvent:t}))}}},e.onPinchEnd=function(t){if(this.flag&&this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.options.pinchend;if(n){var r=this.prevClients,i=this.startClients,o=sn(pn(r),pn(r),pn(i));n(rn({datas:this.datas,isPinch:e,touches:ln(r,r,i)},o,{inputEvent:t})),this.isPinch=!1,this.pinchFlag=!1}}},e.unset=function(){var t=this.el,e=this.options.container;this.isMouse&&(fe(t,"mousedown",this.onDragStart),fe(e,"mousemove",this.onDrag),fe(e,"mouseup",this.onDragEnd)),this.isTouch&&(fe(t,"touchstart",this.onDragStart),fe(e,"touchmove",this.onDrag),fe(e,"touchend",this.onDragEnd))},t}(),gn=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var n=this.keys,r=this.values,i=n.indexOf(t),o=-1===i?n.length:i;n[o]=t,r[o]=e},t}(),mn=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),_n="function"==typeof Map,bn=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},t}();var yn=function(){function t(t,e,n,r,i,o,a,s){this.prevList=t,this.list=e,this.added=n,this.removed=r,this.changed=i,this.maintained=o,this.changedBeforeAdded=a,this.fixed=s}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t=function(t,n){var s=[],u=[];return t.forEach(function(t){var e=t[0],n=t[1],r=new bn;s[e]=r,u[n]=r}),s.forEach(function(t,e){t.connect(s[e-1])}),t.filter(function(t,e){return!n[e]}).map(function(t,e){var n=t[0],r=t[1];if(n===r)return[0,0];var i=s[n],o=u[r-1],a=i.getIndex();return i.disconnect(),o?i.connect(o,o.next):i.connect(void 0,s[0]),[a,i.getIndex()]})}(this.changedBeforeAdded,this.fixed),s=this.changed,u=[];this.cacheOrdered=t.filter(function(t,e){var n=t[0],r=t[1],i=s[e],o=i[0],a=i[1];if(n!==r)return u.push([o,a]),!0}),this.cachePureChanged=u},t}();var xn=function(t,e){return(xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var En,Sn="function"==typeof Map?void 0:(En=0,function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++En)}),Cn=function(e){function t(t){return void 0===t&&(t=[]),e.call(this,t,Sn)||this}return function(t,e){function n(){this.constructor=t}xn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e),t}(function(){function t(t,e){void 0===t&&(t=[]),this.findKeyCallback=e,this.list=[].slice.call(t)}return t.prototype.update=function(t){var e=[].slice.call(t),n=function(t,e,n){var r=_n?Map:n?mn:gn,i=n||function(t){return t},o=[],a=[],s=[],u=t.map(i),l=e.map(i),c=new r,f=new r,p=[],h=[],d={},v=[],g=0,m=0;return u.forEach(function(t,e){c.set(t,e)}),l.forEach(function(t,e){f.set(t,e)}),u.forEach(function(t,e){var n=f.get(t);void 0===n?(++m,a.push(e)):d[n]=m}),l.forEach(function(t,e){var n=c.get(t);void 0===n?(o.push(e),++g):(s.push([n,e]),m=d[e]||0,p.push([n-m,e-g]),h.push(e===n),n!==e&&v.push([n,e]))}),a.reverse(),new yn(t,e,o,a,v,s,p,h)}(this.list,e,this.findKeyCallback);return this.list=e,n},t}());function wn(t,e,n,r,i,o){for(var a=n;a<r;++a)t[a]+=t[i+a-n]*o,e[a]+=e[i+a-n]*o}function Mn(t,e,n,r,i){for(var o=n;o<r;++o){var a=t[o],s=e[o];t[o]=t[i+o-n],t[i+o-n]=a,e[o]=e[i+o-n],e[i+o-n]=s}}function Dn(t,e,n,r,i){for(var o=n;o<r;++o)t[o]/=i,e[o]/=i}function kn(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),r=In(e),i=0;i<e;++i){var o=e*i,a=e*(i+1),s=o+i;if(0===n[s])for(var u=i+1;u<e;++u)if(n[e*u+i]){Mn(n,r,o,a,e*u);break}if(!n[s])return[];Dn(n,r,o,a,n[s]);for(u=0;u<e;++u){var l=e*u,c=l+e,f=n[l+i];0!==f&&i!==u&&wn(n,r,l,c,o,-f)}}return r}function Pn(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e;++r)for(var i=0;i<e;++i)n[i*e+r]=t[e*r+i];return n}function Rn(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=Math.atan2(r,n);return 0<i?i:i+2*Math.PI}function On(t,e){for(var n=t.slice(),r=t.length;r<e-1;++r)n[r]=0;return n[e-1]=1,n}function Nn(t,e,n){if(void 0===e&&(e=Math.sqrt(t.length)),e===n)return t;for(var r=In(n),i=Math.min(e,n),o=0;o<i-1;++o){for(var a=0;a<i-1;++a)r[o*n+a]=t[o*e+a];r[(o+1)*n-1]=t[(o+1)*e-1],r[(n-1)*n+o]=t[(e-1)*e+o]}return r[n*n-1]=t[e*e-1],r}function An(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=In(e);return t.forEach(function(t){r=zn(r,t,e)}),r}function zn(t,e,n){var r=[],i=t.length/n,o=e.length/i;if(!i)return e;if(!o)return t;for(var a=0;a<n;++a)for(var s=0;s<o;++s)for(var u=r[a*o+s]=0;u<i;++u)r[a*o+s]+=t[a*i+u]*e[u*o+s];return r}function Gn(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=[],i=t.length/n,o=e.length/i,a=0;a<n;++a)for(var s=0;s<o;++s)for(var u=r[a+s*o]=0;u<i;++u)r[a+s*o]+=t[a+u*i]*e[u+s*o];return r}function Tn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length,r=0,i=n-1;0<=i;--i)r+=t[i];return n?r/n:0}function Fn(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]+e[i];return r}function Bn(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]-e[i];return r}function Yn(t,e,n){void 0===n&&(n=e.length);var r=zn(t,e,n),i=r[n-1];return r.map(function(t){return t/i})}function Xn(t,e){return Yn(Wn(e,3),On(t,3))}function Hn(t){return 9===t.length?[t[0],t[3],t[1],t[4],t[2],t[5]]:Pn(t)}function Wn(t,e){var n=Math.cos(t),r=Math.sin(t),i=In(e);return i[0]=n,i[1]=-r,i[e]=r,i[e+1]=n,i}function In(t){for(var e=t*t,n=[],r=0;r<e;++r)n[r]=r%(t+1)?0:1;return n}function Ln(t,e){for(var n=In(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[(e+1)*i]=t[i];return n}function jn(t,e){for(var n=In(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[e*(i+1)-1]=t[i];return n}function Un(t,e,n,r,i,o,a,s){var u=t[0],l=t[1],c=e[0],f=e[1],p=n[0],h=n[1],d=r[0],v=r[1],g=i[0],m=i[1],_=o[0],b=o[1],y=a[0],x=a[1],E=s[0],S=s[1],C=kn([u,l,1,0,0,0,-g*u,-g*l,0,0,0,u,l,1,-m*u,-m*l,c,f,1,0,0,0,-_*c,-_*f,0,0,0,c,f,1,-b*c,-b*f,p,h,1,0,0,0,-y*p,-y*h,0,0,0,p,h,1,-x*p,-x*h,d,v,1,0,0,0,-E*d,-E*v,0,0,0,d,v,1,-S*d,-S*v],8);if(!C.length)return[];var w=zn(C,[g,m,_,b,y,x,E,S],8);return w[8]=1,Nn(w,3,4)}var Vn=function(t,e){return(Vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function qn(t,e){function n(){this.constructor=t}Vn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var $n=function(){return($n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Zn=ee(),Kn=-1<Zn.os.name.indexOf("ios")||-1<Zn.browser.name.indexOf("safari"),Jn="moveable-",Qn=("\n{\n\tposition: fixed;\n\twidth: 0;\n\theight: 0;\n\tleft: 0;\n\ttop: 0;\n\tz-index: 3000;\n}\n.control-box {\n    z-index: 0;\n}\n.line, .control {\n\tleft: 0;\n\ttop: 0;\n}\n.control {\n\tposition: absolute;\n\twidth: 14px;\n\theight: 14px;\n\tborder-radius: 50%;\n\tborder: 2px solid #fff;\n\tbox-sizing: border-box;\n\tbackground: #4af;\n\tmargin-top: -7px;\n    margin-left: -7px;\n    z-index: 10;\n    will-change: transform;\n}\n.line {\n\tposition: absolute;\n\twidth: 1px;\n\theight: 1px;\n\tbackground: #4af;\n\ttransform-origin: 0px 0.5px;\n}\n.line.dashed {\n    box-sizing: border-box;\n    background: transparent;\n}\n.line.dashed.horizontal {\n    border-top: 1px dashed #4af;\n}\n.line.dashed.vertical {\n    border-left: 1px dashed #4af;\n}\n.line.rotation-line {\n\theight: 40px;\n\twidth: 1px;\n\ttransform-origin: 0.5px 39.5px;\n}\n.line.rotation-line .control {\n\tborder-color: #4af;\n\tbackground:#fff;\n\tcursor: alias;\n}\n.line.vertical {\n    transform: translateX(-50%);\n}\n.line.horizontal {\n    transform: translateY(-50%);\n}\n.line.vertical.bold {\n    width: 2px;\n}\n.line.horizontal.bold {\n    height: 2px;\n}\n.control.origin {\n\tborder-color: #f55;\n\tbackground: #fff;\n\twidth: 12px;\n\theight: 12px;\n\tmargin-top: -6px;\n\tmargin-left: -6px;\n\tpointer-events: none;\n}\n.direction.e, .direction.w {\n\tcursor: ew-resize;\n}\n.direction.s, .direction.n {\n\tcursor: ns-resize;\n}\n.direction.nw, .direction.se, :host.reverse .direction.ne, :host.reverse .direction.sw {\n\tcursor: nwse-resize;\n}\n.direction.ne, .direction.sw, :host.reverse .direction.nw, :host.reverse .direction.se {\n\tcursor: nesw-resize;\n}\n.group {\n    z-index: -1;\n}\n.area {\n    position: absolute;\n}\n.area-pieces {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n}\n.area.avoid {\n    pointer-events: none;\n}\n.area.avoid+.area-pieces {\n    display: block;\n}\n.area-piece {\n    position: absolute;\n}\n"+(Kn?':global svg *:before {\n\tcontent:"";\n\ttransform-origin: inherit;\n}':"")+"\n").replace(/\.([^{,\s\d.]+)/g,"."+Jn+"$1"),tr=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],er=1e-7,nr=Math.pow(10,10),rr=-nr,ir={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]};function or(t){return Math.round(t)}function ar(t,e){return[t[0]*e[0],t[1]*e[1]]}function sr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(t){return t.split(" ").map(function(t){return t?""+e+t:""}).join(" ")}).join(" ")}.apply(void 0,[Jn].concat(t))}function ur(){return In(3)}function lr(t){return t&&"none"!==t?ae(t)?t:function(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}(t).value.split(/s*,\s*/g).map(function(t){return parseFloat(t)}):[1,0,0,1,0,0]}function cr(t,e,n){return An(e,jn(n,e),t,jn(n.map(function(t){return-t}),e))}function fr(o){return pr(Fr(o,":before")).map(function(t,e){var n=ue(t),r=n.value,i=n.unit;return r*function(t,e,n){return"%"!==e?1:t.ownerSVGElement.viewBox.baseVal[n?"width":"height"]/100}(o,i,0===e)})}function pr(t){var e=t.transformOrigin;return e?e.split(" "):["0","0"]}function hr(t,e,n){for(var r=document.body,i=!t||n?t:t.parentElement,o=!1,a="relative";i&&i!==r;){e===i&&(o=!0);var s=Fr(i),u=s.transform;if("static"!==(a=s.position)||u&&"none"!==u)break;i=i.parentElement,a="relative"}return{isStatic:"static"===a,isEnd:o||!i||i===r,offsetParent:i||r}}function dr(t,e,n,r){var i,o,a,s,u=t,l=[],c="svg"!==u.tagName.toLowerCase()&&"ownerSVGElement"in u,f=e||document.body,p=!1,h=!1,d=3,v=hr(e,e,!0).offsetParent;for(n&&(e=t.parentElement);u&&!p;){var g=Fr(u),m=u.tagName.toLowerCase(),_=g.position,b="fixed"===_,y=g.transform,x=6===(s=lr(y)).length?[s[0],s[2],s[4],s[1],s[3],s[5],0,0,1]:Pn(s);if(!h&&16===x.length){h=!0,d=4;for(var E=l.length,S=0;S<E;++S)l[S]=Nn(l[S],3,4)}h&&9===x.length&&(x=Nn(x,3,4));var C=u.offsetLeft,w=u.offsetTop;if(b){var M=(e||document.documentElement).getBoundingClientRect();C-=M.left,w-=M.top}var D=oe(C),k=D,P=void 0;k&&"svg"!==m?(P=Kn?fr(u):pr(g).map(function(t){return parseFloat(t)}),k=!1,"g"===m?w=C=0:(C=(i=gr(u,P))[0],w=i[1],P[0]=i[2],P[1]=i[3])):P=pr(g).map(function(t){return parseFloat(t)}),"svg"===m&&a&&l.push(vr(u,d),In(d));var R=hr(u,e),O=R.offsetParent,N=R.isEnd,A=R.isStatic;Kn&&!k&&!D&&A&&"relative"===_&&(C-=O.offsetLeft,w-=O.offsetTop,p=p||N);var z=0,G=0;if(k||v===O||(z=O.clientLeft,G=O.clientTop),l.push(cr(x,d,P),jn([k?u:C-u.scrollLeft+z,k?P:w-u.scrollTop+G],d)),a=a||x,o=o||P,p||b)break;u=O,p=N}var T=n?Nn(n,r,d):In(d),F=n?Nn(n,r,d):In(d),B=In(d),Y=l.length,X=hr(f,f,!0).offsetParent;l.reverse(),l.forEach(function(t,e){var n;Y-2===e&&(F=T.slice()),Y-1===e&&(B=T.slice()),ae(t[d-1])&&(n=function(t,e,n,r,i,o){var a,s=Cr(t),u=s[0],l=s[1],c=e.getBoundingClientRect(),f=t.getBoundingClientRect(),p=f.left-c.left+e.scrollLeft,h=f.top-c.top+e.scrollTop,d=f.width,v=f.height,g=An(n,i,o),m=yr(g,u,l,n),_=m.left,b=m.top,y=m.width,x=m.height,E=mr(g,r,n),S=Bn(E,[_,b]),C=[p+S[0]*d/y,h+S[1]*v/x],w=[0,0],M=0;for(;++M<10;){var D=kn(i,n);a=Bn(mr(D,C,n),mr(D,E,n)),w[0]=a[0],w[1]=a[1];var k=yr(An(n,i,jn(w,n),o),u,l,n),P=k.left,R=k.top,O=P-p,N=R-h;if(Math.abs(O)<2&&Math.abs(N)<2)break;C[0]-=O,C[1]-=N}return w.map(function(t){return Math.round(t)})}(t[d-1],X,d,t[2*d-1],T,l[e+1]),t[d-1]=n[0],t[2*d-1]=n[1]),T=zn(T,t,d)});var H=(!c&&h?"matrix3d":"matrix")+"("+Hn(c&&16===a.length?Nn(a,4,3):a)+")";return[F,B,T,a,H,o,h]}function vr(t,e){var n=t.clientWidth,r=t.clientHeight,i=t.viewBox.baseVal,o=i.width||n,a=i.height||r,s=n/o,u=r/a,l=t.preserveAspectRatio.baseVal,c=l.align,f=l.meetOrSlice,p=[0,0],h=[s,u],d=[0,0];if(1!==c){var v=(c-2)%3,g=Math.floor((c-2)/3);p[0]=o*v/2,p[1]=a*g/2;var m=2===f?Math.max(u,s):Math.min(s,u);h[0]=m,h[1]=m,d[0]=(n-o)/2*v,d[1]=(r-a)/2*g}var _=Ln(h,e);return _[e-1]=d[0],_[2*e-1]=d[1],cr(_,e,p)}function gr(t,e){if(!t.getBBox)return[0,0];var n=t.getBBox(),r=t.ownerSVGElement.viewBox.baseVal,i=n.x-r.x,o=n.y-r.y;return[i,o,e[0]-i,e[1]-o]}function mr(t,e,n){return Yn(t,On(e,n),n)}function _r(t,e,n,r){return[mr(t,[0,0],r),mr(t,[e,0],r),mr(t,[0,n],r),mr(t,[e,n],r)]}function br(t){var e=t.map(function(t){return t[0]}),n=t.map(function(t){return t[1]}),r=Math.min.apply(Math,e),i=Math.min.apply(Math,n),o=Math.max.apply(Math,e),a=Math.max.apply(Math,n);return{left:r,top:i,right:o,bottom:a,width:o-r,height:a-i}}function yr(t,e,n,r){return br(_r(t,e,n,r))}function xr(t,e,n,r){var i=16===t.length?4:3,o=_r(t,n,r,i),a=o[0],s=a[0],u=a[1],l=o[1],c=l[0],f=l[1],p=o[2],h=p[0],d=p[1],v=o[3],g=v[0],m=v[1],_=mr(t,e,i),b=_[0],y=_[1],x=Math.min(s,c,h,g),E=Math.min(u,f,d,m),S=Math.max(s,c,h,g),C=Math.max(u,f,d,m);b=b-x||0,y=y-E||0;var w=[((s=s-x||0)+(c=c-x||0)+(h=h-x||0)+(g=g-x||0))/4,((u=u-E||0)+(f=f-E||0)+(d=d-E||0)+(m=m-E||0))/4],M=Rn(w,[s,u]),D=Rn(w,[c,f]);return[[x,E,S,C],[b,y],[s,u],[c,f],[h,d],[g,m],M<D&&D-M<Math.PI||D<M&&D-M<-Math.PI?1:-1]}function Er(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=Math.sqrt(n*n+r*r),o=Rn(t,e);return{transform:"translate("+t[0]+"px, "+t[1]+"px) rotate("+o+"rad)",width:i+"px"}}function Sr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e.length;return{transform:"translate("+e.reduce(function(t,e){return t+e[0]},0)/r+"px, "+e.reduce(function(t,e){return t+e[1]},0)/r+"px) rotate("+t+"rad)"}}function Cr(t,e,n,r){void 0===e&&(e=window.getComputedStyle(t)),void 0===r&&(r=n||"border-box"===e.boxSizing);var i=t.offsetWidth,o=t.offsetHeight,a=!oe(i);if((n||r)&&a)return[i,o];if(i=t.clientWidth,o=t.clientHeight,a||i||o)return n||r?[i+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0),o+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0)]:[i-(parseFloat(e.paddingLeft)||0)-(parseFloat(e.paddingRight)||0),o-(parseFloat(e.paddingTop)||0)-(parseFloat(e.paddingBottom)||0)];var s=t.getBBox();return[s.width,s.height]}function wr(t,e){return Rn(0<e?t[0]:t[1],0<e?t[1]:t[0])}function Mr(t,e,n,r){var i,o,a,s,u,l=0,c=0,f=0,p=0,h=[0,0],d=[0,0],v=[0,0],g=[0,0],m=[0,0],_=ur(),b=ur(),y=ur(),x=ur(),E=0,S=0,C=[0,0],w=1,M=1,D=!1,k="",P=[0,0],R={left:0,right:0,top:0,bottom:0,width:0,height:0},O={left:0,right:0,top:0,bottom:0,width:0,height:0},N=0,A=r?r.beforeMatrix:void 0,z=r?r.is3d?4:3:void 0;if(t){if(r)E=r.width,S=r.height;else{var G=Fr(t);E=t.offsetWidth,S=t.offsetHeight,oe(E)&&(E=(i=Cr(t,G,!0))[0],S=i[1])}b=(o=dr(t,e,A,z))[0],_=o[1],y=o[2],x=o[3],k=o[4],C=o[5],D=o[6],l=(s=(a=xr(y,C,E,S))[0])[0],c=s[1],f=s[2],p=s[3],h=a[1],d=a[2],v=a[3],g=a[4],m=a[5],w=a[6];var T;T=(u=xr(_,Fn(C,function(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e-1;++r)n[r]=t[(r+1)*e-1];return n[e-1]=0,n}(x,D?4:3)),E,S))[0],P=u[1],M=u[6],P=[P[0]+T[0]-l,P[1]+T[1]-c],R=Dr(t),O=Dr(hr(n,n,!0).offsetParent||document.body),N=wr([d,v],w)}return{rotation:N,containerRect:O,beforeDirection:M,direction:w,target:t,left:l,top:c,right:f,bottom:p,pos1:d,pos2:v,pos3:g,pos4:m,width:E,height:S,beforeMatrix:b,matrix:y,targetTransform:k,offsetMatrix:_,targetMatrix:x,is3d:D,beforeOrigin:P,origin:h,transformOrigin:C,clientRect:R}}function Dr(t){var e=t.getBoundingClientRect(),n=e.left,r=e.width,i=e.top,o=e.bottom;return{left:n,right:e.right,top:i,bottom:o,width:r,height:e.height}}function kr(t){if(t){var e=t.getAttribute("data-direction");if(e){var n=[0,0];return-1<e.indexOf("w")&&(n[0]=-1),-1<e.indexOf("e")&&(n[0]=1),-1<e.indexOf("n")&&(n[1]=-1),-1<e.indexOf("s")&&(n[1]=1),n}}}function Pr(t,e){return[Fn(e,t[0]),Fn(e,t[1]),Fn(e,t[2]),Fn(e,t[3])]}function Rr(t){var e=t.left,n=t.top;return Pr([t.pos1,t.pos2,t.pos3,t.pos4],[e,n])}function Or(t,e){return e?Math.round(t/e)*e:t}function Nr(n,r){return n.forEach(function(t,e){n[e]=Or(n[e],r)}),n}function Ar(t,e){t[e]&&(t[e].unset(),t[e]=null)}function zr(t,e,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Gr(t,e,n){var r=e.datas;return r.datas||(r.datas={}),$n({},n,{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,datas:r.datas})}function Tr(t,e,n){return t.triggerEvent(e,n)}function Fr(t,e){return window.getComputedStyle(t,e)}function Br(t,n){var r={},i={};return t.filter(function(e){var t=e.name;if(r[t]||!n.some(function(t){return e[t]}))return!1;if(e.ableGroup){if(i[t])return!1;i[t]=!0}return r[t]=!0})}function Yr(t,e,n){return t*(e?n:1/n)}function Xr(t,e,n){return t*(e?1/n:n)}function Hr(t,e){return t===e||null==t&&null==e}function Wr(n,t,e,r,i,o){var a="Start"===i;if(a&&-1<r.indexOf("Control")&&n.areaElement===o.inputEvent.target)return!1;var s=""+e+r+i,u=""+e+r+"Condition",l="End"===i,c=-1<i.indexOf("After");a&&n.updateRect(i,!0,!1);var f=-1<r.indexOf("Group"),p=n[t].filter(function(t){var e=a&&t[u];return!(!t[s]||e&&!e(o.inputEvent.target,n))&&t[s](n,o)}),h=p.length;if(a){if(!h)return n.state.dragger=null,n.moveables&&n.moveables.forEach(function(t){t.state.dragger=null}),!1;!function(t,e,n){var r=Gr(t,n,{isPinch:!!n.isPinch}),i=e?"Group":"";e&&(r.targets=t.props.targets),Tr(t,"onRender"+i+"Start",r)}(n,f,o)}else l?function(t,e,n){var r=Gr(t,n,{isPinch:!!n.sPinch,isDrag:n.isDrag}),i=e?"Group":"";e&&(r.targets=t.props.targets),Tr(t,"onRender"+i+"End",r)}(n,f,o):h&&function(t,e,n){var r=Gr(t,n,{isPinch:!!n.isPinch}),i=e?"Group":"";e&&(r.targets=t.props.targets),Tr(t,"onRender"+i,r)}(n,f,o);l&&(n.state.dragger=null),!a&&h&&(p.some(function(t){return t.updateRect})&&!f?n.updateRect(i,!1,!1):n.updateRect(i,!0,!1)),(!a&&h||l&&!h)&&n.forceUpdate(),a||l||c||!h||Wr(n,t,e,r,i+"After",o)}function Ir(r,t,i,o){var a={container:window,pinchThreshold:r.props.pinchThreshold};return["drag","pinch"].forEach(function(n){["Start","","End"].forEach(function(e){a[""+n+e.toLowerCase()]=function(t){return Wr(r,i,n,o,e,t)}})}),new vn(t,a)}var Lr,jr,Ur,Vr,qr,$r=(Lr="div",Vr="rCS"+function(t){return en(t).toString(36)}(jr=Qn),qr=0,function(e){function t(t){return e.call(this,t)||this}return function(t,e){function n(){this.constructor=t}Qe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e),t.prototype.render=function(){var t=this.props,e=t.className,n=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(t,["className"]);return We(Lr,tn({className:e+" "+Vr},n))},t.prototype.componentDidMount=function(){0===qr&&(Ur=nn(Vr,jr)),++qr},t.prototype.componentWillUnmount=function(){0==--qr&&Ur&&Ur.parentNode.removeChild(Ur)},t.prototype.getElement=function(){return this.element||(this.element=Ve(this))},t}(w));function Zr(t,e,n,r){return wt("div",{key:"line"+r,className:sr("line","direction",t),"data-direction":t,style:Er(e,n)})}var Kr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={conatainer:null,target:null,beforeMatrix:ur(),matrix:ur(),targetMatrix:ur(),targetTransform:"",is3d:!1,left:0,top:0,width:0,height:0,transformOrigin:[0,0],direction:1,beforeDirection:1,beforeOrigin:[0,0],origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],clientRect:{left:0,top:0,bottom:0,right:0,width:0,height:0},containerRect:{left:0,top:0,bottom:0,right:0,width:0,height:0},rotation:0},t.targetAbles=[],t.controlAbles=[],t}qn(t,e);var n=t.prototype;return n.render=function(){var t=this.props,e=t.edge,n=t.parentPosition,r=t.className;this.checkUpdate();var i=n||{left:0,top:0},o=i.left,a=i.top,s=this.state,u=s.left,l=s.top,c=s.pos1,f=s.pos2,p=s.pos3,h=s.pos4,d=s.target,v=s.direction;return wt($r,{ref:g(this,"controlBox"),className:sr("control-box",-1===v?"reverse":"")+" "+r,style:{position:"absolute",display:d?"block":"none",transform:"translate("+(u-o)+"px, "+(l-a)+"px) translateZ(50px)"}},this.renderAbles(),Zr(e?"n":"",c,f,0),Zr(e?"e":"",f,h,1),Zr(e?"w":"",c,p,2),Zr(e?"s":"",p,h,3))},n.componentDidMount=function(){this.controlBox.getElement();var t=this.props,e=t.parentMoveable,n=t.container;this.updateEvent(t),n||e||this.updateRect("End",!1,!0)},n.componentDidUpdate=function(t){this.updateEvent(t)},n.componentWillUnmount=function(){Ar(this,"targetDragger"),Ar(this,"controlDragger")},n.getContainer=function(){var t=this.props,e=t.parentMoveable;return t.container||e&&e.getContainer()||this.controlBox.getElement().parentElement},n.isMoveableElement=function(t){return t&&-1<(t.getAttribute("class")||"").indexOf(Jn)},n.dragStart=function(t){this.targetDragger&&this.targetDragger.onDragStart(t)},n.isInside=function(t,e){var n=this.state,r=n.pos1,i=n.pos2,o=n.pos3,a=n.pos4,s=n.target;if(!s)return!1;var u=s.getBoundingClientRect();return function(t,e,n,r,i){var o=[zr(t,e,n),zr(t,n,i),zr(t,i,e)],a=[zr(t,n,i),zr(t,i,r),zr(t,r,n)];return!!(o.every(function(t){return 0<=t})||o.every(function(t){return t<=0})||a.every(function(t){return 0<=t})||a.every(function(t){return t<=0}))}([t-u.left,e-u.top],r,i,a,o)},n.updateRect=function(t,e,n){void 0===n&&(n=!0);var r=this.props.parentMoveable,i=this.state,o=i.target||this.props.target,a=this.getContainer();this.updateState(Mr(o,a,a,e?i:void 0),!r&&n)},n.updateEvent=function(t){var e=this.controlBox.getElement(),n=this.targetAbles.length,r=this.controlAbles.length,i=this.props.target,o=t.target,a=this.props.dragArea,s=t.dragArea,u=!a&&o!==i,l=!n&&this.targetDragger||u||s!==a;l&&(Ar(this,"targetDragger"),this.updateState({dragger:null})),r||Ar(this,"controlDragger"),i&&n&&!this.targetDragger&&(this.targetDragger=Ir(this,a?this.areaElement:i,"targetAbles","")),!this.controlDragger&&r&&(this.controlDragger=Ir(this,e,"controlAbles","Control")),l&&this.unsetAbles()},n.updateTarget=function(t){this.updateRect(t,!0)},n.getRect=function(){var t=this.state,e=Rr(this.state),n=e[0],r=e[1],i=e[2],o=e[3],a=br(e),s=t.width,u=t.height;return{width:a.width,height:a.height,left:a.left,top:a.top,pos1:n,pos2:r,pos3:i,pos4:o,offsetWidth:s,offsetHeight:u}},n.checkUpdate=function(){var t=this.props,e=t.target,n=t.container,r=t.parentMoveable,i=this.state,o=i.target,a=i.container;(o||e)&&(this.updateAbles(),Hr(o,e)&&Hr(a,n)||(this.updateState({target:e,container:n}),r||!n&&!this.controlBox||this.updateRect("End",!1,!1)))},n.triggerEvent=function(t,e){var n=this.props[t];return n&&n(e)},n.unsetAbles=function(){var e=this;this.targetAbles.filter(function(t){return!!t.unset&&(t.unset(e),!0)}).length&&this.forceUpdate()},n.updateAbles=function(t,e){void 0===t&&(t=this.props.ables),void 0===e&&(e="");var n=this.props,r=t.filter(function(t){return t&&n[t.name]}),i="drag"+e+"ControlStart",o=Br(r,["drag"+e+"Start","pinch"+e+"Start"]),a=Br(r,[i]);this.targetAbles=o,this.controlAbles=a},n.updateState=function(t,e){if(e)this.setState(t);else{var n=this.state;for(var r in t)n[r]=t[r]}},n.renderAbles=function(){var e=this,n=this.props;return Br(n.ables.filter(function(t){return t&&n[t.name]}),["render"]).map(function(t){return(0,t.render)(e,Ht)})},t.defaultProps={target:null,container:null,origin:!0,edge:!1,parentMoveable:null,parentPosition:null,ables:[],pinchThreshold:20,dragArea:!1,transformOrigin:"",className:""},t}(zt);function Jr(t){return Rn([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}var Qr={name:"pinchable",updateRect:!0,props:{pinchable:Boolean,pinchThreshold:Number},pinchStart:function(n,t){var r=t.datas,i=t.clientX,o=t.clientY,e=t.touches,a=t.inputEvent,s=t.targets,u=n.props,l=u.pinchable,c=u.ables;if(!l)return!1;var f="onPinch"+(s?"Group":"")+"Start",p="drag"+(s?"Group":"")+"ControlStart",h=(!0===l?n.controlAbles:c.filter(function(t){return-1<l.indexOf(t.name)})).filter(function(t){return t.canPinch&&t[p]}),d=Gr(n,t,{});s&&(d.targets=s);var v=Tr(n,f,d);r.isPinch=!1!==v,r.ables=h;var g=r.isPinch;if(!g)return!1;var m=Jr(e);return h.forEach(function(t){r[t.name+"Datas"]={};var e={datas:r[t.name+"Datas"],clientX:i,clientY:o,inputEvent:a,parentRotate:m,pinchFlag:!0};t[p](n,e)}),n.state.snapDirection=[0,0],g},pinch:function(e,t){var n=t.datas,r=t.clientX,i=t.clientY,o=t.scale,a=t.distance,s=t.touches,u=t.inputEvent,l=t.targets;if(n.isPinch){var c=Jr(s),f=a*(1-1/o),p=Gr(e,t,{});l&&(p.targets=l),Tr(e,"onPinch"+(l?"Group":""),p);var h=n.ables,d="drag"+(l?"Group":"")+"Control";return h.forEach(function(t){t[d](e,{clientX:r,clientY:i,datas:n[t.name+"Datas"],inputEvent:u,parentDistance:f,parentRotate:c,pinchFlag:!0})}),p}},pinchEnd:function(e,t){var n=t.datas,r=t.clientX,i=t.clientY,o=t.isPinch,a=t.inputEvent,s=t.targets;if(n.isPinch){var u="onPinch"+(s?"Group":"")+"End",l=Gr(e,t,{isDrag:o});s&&(l.targets=s),Tr(e,u,l);var c=n.ables,f="drag"+(s?"Group":"")+"ControlEnd";return c.forEach(function(t){t[f](e,{clientX:r,clientY:i,isDrag:o,datas:n[t.name+"Datas"],inputEvent:a,pinchFlag:!0})}),o}},pinchGroupStart:function(t,e){return this.pinchStart(t,$n({},e,{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,$n({},e,{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,$n({},e,{targets:t.props.targets}))}};function ti(t,o,a,e,s,u){var n=o.name,l=e[n]||(e[n]=[]),c=!!a.match(/End$/g);return t.moveables.map(function(t,e){var n=l[e]||(l[e]={}),r=function(t){return typeof t===ne}(s)?s(t,n):s,i=o[a](t,$n({},r,{datas:n,parentFlag:!0}));return i&&u&&u(t,n,i,e),c&&(t.state.dragger=null),i})}function ei(t){return le(t,sr("direction"))}function ni(t,e){var n=e.datas,r=t.state,i=r.matrix,o=r.beforeMatrix,a=r.is3d,s=r.left,u=r.top,l=r.origin,c=r.offsetMatrix,f=r.targetMatrix,p=r.transformOrigin,h=a?4:3;n.is3d=a,n.matrix=i,n.targetMatrix=f,n.beforeMatrix=o,n.offsetMatrix=c,n.transformOrigin=p,n.inverseMatrix=kn(i,h),n.inverseBeforeMatrix=kn(o,h),n.absoluteOrigin=On(Fn([s,u],l),h),n.startDragBeforeDist=Yn(n.inverseBeforeMatrix,n.absoluteOrigin,h),n.startDragDist=Yn(n.inverseMatrix,n.absoluteOrigin,h)}function ri(t,e){var n=t.datas,r=t.distX,i=t.distY,o=n.inverseBeforeMatrix,a=n.inverseMatrix,s=n.is3d,u=n.startDragBeforeDist,l=n.startDragDist,c=s?4:3;return Bn(Yn(e?o:a,Fn(n.absoluteOrigin,[r,i]),c),e?u:l)}function ii(t){var e=[];return 0<=t[1]&&(0<=t[0]&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(0<=t[0]&&e.push(1),t[0]<=0&&e.push(0)),e}function oi(e,t){return ii(t).map(function(t){return e[t]})}function ai(t,e){var n=oi(t,e);return[Tn.apply(void 0,n.map(function(t){return t[0]})),Tn.apply(void 0,n.map(function(t){return t[1]}))]}function si(t,e){var n=t[0],r=t[1],i=t[2];return ai([t[3],i,r,n],e)}function ui(t,e){return si([t[0],t[1],t[2],t[3]],e)}function li(t,e,n,r,i,o){var a=si(_r(e,n,r,i),o);return[t[0]-a[0],t[1]-a[1]]}function ci(t,e,n,r){return zn(t,cr(e,r,n),r)}function fi(t,e){var n=t.transformOrigin,r=t.offsetMatrix,i=t.is3d?4:3;return ci(r,zn(t.targetMatrix,Ln(e,i),i),n,i)}function pi(t,e,n,r,i,o){var a=t.props.groupable,s=t.state,u=s.transformOrigin,l=s.targetMatrix,c=s.offsetMatrix,f=s.is3d,p=s.width,h=s.height,d=s.left,v=s.top,g=f?4:3,m=a?d:0,_=a?v:0;return Bn(li(i,ci(c,l,function(t,s,u,l,c,f){return void 0===l&&(l=s),void 0===c&&(c=u),void 0===f&&(f=[0,0]),t?t.map(function(t,e){var n=ue(t),r=n.value,i=n.unit,o=e?c:l,a=e?u:s;return"%"===t||isNaN(r)?a*(o?f[e]/o:0):"%"!==i?r:a*r/100}):f}(o,e,n,p,h,u),g),e,n,g,r),[m,_])}function hi(t,e){return ui(Rr(t.state),e)}function di(t){var e=t.state;if(!e.guidelines||!e.guidelines.length){var n=t.props,r=n.horizontalGuidelines,i=void 0===r?[]:r,o=n.verticalGuidelines,a=void 0===o?[]:o,s=n.elementGuidelines,u=void 0===s?[]:s,l=n.bounds,c=n.snapCenter;if(l||i.length||a.length||u.length){var f=e.containerRect,p=f.width,h=f.height,d=f.top,v=f.left,g=e.clientRect,m=g.top,_=g.left,b=Rr(e),y=Math.min.apply(Math,b.map(function(t){return t[0]})),x=Math.min.apply(Math,b.map(function(t){return t[1]})),E=y-(_-v),S=x-(m-d),C=[];i.forEach(function(t){C.push({type:"horizontal",pos:[0,t],size:p})}),a.forEach(function(t){C.push({type:"vertical",pos:[t,0],size:h})}),u.forEach(function(t){var e=t.getBoundingClientRect(),n=e.top,r=e.left,i=e.width,o=e.height,a=n-d,s=a+o,u=r-v,l=u+i;C.push({type:"vertical",element:t,pos:[or(u+E),a],size:o}),C.push({type:"vertical",element:t,pos:[or(l+E),a],size:o}),C.push({type:"horizontal",element:t,pos:[u,or(a+S)],size:i}),C.push({type:"horizontal",element:t,pos:[u,or(s+S)],size:i}),c&&(C.push({type:"vertical",element:t,pos:[or((u+l)/2+E),a],size:o,center:!0}),C.push({type:"horizontal",element:t,pos:[u,or((a+s)/2+S)],size:i,center:!0}))}),e.guidelines=C,e.enableSnap=!0}}}function vi(t,e,n,r){return{vertical:gi(t,e,!0,r),horizontal:gi(t,n,!1,r)}}function gi(t,e,n,r){void 0===r&&(r=0);var i=t.props.bounds;if(i){var o=i[n?"left":"top"],a=i[n?"right":"bottom"],s=Math.min.apply(Math,e),u=Math.max.apply(Math,e);if(!oe(o)&&s<o+r)return{isBound:!0,offset:s-o,pos:o};if(!oe(a)&&a-r<u)return{isBound:!0,offset:u-a,pos:a}}return{isBound:!1,offset:0,pos:0}}function mi(t,u,e,l,c,f,p){if(!t)return{isSnap:!1,dist:-1,offset:0,guidelines:[],snapPoses:[]};var h=[],d=1/0,v=0,g="vertical"===u?0:1,n=e.filter(function(s){return t.filter(function(t){var e=t.type,n=t.pos,r=t.center,i=t.element;if(!p&&i||!f&&!i||!c&&r||e!==u)return!1;var o=s-n[g],a=Math.abs(o);return!(l<a)&&(a<d&&(d=a,h=[]),d===a&&(v=o,h.push(t)),!0)}).length});return{isSnap:!!h.length,dist:isFinite(d)?d:-1,offset:v,guidelines:h,snapPoses:n}}function _i(t,e){var n=t.props,r=n.snappable,i=n.bounds,o=t.state,a=o.guidelines,s=o.enableSnap;return!(!r||!s||e&&!0!==r&&r.indexOf(e)||!(i||a&&a.length))}function bi(t,e,n,r,i){var o=t.state.guidelines,a=t.props,s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length-1,r=0;r<n;++r){var i=t[r];if(!oe(i))return i}return t[n]}(i,a.snapThreshold,5),u=a.snapElement,l=void 0===u||u,c=a.snapHorizontal,f=void 0===c||c,p=a.snapVertical;return{vertical:mi(o,"vertical",e,s,r,void 0===p||p,l),horizontal:mi(o,"horizontal",n,s,r,f,l)}}function yi(t,e,n,r){var i=t.props.snapCenter&&n,o=["left","right"],a=["top","bottom"];return i&&(o.push("center"),a.push("middle")),o=o.filter(function(t){return t in e}),a=a.filter(function(t){return t in e}),bi(t,o.map(function(t){return e[t]}),a.map(function(t){return e[t]}),i,r)}function xi(t,e){var n=vi(t,[e[0]],[e[1]]),r=n.horizontal,i=r.isBound,o=r.offset,a=n.vertical,s=a.isBound,u=a.offset;if(i||s){var l=void 0,c=(l=i&&s?Math.abs(o)<Math.abs(u):s)?u:o;return{isVertical:l,offset:c,dist:Math.abs(c)}}}function Ei(t,e,n,r,i,o){var a=function(t,e,n,r){var i=e[0]-t[0],o=e[1]-t[1];Math.abs(i)<er&&(i=0);Math.abs(o)<er&&(o=0);if(!i)return r?void 0:[0,n];if(!o)return r?[n,0]:void 0;var a=o/i,s=t[1]-a*t[0];{if(r){var u=a*(e[0]+n)+s;return[n,u-e[1]]}return[(e[1]+n-s)/a-e[0],n]}}(t,e,-n,r);if(!a)return NaN;var s=ri({datas:o,distX:a[0],distY:a[1]}),u=s[0],l=s[1];return i?l:u}function Si(t,e,n,r,i,o){var a=_r(t,e,n,o?4:3);return Pr(a,Bn(r,si(a,i)))}function Ci(r,t,i,o,a){var n,s=0,u=-1;if(t.map(function(t){return xi(r,t)}).forEach(function(t,e){t&&(!n||n.dist<t.dist)&&(n=t,u=e)}),n){var e=Ei(i[u],t[u],n.offset,n.isVertical,o,a);isNaN(e)||(s=e)}else t.some(function(t,e){var n=function(t,e,n,r,i){var o,a=bi(t,[e[0]],[e[1]]),s=a.horizontal,u=s.isSnap,l=s.offset,c=s.dist,f=a.vertical,p=f.isSnap,h=f.offset,d=f.dist,v=Math.abs(n[1]-e[1])<er,g=Math.abs(n[0]-e[0])<er;return u||p?Ei(n,e,(o=u&&p?0===c&&v||(0!==h||!g)&&d<c:p)?h:l,o,r,i):NaN}(r,t,i[e],o,a);return!isNaN(n)&&(s=n,!0)});return s}function wi(t,e,n,r,i,o,a,s){var u=si(Rr(t.state),o),l=Si(e,n,r,u,i,s);return i[0]&&i[1]?function(t,e,n,r,i,o,a,s,u){var l,c=oi(e,n),f=[n[0],-1*n[1]],p=[-1*n[0],n[1]],h=ai(e,f),d=ai(e,p),v=vi(t,[c[0][0]],[c[0][1]]),g=v.horizontal,m=g.isBound,_=g.offset,b=v.vertical,y=b.isBound,x=b.offset,E=0,S=0,C=xi(t,h),w=xi(t,d),M=C&&C.dist>Math.abs(x),D=w&&w.dist>Math.abs(_);if(M||D)if(M){var k=Ei(ai(e,[-1*f[0],f[1]]),h,C.offset,C.isVertical,!1,r);isNaN(k)||(E=k),S=Ci(t,[ai(P=Si(i,o+n[0]*E,a+n[1]*S,s,n,u),n)],[ai(P,f)],!0,r)}else{var P;k=Ei(ai(e,[-1*p[0],p[1]]),h,w.offset,w.isVertical,!0,r);isNaN(k)||(S=k),E=Ci(t,[ai(P=Si(i,o+n[0]*E,a+n[1]*S,s,n,u),n)],[ai(P,p)],!1,r)}else{var R=bi(t,[c[0][0]],[c[0][1]]),O=R.horizontal.offset,N=R.vertical.offset;E=(l=ri({datas:r,distX:-(y?x:N),distY:-(m?_:O)}))[0],S=l[1]}return[n[0]*E,n[1]*S]}(t,l,i,a,e,n,r,u,s):function(t,e,n,r){var i,o,a=0!==n[0]?0:1,s=0<a,u=e.slice().reverse();t.props.keepRatio?(i=[ai(e,n)],o=[ai(u,n)]):(i=oi(e,n),o=oi(u,n),i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]),o.reverse(),o.push([(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2]));var l=Ci(t,i,o,s,r),c=[0,0];return c[a]=n[a]*l,c}(t,l,i,a)}var Mi={name:"snappable",props:{snappable:[Boolean,Array],snapCenter:Boolean,snapHorizontal:Boolean,snapVertical:Boolean,snapElement:Boolean,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object},render:function(t,a){var e=t.state,s=e.top,u=e.left,n=e.pos1,r=e.pos2,i=e.pos3,o=e.pos4,l=e.snapDirection,c=e.clientRect,f=e.containerRect,p=c.left-f.left,h=c.top-f.top,d=Math.min(n[0],r[0],i[0],o[0]),v=Math.min(n[1],r[1],i[1],o[1]);if(!l||!_i(t,""))return[];var g=Rr(t.state),m=br(g),_=m.width,b=m.height,y=m.top,x=m.left,E=m.bottom,S=m.right,C=function(t,e,n){if(!0===n){var r=br(e);return r.middle=(r.top+r.bottom)/2,r.center=(r.left+r.right)/2,yi(t,r,!0,1)}if(n[0]||n[1]){o=void 0;return t.props.keepRatio?o=[ai(e,n)]:1<(o=oi(e,n)).length&&o.push([(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2]),bi(t,o.map(function(t){return t[0]}),o.map(function(t){return t[1]}),!0,1)}for(var i=[e[0],e[1],e[3],e[2],e[0]],o=[],a=0;a<4;++a)o.push(i[a]),e.push([(i[a][0]+i[a+1][0])/2,(i[a][1]+i[a+1][1])/2]);return bi(t,o.map(function(t){return t[0]}),o.map(function(t){return t[1]}),!0,1)}(t,g,l),w=C.vertical,M=w.guidelines,D=w.snapPoses,k=C.horizontal,P=k.guidelines,R=k.snapPoses,O=vi(t,[x,S],[y,E],1),N=O.vertical,A=N.isBound,z=N.pos,G=O.horizontal,T=G.isBound,F=G.pos;A&&D.indexOf(z)<0&&D.push(z),T&&R.indexOf(F)<0&&R.push(F);var B=M.filter(function(t){return t.element});return P.filter(function(t){return t.element}).map(function(t,e){var n=t.pos,r=t.size,i=Math.min(0,n[0]-p),o=Math.max(_,n[0]-p+r);return a.createElement("div",{className:sr("line","horizontal","guideline","dashed"),key:"horizontalLinkGuidline"+e,style:{left:d+i+"px",top:-s+n[1]+"px",width:o-i+"px"}})}).concat(B.map(function(t,e){var n=t.pos,r=t.size,i=Math.min(0,n[1]-h),o=Math.max(b,n[1]-h+r);return a.createElement("div",{className:sr("line","vertical","guideline","dashed"),key:"verticalDashedGuidline"+e,style:{top:v+i+"px",left:-u+n[0]+"px",height:o-i+"px"}})}),D.map(function(t,e){return a.createElement("div",{className:sr("line","vertical","guideline","target","bold"),key:"verticalTargetGuidline"+e,style:{top:v+"px",left:-u+t+"px",height:b+"px"}})}),R.map(function(t,e){return a.createElement("div",{className:sr("line","horizontal","guideline","target","bold"),key:"horizontalTargetGuidline"+e,style:{top:-s+t+"px",left:d+"px",width:_+"px"}})}),M.map(function(t,e){var n=t.pos,r=t.size,i=t.element;return a.createElement("div",{className:sr("line","vertical","guideline",i?"bold":""),key:"verticalGuidline"+e,style:{top:v-h+n[1]+"px",left:-u+n[0]+"px",height:r+"px"}})}),P.map(function(t,e){var n=t.pos,r=t.size,i=t.element;return a.createElement("div",{className:sr("line","horizontal","guideline",i?"bold":""),key:"horizontalGuidline"+e,style:{top:-s+n[1]+"px",left:d-p+n[0]+"px",width:r+"px"}})}))},dragStart:function(t,e){t.state.snapDirection=!0,di(t)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:ei,dragControlStart:function(t,e){t.state.snapDirection=null,di(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){t.state.snapDirection=!0,di(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t,e){t.state.snapDirection=null,di(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapDirection=null}},Di={name:"draggable",props:{draggable:Boolean,throttleDrag:Number},dragStart:function(t,e){var n=e.datas,r=e.parentEvent,i=e.parentDragger,o=t.state,a=o.targetTransform,s=o.target;if(o.dragger)return!1;o.dragger=i||t.targetDragger;var u=window.getComputedStyle(s);n.datas={},n.left=parseFloat(u.left||"")||0,n.top=parseFloat(u.top||"")||0,n.bottom=parseFloat(u.bottom||"")||0,n.right=parseFloat(u.right||"")||0,n.transform=a,n.startTranslate=[0,0],ni(t,{datas:n}),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1,function(t,e){e.absolutePoses=Rr(t.state)}(t,n);var l=Gr(t,e,{set:function(t){n.startTranslate=t}});return!1!==(r||Tr(t,"onDragStart",l))?n.isDrag=!0:(o.dragger=null,n.isPinch=!1),!!n.isDrag&&l},drag:function(t,e){var n=e.datas,r=e.parentEvent,i=e.parentFlag,o=e.distX,a=e.distY,s=n.isPinch,u=n.isDrag,l=n.prevDist,c=n.prevBeforeDist,f=n.transform,p=n.startTranslate;if(u){var h=t.props,d=h.parentMoveable,v=r?0:h.throttleDrag||0,g=!1;if(!s&&!r&&!i){var m=function(t,e,n,r){var i={isSnap:!1,offset:0},o={isSnap:!1,offset:0};if(!_i(t,"draggable"))return[i,o];var a=br(Pr(r.absolutePoses,[e,n])),s=a.left,u=a.right,l=a.top,c=a.bottom,f=yi(t,{left:s,right:u,top:l,bottom:c,center:(s+u)/2,middle:(l+c)/2},!0),p=vi(t,[s,u],[l,c]);return p.vertical.isBound?(i.offset=p.vertical.offset,i.isSnap=!0):f.vertical.isSnap&&(i.offset=f.vertical.offset,i.isSnap=!0),p.horizontal.isBound?(o.offset=p.horizontal.offset,o.isSnap=!0):f.horizontal.isSnap&&(o.offset=f.horizontal.offset,o.isSnap=!0),[i,o]}(t,o,a,n),_=m[0],b=m[1];g=_.isSnap||b.isSnap,o-=_.offset,a-=b.offset}n.passDistX=o,n.passDistY=a;var y=Fn(ri({datas:n,distX:o,distY:a},!0),p),x=Fn(ri({datas:n,distX:o,distY:a},!1),p);g||(Nr(x,v),Nr(y,v));var E=Bn(y,p),S=Bn(x,p),C=Bn(S,l),w=Bn(E,c);n.prevDist=S,n.prevBeforeDist=E;var M=n.left+E[0],D=n.top+E[1],k=n.right-E[0],P=n.bottom-E[1],R=f+" translate("+S[0]+"px, "+S[1]+"px)";if(r||d||!C.every(function(t){return!t})||!w.some(function(t){return!t})){var O=Gr(t,e,{transform:R,dist:S,delta:C,translate:x,beforeDist:E,beforeDelta:w,beforeTranslate:y,left:M,top:D,right:k,bottom:P,isPinch:s});return r||Tr(t,"onDrag",O),O}}},dragEnd:function(t,e){var n=e.parentEvent,r=e.datas,i=e.isDrag;if(t.state.dragger=null,r.isDrag)return r.isDrag=!1,n||Tr(t,"onDragEnd",Gr(t,e,{isDrag:i})),i},dragGroupStart:function(t,e){var n=e.datas,r=this.dragStart(t,e);if(!r)return!1;var i=ti(t,this,"dragStart",n,e),o=Tr(t,"onDragGroupStart",$n({},r,{targets:t.props.targets,events:i}));return n.isDrag=!1!==o,!!n.isDrag&&r},dragGroup:function(t,e){var n=e.datas;if(n.isDrag){var r=this.drag(t,e),i=e.datas,o=i.passDistX,a=i.passDistY,s=ti(t,this,"drag",n,$n({},e,{distX:o,distY:a}));if(r){var u=$n({targets:t.props.targets,events:s},r);return Tr(t,"onDragGroup",u),u}}},dragGroupEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isDrag)return this.dragEnd(t,e),ti(t,this,"dragEnd",r,e),Tr(t,"onDragGroupEnd",Gr(t,e,{targets:t.props.targets,isDrag:n})),n}};function ki(t,e,n){return $n({},t.dragger.move(e,n),{parentEvent:!0})}var Pi=function(){function t(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={}}var e=t.prototype;return e.dragStart=function(t,e){return this.isDrag=!1,this.isFlag=!1,this.datas={},this.move(t,e)},e.drag=function(t,e){return this.move([t[0]-this.prevX,t[1]-this.prevY],e)},e.move=function(t,e){var n,r;return this.isFlag?(n=this.prevX+t[0],r=this.prevY+t[1],this.isDrag=!0):(this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],n=t[0],r=t[1],this.isFlag=!0),{clientX:this.prevX=n,clientY:this.prevY=r,inputEvent:e,isDrag:this.isDrag,distX:n-this.startX,distY:r-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas,parentEvent:!0,parentDragger:this}},t}();function Ri(t,e,n,r,i){t.startAbsoluteOrigin=[e-i[0]+r[0],n-i[1]+r[1]],t.prevDeg=Rn(t.startAbsoluteOrigin,[e,n])/Math.PI*180,t.startDeg=t.prevDeg,t.loop=0}function Oi(t,e,n,r,i){var o=t.prevDeg,a=t.startDeg,s=t.loop;e<o&&270<o&&e<90?++t.loop:o<e&&o<90&&270<e&&--t.loop;var u=t.loop,l=360*s+o-a+r,c=360*u+e-a+r,f=n*((c=Or(c,i))-l),p=n*(c-r);return t.prevDeg=c-360*u+a-r,[f,p,c]}function Ni(t,e,n,r,i,o){return Oi(t,Rn(t.startAbsoluteOrigin,[n,r])/Math.PI*180,e,i,o)}function Ai(t,e,n,r,i){return"left"===t?[r,e]:"right"===t?[n,i]:"bottom"===t?[i,r]:[e,n]}function zi(t){return le(t,sr("rotation"))}var Gi={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number},render:function(t,e){var n=t.props,r=n.rotatable,i=n.rotationPosition;if(!r)return null;var o=t.state,a=o.pos1,s=o.pos2,u=o.pos3,l=o.pos4,c=o.direction,f=Ai(i,a,s,u,l),p=wr(f,c);return e.createElement("div",{key:"rotation",className:sr("line rotation-line"),style:{transform:"translate("+(f[0][0]+f[1][0])/2+"px, "+(f[0][1]+f[1][1])/2+"px) translateY(-40px) rotate("+p+"rad)"}},e.createElement("div",{className:sr("control","rotation")}))},dragControlCondition:zi,dragControlStart:function(t,e){var n=e.datas,r=e.clientX,i=e.clientY,o=e.parentRotate,a=e.parentFlag,s=e.pinchFlag,u=t.state,l=u.target,c=u.left,f=u.top,p=u.origin,h=u.beforeOrigin,d=u.direction,v=u.beforeDirection,g=u.targetTransform,m=u.pos1,_=u.pos2,b=u.pos3,y=u.pos4;if(!l)return!1;n.transform=g,n.left=c,n.top=f;var x=Ai(t.props.rotationPosition,m,_,b,y),E=function(t,e){var n=t[0],r=t[1],i=Xn([0,-40,1],e);return[(n[0]+r[0])/2+i[0],(n[1]+r[1])/2+i[1]]}(x,wr(x,d));s||a?(n.beforeInfo={prevDeg:o,startDeg:o,loop:0},n.afterInfo={prevDeg:o,startDeg:o,loop:0}):(n.afterInfo={},n.beforeInfo={},Ri(n.afterInfo,r,i,p,E),Ri(n.beforeInfo,r,i,h,E)),n.direction=d,n.beforeDirection=v,n.startRotate=0,n.datas={};var S=Gr(t,e,{set:function(t){n.startRotate=t}}),C=Tr(t,"onRotateStart",S);return n.isRotate=!1!==C,!!n.isRotate&&S},dragControl:function(t,e){var n,r,i,o,a=e.datas,s=e.clientX,u=e.clientY,l=e.parentRotate,c=e.parentFlag,f=e.pinchFlag,p=a.direction,h=a.beforeDirection,d=a.beforeInfo,v=a.afterInfo,g=a.isRotate,m=a.startRotate;if(g){var _,b,y,x,E,S,C=t.props,w=C.throttleRotate,M=void 0===w?0:w,D=C.parentMoveable;if(S=f||c?(_=(n=Oi(v,l,p,m,M))[0],b=n[1],y=n[2],x=(r=Oi(d,l,p,m,M))[0],E=r[1],r[2]):(_=(i=Ni(v,p,s,u,m,M))[0],b=i[1],y=i[2],x=(o=Ni(d,h,s,u,m,M))[0],E=o[1],o[2]),_||x||D){var k=Gr(t,e,{delta:_,dist:b,rotate:y,beforeDist:E,beforeDelta:x,beforeRotate:S,transform:a.transform+" rotate("+b+"deg)",isPinch:!!f});return Tr(t,"onRotate",k),k}}},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isRotate&&(n.isRotate=!1,Tr(t,"onRotateEnd",Gr(t,e,{isDrag:r})),r)},dragGroupControlCondition:zi,dragGroupControlStart:function(t,e){var n=e.datas,u=e.inputEvent,r=t.state,l=r.left,c=r.top,f=r.beforeOrigin,i=this.dragControlStart(t,e);if(!i)return!1;i.set(t.rotation);var o=ti(t,this,"dragControlStart",n,$n({},e,{parentRotate:0}),function(t,e,n){var r=t.state,i=r.left,o=r.top,a=r.beforeOrigin,s=Fn(Bn([i,o],[l,c]),Bn(a,f));e.prevClient=s,n.dragStart=Di.dragStart(t,(new Pi).dragStart(s,u))}),a=Tr(t,"onRotateGroupStart",$n({},i,{targets:t.props.targets,events:o}));return n.isRotate=!1!==a,!!n.isRotate&&i},dragGroupControl:function(e,t){var p=t.inputEvent,n=t.datas;if(n.isRotate){var r=this.dragControl(e,t);if(r){var i=r.beforeDist,h=r.beforeDelta/180*Math.PI,o=ti(e,this,"dragControl",n,$n({},t,{parentRotate:i}),function(t,e,n,r){var i=e.prevClient,o=i[0],a=i[1],s=Xn([o,a],h),u=s[0],l=s[1],c=[u-o,l-a];e.prevClient=[u,l];var f=Di.drag(t,ki(t.state,c,p));n.drag=f});e.rotation=r.beforeRotate;var a=$n({targets:e.props.targets,events:o,set:function(t){e.rotation=t}},r);return Tr(e,"onRotateGroup",a),a}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isRotate)return this.dragControlEnd(t,e),ti(t,this,"dragControlEnd",r,e),Tr(t,"onRotateGroupEnd",Gr(t,e,{targets:t.props.targets,isDrag:n})),n}};function Ti(t,e,n){var r=t.state,i=r.pos1,o=r.pos2,a=r.pos3,s=r.pos4,u=r.rotation,l=t.props.renderDirections,c=void 0===l?e:l,f=[i,o,a,s],p={};return c.forEach(function(t){p[t]=!0}),c.map(function(t){var e=ir[t];return e&&p[t]?n.createElement("div",{className:sr("control","direction",t),"data-direction":t,key:t,style:Sr.apply(void 0,[u].concat(e.map(function(t){return f[t]})))}):null})}function Fi(t,e){return Ti(t,["nw","ne","sw","se","n","w","s","e"],e)}function Bi(t,e){return Ti(t,["nw","ne","sw","se"],e)}var Yi={name:"resizable",ableGroup:"size",updateRect:!0,canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,baseDirection:Array,keepRatio:Boolean},render:function(t,e){var n=t.props,r=n.resizable,i=n.edge;if(r)return i?Bi(t,e):Fi(t,e)},dragControlCondition:ei,dragControlStart:function(t,e){var n,r=e.inputEvent,i=e.pinchFlag,o=e.datas,a=r.target,s=i?[1,1]:kr(a),u=t.state,l=u.target,c=u.width,f=u.height;if(!s||!l)return!1;i||ni(t,{datas:o}),o.datas={},o.direction=s,o.startOffsetWidth=c,o.startOffsetHeight=f,o.prevWidth=0,o.prevHeight=0,n=function(t){var e=window.getComputedStyle(t);return[parseFloat(e.width),parseFloat(e.height)]}(l),o.startWidth=n[0],o.startHeight=n[1],o.transformOrigin=t.props.transformOrigin,o.startDirection=function(t,e){var n=t.props.baseDirection,r=void 0===n?[-1,-1]:n;return[e[0]?e[0]:-1*r[0],e[1]?e[1]:-1*r[1]]}(t,s),o.fixedPosition=hi(t,o.startDirection),o.fixedOriginalPosition=hi(t,s);var p=Gr(t,e,{direction:s,set:function(t){var e=t[0],n=t[1];o.startWidth=e,o.startHeight=n},setOrigin:function(t){o.transformOrigin=t},dragStart:Di.dragStart(t,(new Pi).dragStart([0,0],r))});return!1!==Tr(t,"onResizeStart",p)&&(o.isResize=!0,t.state.snapDirection=s),!!o.isResize&&p},dragControl:function(t,e){var n=e.datas,r=e.distX,i=e.distY,o=e.parentFlag,a=e.pinchFlag,s=e.parentDistance,u=e.parentScale,l=e.inputEvent,c=e.dragClient,f=n.direction,p=n.isResize,h=n.transformOrigin;if(p){var d=n.startWidth,v=n.startHeight,g=n.startOffsetWidth,m=n.startOffsetHeight,_=n.prevWidth,b=n.prevHeight,y=t.props,x=y.throttleResize,E=void 0===x?0:x,S=y.parentMoveable,C=t.props.keepRatio||u,w=f[0]||!f[1],M=w?m/g:g/m,D=0,k=0;if(u)D=(u[0]-1)*g,k=(u[1]-1)*m;else if(a)s&&(k=(D=s)*m/g);else{var P=ri({datas:n,distX:r,distY:i});if(D=f[0]*P[0],k=f[1]*P[1],C&&g&&m){var R=Rn([0,0],P),O=Rn([0,0],f),N=Rn([0,0],[g,m]),A=Math.sqrt(D*D+k*k),z=Math.cos(R-O)*A;f[0]?k=f[1]?(D=Math.cos(N)*z,Math.sin(N)*z):Yr(D=z,w,M):D=Xr(k=z,w,M)}}var G=f[0]||C?Math.max(g+D,0):g,T=f[1]||C?Math.max(m+k,0):m,F=[0,0];if(a||(F=function(t,e,n,r,i){if(!_i(t,"resizable"))return[0,0];var o=t.state;return wi(t,o.matrix,e,n,r,r,i,o.is3d)}(t,G,T,f,n)),C){f[0]&&f[1]&&F[0]&&F[1]&&(Math.abs(F[0])>Math.abs(F[1])?F[1]=0:F[0]=0);var B=!F[0]&&!F[1];B&&(w?G=Or(G,E):T=Or(T,E)),f[0]&&!f[1]||F[0]&&!F[1]||B&&w?T=Yr(G+=F[0],w,M):(!f[0]&&f[1]||!F[0]&&F[1]||B&&!w)&&(G=Xr(T+=F[1],w,M))}else G+=F[0],T+=F[1],F[0]||(G=Or(G,E)),F[1]||(T=Or(T,E));var Y=[(D=(G=Math.round(G))-g)-_,(k=(T=Math.round(T))-m)-b];if(n.prevWidth=D,n.prevHeight=k,S||!Y.every(function(t){return!t})){var X=C||o?f:n.startDirection,H=c||(C?n.fixedOriginalPosition:n.fixedPosition),W=!o&&a?[0,0]:pi(t,G,T,X,H,h),I=Gr(t,e,{width:d+D,height:v+k,offsetWidth:G,offsetHeight:T,direction:f,dist:[D,k],delta:Y,isPinch:!!a,drag:Di.drag(t,ki(t.state,W,l))});return Tr(t,"onResize",I),I}}},dragControlAfter:function(t,e){var n=e.datas,r=n.isResize,i=n.startOffsetWidth,o=n.startOffsetHeight,a=n.prevWidth,s=n.prevHeight;if(r){var u=t.state,l=u.width-(i+a),c=u.height-(o+s),f=3<Math.abs(l),p=3<Math.abs(c);return f&&(n.startWidth+=l,n.startOffsetWidth+=l,n.prevWidth+=l),p&&(n.startHeight+=c,n.startOffsetHeight+=c,n.prevHeight+=c),f||p?(this.dragControl(t,e),!0):void 0}},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isResize&&(n.isResize=!1,Tr(t,"onResizeEnd",Gr(t,e,{isDrag:r})),r)},dragGroupControlCondition:ei,dragGroupControlStart:function(a,s){var t=s.datas,e=this.dragControlStart(a,s);if(!e)return!1;var u=e.direction,l=si(Rr(a.state),u),n=ti(a,this,"dragControlStart",t,function(t,e){var n=si(Rr(t.state),u),r=Yn(Wn(-a.rotation/180*Math.PI,3),[n[0]-l[0],n[1]-l[1],1],3),i=r[0],o=r[1];return e.originalX=i,e.originalY=o,s}),r=$n({},e,{targets:a.props.targets,events:n}),i=Tr(a,"onResizeGroupStart",r);return t.isResize=!1!==i,!!t.isResize&&e},dragGroupControl:function(o,a){var t=a.datas;if(t.isResize){var e=this.dragControl(o,a);if(e){var n=e.offsetWidth,r=e.offsetHeight,i=e.dist,s=[n/(n-i[0]),r/(r-i[1])],u=t.fixedOriginalPosition,l=ti(o,this,"dragControl",t,function(t,e){var n=Yn(Wn(o.rotation/180*Math.PI,3),[e.originalX*s[0],e.originalY*s[1],1],3),r=n[0],i=n[1];return $n({},a,{parentScale:s,dragClient:Fn(u,[r,i])})}),c=$n({targets:o.props.targets,events:l},e);return Tr(o,"onResizeGroup",c),c}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isResize)return this.dragControlEnd(t,e),ti(t,this,"dragControlEnd",r,e),Tr(t,"onResizeGroupEnd",Gr(t,e,{targets:t.props.targets,isDrag:n})),n}},Xi={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},render:function(t,e){var n=t.props,r=n.resizable,i=n.scalable,o=n.edge;if(!r&&i)return o?Bi(t,e):Fi(t,e)},dragControlCondition:ei,dragControlStart:function(t,e){var n=e.datas,r=e.pinchFlag,i=e.inputEvent,o=i.target,a=r?[1,1]:kr(o),s=t.state,u=s.width,l=s.height,c=s.targetTransform,f=s.target;if(!a||!f)return!1;r||ni(t,{datas:n}),n.datas={},n.transform=c,n.prevDist=[1,1],n.direction=a,n.width=u,n.height=l,n.startScale=[1,1];var p=Gr(t,e,{direction:a,set:function(t){n.startScale=t},dragStart:Di.dragStart(t,(new Pi).dragStart([0,0],i))});return!1!==Tr(t,"onScaleStart",p)&&(n.isScale=!0,t.state.snapDirection=a),!!n.isScale&&p},dragControl:function(t,e){var n=e.datas,r=e.distX,i=e.distY,o=e.parentScale,a=e.parentDistance,s=e.parentFlag,u=e.pinchFlag,l=e.inputEvent,c=e.dragClient,f=n.prevDist,p=n.direction,h=n.width,d=n.height,v=n.transform,g=n.isScale,m=n.startScale;if(!g)return!1;var _=t.props,b=_.throttleScale,y=_.parentMoveable,x=t.props.keepRatio||o,E=t.state,S=p[0]||!p[1],C=1,w=1,M=h*m[0],D=d*m[1],k=S?D/M:M/D;if(o)C=o[0],w=o[1];else if(u)a&&(C=(h+a)/h,w=(d+a*d/h)/d);else{var P=ri({datas:n,distX:r,distY:i}),R=p[0]*P[0],O=p[1]*P[1];if(x&&h&&d){var N=Rn([0,0],P),A=Rn([0,0],p),z=Rn([0,0],[M,D]),G=Math.sqrt(R*R+O*O),T=Math.cos(N-A)*G;p[0]?O=p[1]?(R=Math.cos(z)*T,Math.sin(z)*T):Yr(R=T,S,k):R=Xr(O=T,S,k)}C=(h+R)/h,w=(d+O)/d}C=p[0]?C*m[0]:m[0],w=p[1]?w*m[1]:m[1],0===C&&(C=1e-9*(0<f[0]?1:-1)),0===w&&(w=1e-9*(0<f[1]?1:-1));var F,B=[C/m[0],w/m[1]],Y=p;if(t.props.groupable){Y=[(0<=B[0]?1:-1)*p[0],(0<=B[1]?1:-1)*p[1]];var X=E.snapDirection;se(X)&&(X[0]||X[1])&&(E.snapDirection=Y)}var H=[0,0];if(u||(H=function(t,e,n,r,i){var o=i.width,a=i.height;if(!_i(t,"scalable"))return[0,0];var s=wi(t,fi(i,e),o,a,n,r,i,i.is3d);return[s[0]/o,s[1]/a]}(t,B,p,Y,n)),x){p[0]&&p[1]&&H[0]&&H[1]&&(Math.abs(H[0])>Math.abs(H[1])?H[1]=0:H[0]=0);var W=!H[0]&&!H[1];if(W&&(S?B[0]=Or(B[0]*m[0],b)/m[0]:B[1]=Or(B[1]*m[1],b)/m[1]),p[0]&&!p[1]||H[0]&&!H[1]||W&&S){B[0]+=H[0];var I=Yr(h*B[0]*m[0],S,k);B[1]=I/d/m[1]}else if(!p[0]&&p[1]||!H[0]&&H[1]||W&&!S){B[1]+=H[1];var L=Xr(d*B[1]*m[1],S,k);B[0]=L/h/m[0]}}else B[0]+=H[0],B[1]+=H[1],H[0]||(B[0]=Or(B[0]*m[0],b)/m[0]),H[1]||(B[1]=Or(B[1]*m[1],b)/m[1]);0===B[0]&&(B[0]=1e-9*(0<f[0]?1:-1)),0===B[1]&&(B[1]=1e-9*(0<f[1]?1:-1));var j=[B[0]/f[0],B[1]/f[1]];if(F=ar(B,m),n.prevDist=B,C===f[0]&&w===f[1]&&!y)return!1;var U=!s&&u?[0,0]:function(t,e,n,r){var i=t.state,o=i.is3d,a=i.left,s=i.top,u=i.width,l=i.height,c=o?4:3,f=t.props.groupable,p=fi(t.state,e),h=f?a:0,d=f?s:0;return Bn(li(r||ui(Rr(t.state),n),p,u,l,c,n),[h,d])}(t,j,p,c),V=Gr(t,e,{scale:F,direction:p,dist:B,delta:j,transform:v+" scale("+C+", "+w+")",isPinch:!!u,drag:Di.drag(t,ki(t.state,U,l))});return Tr(t,"onScale",V),V},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isScale&&(n.isScale=!1,Tr(t,"onScaleEnd",Gr(t,e,{isDrag:r})),r)},dragGroupControlCondition:ei,dragGroupControlStart:function(a,s){var t=s.datas,e=this.dragControlStart(a,s);if(!e)return!1;var u=e.direction,l=si(Rr(a.state),u),n=ti(a,this,"dragControlStart",t,function(t,e){var n=si(Rr(t.state),u),r=Yn(Wn(-a.rotation/180*Math.PI,3),[n[0]-l[0],n[1]-l[1],1],3),i=r[0],o=r[1];return e.originalX=i,e.originalY=o,s}),r=$n({},e,{targets:a.props.targets,events:n}),i=Tr(a,"onScaleGroupStart",r);return t.isScale=!1!==i,!!t.isScale&&r},dragGroupControl:function(o,a){var t=a.datas;if(t.isScale){var e=this.dragControl(o,a);if(e){var s=e.scale,n=e.direction,r=e.dist,u=si(Rr(o.state),ar(n,r)),i=ti(o,this,"dragControl",t,function(t,e){var n=Yn(Wn(o.rotation/180*Math.PI,3),[e.originalX*s[0],e.originalY*s[1],1],3),r=n[0],i=n[1];return $n({},a,{parentScale:s,dragClient:Fn(u,[r,i])})}),l=$n({targets:o.props.targets,events:i},e);return Tr(o,"onScaleGroup",l),l}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isScale)return this.dragControlEnd(t,e),ti(t,this,"dragControlEnd",r,e),Tr(t,"onScaleGroupEnd",Gr(t,e,{targets:t.props.targets,isDrag:n})),n}};function Hi(t,n){return t.map(function(t,e){return function(t,e,n,r){return(t*r+e*n)/(n+r)}(t,n[e],1,2)})}function Wi(t,e,n){var r=Rn(t,e),i=Rn(t,n)-r;return 0<=i?i:i+2*Math.PI}var Ii={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},render:function(t,e){var n=t.props,r=n.resizable,i=n.scalable,o=n.warpable;if(!r&&!i&&o){var a=t.state,s=a.pos1,u=a.pos2,l=a.pos3,c=a.pos4,f=Hi(s,u),p=Hi(u,s),h=Hi(s,l),d=Hi(l,s),v=Hi(l,c),g=Hi(c,l),m=Hi(u,c),_=Hi(c,u);return[e.createElement("div",{className:sr("line"),key:"middeLine1",style:Er(f,v)}),e.createElement("div",{className:sr("line"),key:"middeLine2",style:Er(p,g)}),e.createElement("div",{className:sr("line"),key:"middeLine3",style:Er(h,m)}),e.createElement("div",{className:sr("line"),key:"middeLine4",style:Er(d,_)})].concat(Fi(t,e))}},dragControlCondition:function(t){return le(t,sr("direction"))},dragControlStart:function(t,e){var r=e.datas,n=e.inputEvent,i=t.props.target,o=kr(n.target);if(!o||!i)return!1;var a=t.state,s=a.transformOrigin,u=a.is3d,l=a.targetTransform,c=a.targetMatrix,f=a.width,p=a.height,h=a.left,d=a.top;r.datas={},r.targetTransform=l,r.warpTargetMatrix=u?c:Nn(c,3,4),r.targetInverseMatrix=function(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=t.slice(),i=0;i<n;++i)r[i*n+e-1]=0,r[(e-1)*n+i]=0;return r[(e-1)*(n+1)]=1,r}(kn(r.warpTargetMatrix,4),3,4),r.direction=o,r.left=h,r.top=d,ni(t,{datas:r}),r.poses=[[0,0],[f,0],[0,p],[f,p]].map(function(t,e){return Bn(t,s)}),r.nextPoses=r.poses.map(function(t){var e=t[0],n=t[1];return Yn(r.warpTargetMatrix,[e,n,0,1],4)}),r.startMatrix=In(4),r.prevMatrix=In(4),r.absolutePoses=Rr(a),r.posIndexes=ii(o),a.snapDirection=o;var v=Tr(t,"onWarpStart",Gr(t,e,{set:function(t){r.startMatrix=t}}));return!1!==v&&(r.isWarp=!0),v},dragControl:function(t,e){var n=e.datas,r=e.distX,i=e.distY,o=n.targetInverseMatrix,a=n.prevMatrix,s=n.isWarp,u=n.startMatrix,l=n.poses,c=n.posIndexes,f=n.absolutePoses;if(!s)return!1;if(_i(t,"warpable")){var p=c.map(function(t){return f[t]});1<p.length&&p.push([(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]);var h=bi(t,p.map(function(t){return t[0]+r}),p.map(function(t){return t[1]+i})),d=h.horizontal.offset,v=h.vertical.offset;i-=d,r-=v}var g=ri({datas:n,distX:r,distY:i},!0),m=n.nextPoses.slice();if(c.forEach(function(t){m[t]=Fn(m[t],g)}),!tr.every(function(t){return function(t,e){var n=Wi(t[0],t[1],t[2]),r=Wi(e[0],e[1],e[2]),i=Math.PI;return!(i<=n&&r<=i||n<=i&&i<=r)}(t.map(function(t){return l[t]}),t.map(function(t){return m[t]}))}))return!1;var _=Un(l[0],l[1],l[2],l[3],m[0],m[1],m[2],m[3]);if(!_.length)return!1;var b=Hn(zn(o,_,4)),y=n.targetTransform+" matrix3d("+b.join(",")+")";return Tr(t,"onWarp",Gr(t,e,{delta:Gn(kn(a,4),b,4),matrix:Gn(u,n.prevMatrix=b,4),multiply:Gn,dist:b,transform:y})),!0},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isWarp&&(n.isWarp=!1,Tr(t,"onWarpEnd",Gr(t,e,{isDrag:r})),r)}},Li=sr("area"),ji=sr("area-pieces"),Ui=sr("area-piece"),Vi=sr("avoid");function qi(t){var e=t.areaElement,n=t.state,r=n.width,i=n.height;!function(t,e){if(t.classList)t.classList.remove(e);else{var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}(e,Vi),e.style.cssText+="left: 0px; top: 0px; width: "+r+"px; height: "+i+"px"}function $i(t){return t.createElement("div",{key:"area_pieces",className:ji},t.createElement("div",{className:Ui}),t.createElement("div",{className:Ui}),t.createElement("div",{className:Ui}),t.createElement("div",{className:Ui}))}var Zi={name:"dragArea",props:{dragArea:Boolean},render:function(t,e){var n=t.props,r=n.target,i=n.dragArea,o=n.groupable,a=t.state,s=a.width,u=a.height,l=a.pos1,c=a.pos2,f=a.pos3,p=a.pos4;if(o)return[e.createElement("div",{key:"area",ref:g(t,"areaElement"),className:Li}),$i(e)];if(!r||!i)return[];var h=Un([0,0],[s,0],[0,u],[s,u],l,c,f,p),d=h.length?"matrix3d("+Hn(h).join(",")+")":"none";return[e.createElement("div",{key:"area",ref:g(t,"areaElement"),className:Li,style:{top:"0px",left:"0px",width:s+"px",height:u+"px",transformOrigin:"0 0",transform:d}}),$i(e)]},dragStart:function(t,e){var n=e.datas,r=e.clientX,i=e.clientY,o=e.inputEvent;n.isDragArea=!1,n.inputTarget=o.target;var a=t.areaElement,s=t.state,u=s.clientRect,l=s.pos1,c=s.pos2,f=s.pos3,p=s.pos4,h=u.left,d=u.top,v=u.width,g=u.height,m=br([l,c,f,p]),_=m.left,b=m.top,y=r-h,x=i-d,E=[{left:_,top:b,width:v,height:x-10},{left:_,top:b,width:y-10,height:g},{left:_,top:b+x+10,width:v,height:g-x-10},{left:_+y+10,top:b,width:v-y-10,height:g}],S=[].slice.call(a.nextElementSibling.children);E.forEach(function(t,e){S[e].style.cssText="left: "+t.left+"px;top: "+t.top+"px; width: "+t.width+"px; height: "+t.height+"px;"}),function(t,e){t.classList?t.classList.add(e):t.className+=" "+e}(a,Vi)},drag:function(t,e){var n=e.datas;n.isDragArea||(n.isDragArea=!0,qi(t))},dragEnd:function(t,e){var n=e.inputEvent,r=e.isDragArea;e.datas.isDragArea||qi(t);var i=t.state.target,o=n.target;if(!r&&!t.isMoveableElement(o)){var a=i.contains(o);Tr(t,"onClick",Gr(t,e,{inputTarget:o,isTarget:i===o,containsTarget:a}))}},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t,e){this.drag(t,e)},dragGroupEnd:function(t,e){var n=e.inputEvent,r=e.isDragArea,i=e.datas;r||qi(t);var o=i.inputTarget,a=n.target;if(!r&&!t.isMoveableElement(a)&&o!==a){var s=t.props.targets,u=s.indexOf(a),l=-1<u,c=!1;-1===u&&(c=-1<(u=function(t,e,n){void 0===n&&(n=-1);for(var r=t.length,i=0;i<r;++i)if(e(t[i],i,t))return i;return n}(s,function(t){return t.contains(a)}))),Tr(t,"onClickGroup",Gr(t,e,{targets:s,inputTarget:a,targetIndex:u,isTarget:l,containsTarget:c}))}}},Ki={name:"origin",props:{origin:Boolean},render:function(t,e){if(!t.props.origin)return null;var n=t.state,r=n.beforeOrigin,i=n.rotation;return[e.createElement("div",{className:sr("control","origin"),style:Sr(i,r),key:"beforeOrigin"})]}};function Ji(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var Qi={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number},dragStart:function(t,e){var n=t.props.scrollContainer,r=void 0===n?t.getContainer():n,i=r.getBoundingClientRect(),o=e.datas;o.scrollContainer=r,o.scrollRect={left:i.left,top:i.top,width:i.width,height:i.height},o.isScroll=!0},drag:function(t,e){this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.isScroll=!1},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t,e){this.drag(t,$n({},e,{targets:t.props.targets}))},dragGroupEnd:function(t,e){this.dragEnd(t,e)},checkScroll:function(r,t){var i=t.datas,o=t.inputEvent,a=t.clientX,s=t.clientY,e=t.isScroll,n=t.targets;if(i.isScroll){e||(i.prevClientX=a,i.prevClientY=s);var u=r.props,l=u.scrollThreshold,c=void 0===l?0:l,f=u.getScrollPosition,p=void 0===f?Ji:f,h=i.scrollContainer,d=i.scrollRect,v=[0,0];if(d.top>s-c?v[1]=-1:d.top+d.height<s+c&&(v[1]=1),d.left>a-c?v[0]=-1:d.left+d.width<a+c&&(v[0]=1),v[0]||v[1]){var g=p({scrollContainer:h,direction:v}),m=Gr(r,t,{scrollContainer:h,direction:v}),_=n?"onScrollGroup":"onScroll";n&&(m.targets=n),Tr(r,_,m),requestAnimationFrame(function(){if(i.prevClientX===a&&i.prevClientY===s){var t=p({scrollContainer:h,direction:v}),e=t[0]-g[0],n=t[1]-g[1];(e||n)&&(r.targetDragger.scrollBy(v[0]?e:0,v[1]?n:0,o,!1),setTimeout(function(){i.prevClientX===a&&i.prevClientY===s&&r.targetDragger.onDrag(o,!0)},10))}})}}}},to=[{name:"",props:{target:Object,container:Object,dragArea:Boolean,origin:Boolean,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number}},Mi,Qr,Di,Gi,Yi,Xi,Ii,Qi,Zi,Ki],eo={name:"groupable",props:{defaultGroupRotate:Number,groupable:Boolean},render:function(n,r){var t=n.props.targets||[];n.moveables=[];var e=n.state,i={left:e.left,top:e.top};return t.map(function(t,e){return r.createElement(Kr,{key:e,ref:function(e,n,r){return function(t){t&&(e[n][r]=t)}}(n,"moveables",e),target:t,origin:!1,parentMoveable:n,parentPosition:i})}).slice()}};function no(t,o){return Math.max.apply(Math,t.map(function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.max(e[o],n[o],r[o],i[o])}))}function ro(t,o){return Math.min.apply(Math,t.map(function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.min(e[o],n[o],r[o],i[o])}))}var io=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.differ=new Cn,t.moveables=[],t.rotation=0,t}qn(t,n);var e=t.prototype;return e.updateEvent=function(t){var e=this.state,n=this.props;e.target||(e.target=this.areaElement,this.controlBox.getElement().style.display="block",this.targetDragger=Ir(this,e.target,"targetAbles","Group"),this.controlDragger=Ir(this,this.controlBox.getElement(),"controlAbles","GroupControl"));var r=!Hr(t.container,n.container);r&&(e.container=n.container);var i=this.differ.update(n.targets),o=i.added,a=i.changed,s=i.removed;(r||o.length||a.length||s.length)&&this.updateRect()},e.checkUpdate=function(){this.updateAbles()},e.updateRect=function(e,t,n){var r;if(void 0===n&&(n=!0),this.controlBox){this.moveables.forEach(function(t){t.updateRect(e,!1,!1)});var i=this.state,o=this.props,a=i.target||o.target;(!t||""!==e&&o.updateGroup)&&(this.rotation=o.defaultGroupRotate);var s=this.rotation,u=function(t,e){if(!t.length)return[0,0,0,0];var n=t.map(function(t){return Rr(t.state)}),i=nr,o=nr,r=0,a=0,s=Or(e,er);if(s%90){var u=e/180*Math.PI,l=Math.tan(u),c=-1/l,f=[rr,nr],p=[rr,nr];n.forEach(function(t){t.forEach(function(t){var e=t[1]-l*t[0],n=t[1]-c*t[0];f[0]=Math.max(f[0],e),f[1]=Math.min(f[1],e),p[0]=Math.max(p[0],n),p[1]=Math.min(p[1],n)})}),f.forEach(function(r){p.forEach(function(t){var e=(t-r)/(l-c),n=l*e+r;i=Math.min(i,e),o=Math.min(o,n)})});var h=n.map(function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return[Xn(e,-u),Xn(n,-u),Xn(r,-u),Xn(i,-u)]});r=no(h,0)-ro(h,0),a=no(h,1)-ro(h,1)}else if(i=ro(n,0),o=ro(n,1),r=no(n,0)-i,a=no(n,1)-o,s%180){var d=r;r=a,a=d}return[i,o,r,a]}(this.moveables,s),l=u[0],c=u[1],f=u[2],p=u[3];a.style.cssText+="left:0px;top:0px;width:"+f+"px; height:"+p+"px;transform:rotate("+s+"deg)",i.width=f,i.height=p;var h=Mr(a,this.controlBox.getElement(),this.getContainer(),i),d=[h.left,h.top];r=Rr(h),h.pos1=r[0],h.pos2=r[1],h.pos3=r[2],h.pos4=r[3],h.origin=Fn(d,h.origin),h.beforeOrigin=Fn(d,h.beforeOrigin);var v=h.clientRect;v.top+=c-h.top-i.top,v.left+=l-h.left-i.left,this.updateState($n({},h,{left:l-h.left,top:c-h.top}),n)}},e.triggerEvent=function(t,e){if(-1<t.indexOf("Group"))return n.prototype.triggerEvent.call(this,t,e)},e.updateAbles=function(){n.prototype.updateAbles.call(this,this.props.ables.concat([eo]),"Group")},t.defaultProps=$n({},Kr.defaultProps,{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0}),t}(Kr),oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}qn(e,t);var n=e.prototype;return n.render=function(){var t=this.props.ables||[],e=this.props.target||this.props.targets,n=se(e);if(n&&1<e.length){var r=$n({},this.props,{target:null,targets:e,ables:to.concat([eo],t)});return wt(io,$n({key:"group",ref:g(this,"moveable")},r))}var i=n?e[0]:e;return wt(Kr,$n({key:"single",ref:g(this,"moveable")},$n({},this.props,{target:i,ables:to.concat(t)})))},n.isMoveableElement=function(t){return this.moveable.isMoveableElement(t)},n.dragStart=function(t){this.moveable.dragStart(t)},n.isInside=function(t,e){return this.moveable.isInside(t,e)},n.updateRect=function(){this.moveable.updateRect()},n.updateTarget=function(){this.moveable.updateTarget()},n.getRect=function(){return this.moveable.getRect()},n.destroy=function(){this.moveable.componentWillUnmount()},e}(zt),ao=function(n){function t(t){var e=n.call(this,t)||this;return e.state={},e.state=e.props,e}return i(t,n),t.prototype.render=function(){return Et(f(oo,s({ref:g(this,"preactMoveable")},this.state)),this.state.parentElement)},t}(w),so=["draggable","resizable","scalable","rotatable","warpable","pinchable","snappable","origin","target","edge","throttleDrag","throttleResize","throttleScale","throttleRotate","keepRatio","dragArea","pinchThreshold","snapCenter","snapThreshold","horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","className","renderDirections","scrollable","getScrollPosition","scrollContainer","scrollThreshold","baseDirection","snapElement","snapVertical","snapHorizontal"],uo=["dragStart","drag","dragEnd","resizeStart","resize","resizeEnd","scaleStart","scale","scaleEnd","rotateStart","rotate","rotateEnd","warpStart","warp","warpEnd","pinchStart","pinch","pinchEnd","dragGroupStart","dragGroup","dragGroupEnd","resizeGroupStart","resizeGroup","resizeGroupEnd","scaleGroupStart","scaleGroup","scaleGroupEnd","rotateGroupStart","rotateGroup","rotateGroupEnd","pinchGroupStart","pinchGroup","pinchGroupEnd","clickGroup","scroll","scrollGroup","renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],lo=function(a){function t(t,e){void 0===e&&(e={});var n=a.call(this)||this;n.tempElement=document.createElement("div");var r=s({container:t},e),i={};uo.forEach(function(e){i[function(t){return t.replace(/[\s-_]([a-z])/g,function(t,e){return e.toUpperCase()})}("on "+e)]=function(t){return n.trigger(e,t)}}),T(f(ao,s({ref:g(n,"innerMoveable"),parentElement:t},r,i)),n.tempElement);var o=r.target;return se(o)&&1<o.length&&n.updateRect(),n}i(t,a);var e=t.prototype;return e.isMoveableElement=function(t){return this.getMoveable().isMoveableElement(t)},e.updateRect=function(){this.getMoveable().updateRect()},e.dragStart=function(t){this.getMoveable().dragStart(t)},e.isInside=function(t,e){return this.getMoveable().isInside(t,e)},e.getRect=function(){return this.getMoveable().getRect()},e.setState=function(t,e){this.innerMoveable.setState(t,e)},e.updateTarget=function(){this.getMoveable().updateTarget()},e.destroy=function(){T("",this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},e.getMoveable=function(){return this.innerMoveable.preactMoveable},t=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(o<3?i(a):3<o?i(e,n,a):i(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a}([function(n,r){return function(t){var e=t.prototype;n.forEach(function(t){r(e,t)})}}(so,function(t,n){Object.defineProperty(t,n,{get:function(){return this.getMoveable().props[n]},set:function(t){var e;this.setState(((e={})[n]=t,e))},enumerable:!0,configurable:!0})})],t)}(t);return lo.PROPERTIES=so,lo.EVENTS=uo,lo});
//# sourceMappingURL=moveable.min.js.map
